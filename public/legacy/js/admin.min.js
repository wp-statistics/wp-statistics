jQuery(document).ready(function ($) {import{a as t,i as e,n,r as a,t as o}from"../helpers.js";a({"virtual:admin-bundle":(t,a)=>{var i,r,s;i=function(t){var e={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},n="undefined"!=typeof window?window:null,a={hasTouchCapability:!(!n||!("ontouchstart"in n||n.DocumentTouch&&n.document instanceof n.DocumentTouch||n.navigator.maxTouchPoints)),hasTransitions:function(){if(!n)return!1;var t=(n.document.body||n.document.documentElement).style,e="transition",a=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var o=0;o<a.length;o++)if("string"==typeof t[a[o]+e])return!0;return!1}(),IE:!1,semVer:"4.2.8",window:n},o=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=a};function i(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function r(e,n){var a=!0;return t.each(e,function(t,o){if(void 0===n[t]||e[t]!==n[t])return a=!1,!1}),a}function s(e){var n=e.attr("id"),o=n?a.window.document.getElementById(n):null;return o?o===e[0]:t.contains(a.window.document.body,e[0])}o.prototype={__bridge:function(n,a,o){if(!a[o]){var i=function(){};i.prototype=n;var r=new i;r.__init&&r.__init(a),t.each(n,function(t,n){0!=t.indexOf("__")&&(a[t]?e.debug&&console.log("The "+t+" method of the "+o+" plugin conflicts with another plugin or native methods"):(a[t]=function(){return r[t].apply(r,Array.prototype.slice.apply(arguments))},a[t].bridged=r))}),a[o]=r}return this},__setWindow:function(t){return a.window=t,this},_getRuler:function(t){return new i(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var n=this;if("string"==typeof e){var a=e,o=null;return a.indexOf(".")>0?o=n.__plugins[a]:t.each(n.__plugins,function(t,e){if(e.name.substring(e.name.length-a.length-1)=="."+a)return o=e,!1}),o}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[e.name]=e,e.core&&n.__bridge(e.core,n,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each(function(){var e=t(this),a=e.data("tooltipster-ns");a&&t.each(a,function(t,a){n.push(e.data(a))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(n){return t.extend(e,n),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new o,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(n,o){var i=this;if(i._$origin=t(n),i.__options=t.extend(!0,{},e,o),i.__optionsFormat(),!a.IE||a.IE>=i.__options.IEmin){var r=null;if(void 0===i._$origin.data("tooltipster-initialTitle")&&(void 0===(r=i._$origin.attr("title"))&&(r=null),i._$origin.data("tooltipster-initialTitle",r)),null!==i.__options.content)i.__contentSet(i.__options.content);else{var s,l=i._$origin.attr("data-tooltip-content");l&&(s=t(l)),s&&s[0]?i.__contentSet(s.first()):i.__contentSet(r)}i._$origin.removeAttr("title").addClass("tooltipstered"),i.__prepareOrigin(),i.__prepareGC(),t.each(i.__options.plugins,function(t,e){i._plug(e)}),a.hasTouchCapability&&t(a.window.document.body).on("touchmove."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),i._on("created",function(){i.__prepareTooltip()})._on("repositioned",function(t){i.__lastPosition=t.position})}else i.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),n=t.__Content;return t._trigger({type:"format",content:t.__Content,format:function(t){n=t}}),t.__options.functionFormat&&(n=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof n||t.__options.contentAsHTML?e.empty().append(n):e.text(n),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,n=e._$origin,o=e._$origin.is("area");if(o){var i=e._$origin.parent().attr("name");n=t('img[usemap="#'+i+'"]')}var r=n[0].getBoundingClientRect(),s=t(a.window.document),l=t(a.window),c=n,d={available:{document:null,window:null},document:{size:{height:s.height(),width:s.width()}},window:{scroll:{left:a.window.scrollX||a.window.document.documentElement.scrollLeft,top:a.window.scrollY||a.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:r.bottom-r.top,width:r.right-r.left},usemapImage:o?n[0]:null,windowOffset:{bottom:r.bottom,left:r.left,right:r.right,top:r.top}}};if(o){var u=e._$origin.attr("shape"),p=e._$origin.attr("coords");if(p&&(p=p.split(","),t.map(p,function(t,e){p[e]=parseInt(t)})),"default"!=u)switch(u){case"circle":var h=p[0],_=p[1],f=p[2],m=_-f,g=h-f;d.origin.size.height=2*f,d.origin.size.width=d.origin.size.height,d.origin.windowOffset.left+=g,d.origin.windowOffset.top+=m;break;case"rect":var w=p[0],y=p[1],b=p[2],v=p[3];d.origin.size.height=v-y,d.origin.size.width=b-w,d.origin.windowOffset.left+=w,d.origin.windowOffset.top+=y;break;case"poly":for(var x=0,k=0,C=0,E=0,j="even",S=0;S<p.length;S++){var D=p[S];"even"==j?(D>C&&(C=D,0===S&&(x=C)),D<x&&(x=D),j="odd"):(D>E&&(E=D,1==S&&(k=E)),D<k&&(k=D),j="even")}d.origin.size.height=E-k,d.origin.size.width=C-x,d.origin.windowOffset.left+=x,d.origin.windowOffset.top+=k}}for(e._trigger({type:"geometry",edit:function(t){d.origin.size.height=t.height,d.origin.windowOffset.left=t.left,d.origin.windowOffset.top=t.top,d.origin.size.width=t.width},geometry:{height:d.origin.size.height,left:d.origin.windowOffset.left,top:d.origin.windowOffset.top,width:d.origin.size.width}}),d.origin.windowOffset.right=d.origin.windowOffset.left+d.origin.size.width,d.origin.windowOffset.bottom=d.origin.windowOffset.top+d.origin.size.height,d.origin.offset.left=d.origin.windowOffset.left+d.window.scroll.left,d.origin.offset.top=d.origin.windowOffset.top+d.window.scroll.top,d.origin.offset.bottom=d.origin.offset.top+d.origin.size.height,d.origin.offset.right=d.origin.offset.left+d.origin.size.width,d.available.document={bottom:{height:d.document.size.height-d.origin.offset.bottom,width:d.document.size.width},left:{height:d.document.size.height,width:d.origin.offset.left},right:{height:d.document.size.height,width:d.document.size.width-d.origin.offset.right},top:{height:d.origin.offset.top,width:d.document.size.width}},d.available.window={bottom:{height:Math.max(d.window.size.height-Math.max(d.origin.windowOffset.bottom,0),0),width:d.window.size.width},left:{height:d.window.size.height,width:Math.max(d.origin.windowOffset.left,0)},right:{height:d.window.size.height,width:Math.max(d.window.size.width-Math.max(d.origin.windowOffset.right,0),0)},top:{height:Math.max(d.origin.windowOffset.top,0),width:d.window.size.width}};"html"!=c[0].tagName.toLowerCase();){if("fixed"==c.css("position")){d.origin.fixedLineage=!0;break}c=c.parent()}return d},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=t(a.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t,e){return n-t.time>6e4}),s(e._$origin)||e.close(function(){e.destroy()})},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),a.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&a.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}return(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&a.hasTouchCapability)&&(e="",t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&a.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})),(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&a.hasTouchCapability)&&(e="",t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&a.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})),t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,n){e._$tooltip.removeClass(n)}),t.each(e.__options.theme,function(t,n){e._$tooltip.addClass(n)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var n=this;if(n.__options.triggerClose.scroll)n._close(e);else if(s(n._$origin)&&s(n._$tooltip)){var o=null;if(e.target===a.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(e);else{o=n.__geometry();var i=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each(function(e,n){var a=t(n),r=a.css("overflow-x"),s=a.css("overflow-y");if("visible"!=r||"visible"!=s){var l=n.getBoundingClientRect();if("visible"!=r&&(o.origin.windowOffset.left<l.left||o.origin.windowOffset.right>l.right))return i=!0,!1;if("visible"!=s&&(o.origin.windowOffset.top<l.top||o.origin.windowOffset.bottom>l.bottom))return i=!0,!1}if("fixed"==a.css("position"))return!1}),i)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(e);else{var r=o.origin.offset.left-n.__Geometry.origin.offset.left,l=o.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+r,top:n.__lastPosition.coord.top+l})}}n._trigger({type:"scroll",event:e,geo:o})}return n},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(s(t._$origin)&&s(t._$tooltip)){if(t.__options.trackOrigin){var n=t.__geometry(),a=!1;r(n.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?r(n.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(a=!0):r(n.origin.offset,t.__Geometry.origin.offset)&&(a=!0)),a||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var o=e[0].getBoundingClientRect();o.height===t.__contentBcr.height&&o.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=o)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,n,o){var i=this,r=!0;if(i._trigger({type:"close",event:e,stop:function(){r=!1}}),r||o){n&&i.__callbacks.close.push(n),i.__callbacks.open=[],i.__timeoutsClear();var s=function(){t.each(i.__callbacks.close,function(t,n){n.call(i,i,{event:e,origin:i._$origin[0]})}),i.__callbacks.close=[]};if("closed"!=i.__state){var l=!0,c=(new Date).getTime()+i.__options.animationDuration[1];if("disappearing"==i.__state&&c>i.__closingTime&&i.__options.animationDuration[1]>0&&(l=!1),l){i.__closingTime=c,"disappearing"!=i.__state&&i.__stateSet("disappearing");var d=function(){clearInterval(i.__tracker),i._trigger({type:"closing",event:e}),i._$tooltip.off("."+i.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(a.window).off("."+i.__namespace+"-triggerClose"),i.__$originParents.each(function(e,n){t(n).off("scroll."+i.__namespace+"-triggerClose")}),i.__$originParents=null,t(a.window.document.body).off("."+i.__namespace+"-triggerClose"),i._$origin.off("."+i.__namespace+"-triggerClose"),i._off("dismissable"),i.__stateSet("closed"),i._trigger({type:"after",event:e}),i.__options.functionAfter&&i.__options.functionAfter.call(i,i,{event:e,origin:i._$origin[0]}),s()};a.hasTransitions?(i._$tooltip.css({"-moz-animation-duration":i.__options.animationDuration[1]+"ms","-ms-animation-duration":i.__options.animationDuration[1]+"ms","-o-animation-duration":i.__options.animationDuration[1]+"ms","-webkit-animation-duration":i.__options.animationDuration[1]+"ms","animation-duration":i.__options.animationDuration[1]+"ms","transition-duration":i.__options.animationDuration[1]+"ms"}),i._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),i.__options.animationDuration[1]>0&&i._$tooltip.delay(i.__options.animationDuration[1]),i._$tooltip.queue(d)):i._$tooltip.stop().fadeOut(i.__options.animationDuration[1],d)}}else s()}return i},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var o=this;if(!o.__destroying&&s(o._$origin)&&o.__enabled){var i=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){i=!1}}),i&&o.__options.functionBefore&&(i=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==i&&null!==o.__Content){n&&o.__callbacks.open.push(n),o.__callbacks.close=[],o.__timeoutsClear();var r,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)r=0,"disappearing"===o.__state?(o.__stateSet("appearing"),a.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),r=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),a.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),t(a.window).on("resize."+o.__namespace+"-triggerClose",function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(o._$tooltip[0],n[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,n){t(n).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&a.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(p=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(p)):o._close(t):clearTimeout(p)});var c=o._$origin,d="",u="",p=null;o.__options.interactive&&(c=c.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(d+="mouseenter."+o.__namespace+"-triggerClose ",u+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&a.hasTouchCapability&&(d+="touchstart."+o.__namespace+"-triggerClose",u+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),c.on(u,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(d,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&a.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="",n=t(a.window.document.body);o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&a.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),n.on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&a.hasTouchCapability&&n.on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}o.__options.timer>0&&(p=setTimeout(function(){o._close()},o.__options.timer+r),o.__timeouts.close.push(p))}}return o},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var a=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;a[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},a[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var a=this,o=t.extend(!0,{},n),i=a.__options[e];return i||(i={},t.each(n,function(t,e){var n=a.__options[t];void 0!==n&&(i[t]=n)})),t.each(o,function(e,n){void 0!==i[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof i[e]||i[e]instanceof Array||null==i[e]?o[e]=i[e]:t.extend(o[e],i[e]))}),o},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),a=this.__touchEvents.length-1;a>=0;a--){var o=this.__touchEvents[a];if(!(n-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var a=this.__touchEvents[n];if("touchmove"==a.type){e=!0;break}if("touchstart"==a.type&&t===a.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var a=t.tooltipster._plugin(e);a.instance&&t.each(a.instance,function(t,a){n[t]&&n[t].bridged===n[e]&&delete n[t]}),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(a.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;if(e.__destroyed)e.__destroyError();else{"closed"!=e.__state?e.option("animationDuration",0)._close(null,null,!0):e.__timeoutsClear(),e._trigger("destroy"),e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t(a.window.document.body).off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var o=null;"previous"==e.__options.restoration?o=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(o="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),o&&e._$origin.attr("title",o),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t,n){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t,n){return e!==t}),clearInterval(e.__garbageCollector)}return e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&s(n._$origin)&&(e||s(n._$tooltip))&&(e||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:t,helper:{geo:n.__Geometry}})),n},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var n=Array.prototype.slice.apply(arguments),a="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof n[0]){var o="#*$~&";return this.each(function(){var e=t(this).data("tooltipster-ns"),i=e?t(this).data(e[0]):null;if(!i)throw new Error("You called Tooltipster's \""+n[0]+'" method on an uninitialized element');if("function"!=typeof i[n[0]])throw new Error('Unknown method "'+n[0]+'"');this.length>1&&"content"==n[0]&&(n[1]instanceof t||"object"==typeof n[1]&&null!=n[1]&&n[1].tagName)&&!i.__options.contentCloning&&i.__options.debug&&console.log(a);var r=i[n[0]](n[1],n[2]);if(r!==i||"instance"===n[0])return o=r,!1}),"#*$~&"!==o?o:this}t.tooltipster.__instancesLatestArr=[];var i=n[0]&&void 0!==n[0].multiple,r=i&&n[0].multiple||!i&&e.multiple,s=n[0]&&void 0!==n[0].content,l=s&&n[0].content||!s&&e.content,c=n[0]&&void 0!==n[0].contentCloning,d=c&&n[0].contentCloning||!c&&e.contentCloning,u=n[0]&&void 0!==n[0].debug,p=u&&n[0].debug||!u&&e.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!d&&p&&console.log(a),this.each(function(){var e=!1,a=t(this),o=a.data("tooltipster-ns"),i=null;o?r?e=!0:p&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):e=!0,e&&(i=new t.Tooltipster(this,n[0]),o||(o=[]),o.push(i.__namespace),a.data("tooltipster-ns",o),a.data(i.__namespace,i),i.__options.functionInit&&i.__options.functionInit.call(i,i,{origin:this}),i._trigger("init")),t.tooltipster.__instancesLatestArr.push(i)}),this},i.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(a.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom-t.top,width:t.width||t.right-t.left}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),o=this.__$tooltip.outerHeight(),i=n[0].getBoundingClientRect(),r={height:o<=this.constraints.height,width:t.width<=this.constraints.width&&i.width>=n[0].scrollWidth-1};e.fits=r.height&&r.width}return a.IE&&a.IE<=11&&e.size.width!==a.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var l=navigator.userAgent.toLowerCase();-1!=l.indexOf("msie")?a.IE=parseInt(l.split("msie")[1]):-1!==l.toLowerCase().indexOf("trident")&&-1!==l.indexOf(" rv:11")?a.IE=11:-1!=l.toLowerCase().indexOf("edge/")&&(a.IE=parseInt(l.toLowerCase().split("edge/")[1]));var c="tooltipster.sideTip";return t.tooltipster._plugin({name:c,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;e.__options=e.__instance._optionsExtract(c,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1])),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]},"string"==typeof e.__options.side&&(e.__options.side=[e.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")),6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,n){var a,o=this,i=o.__targetFind(n),r=[];o.__instance._$tooltip.detach();var s=o.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(s),c=!1,d=o.__instance.option("animation");switch(d&&s.removeClass("tooltipster-"+d),t.each(["window","document"],function(a,d){var u=null;if(o.__instance._trigger({container:d,helper:n,satisfied:c,takeTest:function(t){u=t},results:r,type:"positionTest"}),1==u||0!=u&&0==c&&("window"!=d||o.__options.viewportAware))for(a=0;a<o.__options.side.length;a++){var p={horizontal:0,vertical:0},h=o.__options.side[a];"top"==h||"bottom"==h?p.vertical=o.__options.distance[h]:p.horizontal=o.__options.distance[h],o.__sideChange(s,h),t.each(["natural","constrained"],function(t,a){if(u=null,o.__instance._trigger({container:d,event:e,helper:n,mode:a,results:r,satisfied:c,side:h,takeTest:function(t){u=t},type:"positionTest"}),1==u||0!=u&&0==c){var s={container:d,distance:p,fits:null,mode:a,outerSize:null,side:h,size:null,target:i[h],whole:null},_=("natural"==a?l.free():l.constrain(n.geo.available[d][h].width-p.horizontal,n.geo.available[d][h].height-p.vertical)).measure();if(s.size=_.size,s.outerSize={height:_.size.height+p.vertical,width:_.size.width+p.horizontal},"natural"==a?n.geo.available[d][h].width>=s.outerSize.width&&n.geo.available[d][h].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=_.fits,"window"==d&&(s.fits?s.whole="top"==h||"bottom"==h?n.geo.origin.windowOffset.right>=o.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=o.__options.minIntersection:n.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=o.__options.minIntersection:s.whole=!1),r.push(s),s.whole)c=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=n.geo.available[d][h].width))return!1}})}}),o.__instance._trigger({edit:function(t){r=t},event:e,helper:n,results:r,type:"positionTested"}),r.sort(function(t,e){return t.whole&&!e.whole?-1:!t.whole&&e.whole?1:t.whole&&e.whole?(n=o.__options.side.indexOf(t.side))<(a=o.__options.side.indexOf(e.side))?-1:n>a?1:"natural"==t.mode?-1:1:t.fits&&!e.fits?-1:!t.fits&&e.fits?1:t.fits&&e.fits?(n=o.__options.side.indexOf(t.side))<(a=o.__options.side.indexOf(e.side))?-1:n>a?1:"natural"==t.mode?-1:1:"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1;var n,a}),(a=r[0]).coord={},a.side){case"left":case"right":a.coord.top=Math.floor(a.target-a.size.height/2);break;case"bottom":case"top":a.coord.left=Math.floor(a.target-a.size.width/2)}switch(a.side){case"left":a.coord.left=n.geo.origin.windowOffset.left-a.outerSize.width;break;case"right":a.coord.left=n.geo.origin.windowOffset.right+a.distance.horizontal;break;case"top":a.coord.top=n.geo.origin.windowOffset.top-a.outerSize.height;break;case"bottom":a.coord.top=n.geo.origin.windowOffset.bottom+a.distance.vertical}"window"==a.container?"top"==a.side||"bottom"==a.side?a.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?a.coord.left=0:a.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:a.coord.left>n.geo.window.size.width-a.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?a.coord.left=n.geo.window.size.width-a.size.width:a.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-a.size.width):a.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?a.coord.top=0:a.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:a.coord.top>n.geo.window.size.height-a.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?a.coord.top=n.geo.window.size.height-a.size.height:a.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-a.size.height):(a.coord.left>n.geo.window.size.width-a.size.width&&(a.coord.left=n.geo.window.size.width-a.size.width),a.coord.left<0&&(a.coord.left=0)),o.__sideChange(s,a.side),n.tooltipClone=s[0],n.tooltipParent=o.__instance.option("parent").parent[0],n.mode=a.mode,n.whole=a.whole,n.origin=o.__instance._$origin[0],n.tooltip=o.__instance._$tooltip[0],delete a.container,delete a.fits,delete a.mode,delete a.outerSize,delete a.whole,a.distance=a.distance.horizontal||a.distance.vertical;var u,p,h,_=t.extend(!0,{},a);if(o.__instance._trigger({edit:function(t){a=t},event:e,helper:n,position:_,type:"position"}),o.__options.functionPosition){var f=o.__options.functionPosition.call(o,o.__instance,n,_);f&&(a=f)}l.destroy(),"top"==a.side||"bottom"==a.side?(u={prop:"left",val:a.target-a.coord.left},p=a.size.width-this.__options.minIntersection):(u={prop:"top",val:a.target-a.coord.top},p=a.size.height-this.__options.minIntersection),u.val<this.__options.minIntersection?u.val=this.__options.minIntersection:u.val>p&&(u.val=p),h=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},a.coord={left:h.left+(a.coord.left-n.geo.origin.windowOffset.left),top:h.top+(a.coord.top-n.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,a.side),n.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:a.coord.left,top:a.coord.top,height:a.size.height,width:a.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(u.prop,u.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:a})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();if(n.length>1&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)),n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var a=n[0];e.top=Math.floor(a.left+(a.right-a.left)/2),a=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(a.top+(a.bottom-a.top)/2),a=n[n.length-1],e.bottom=Math.floor(a.left+(a.right-a.left)/2),a=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(a.top+(a.bottom-a.top)/2)}return e}}}),t},"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t)}):"object"==typeof t?a.exports=i(e("jquery")):i(jQuery),jQuery(document).ready(function(){const t=jQuery(".js-date-range-picker-btn"),e=jQuery(".js-date-range-picker-input"),n=jQuery(".js-date-range-picker-form"),a=jQuery(".wps-js-calendar-field"),o=l.isset(l.global,"options","wp_timezone")?l.global.options.wp_timezone:null;let i=o;function r(t,e){if(!t)return null;let n;if(e&&(e.startsWith("UTC")||e.startsWith("+")||e.startsWith("-"))){const a=e.startsWith("UTC")?e.replace("UTC",""):e;n=moment(t).utcOffset(a)}else n=moment.tz.zone(e)?moment(t).tz(e):moment(t).utc();return n.clone().startOf("day")}if(t.length&&moment.updateLocale("en",{week:{dow:parseInt(l._("start_of_week"))}}),t.length&&e.length&&n.length){function s(){if(i){if(i.startsWith("UTC")||i.startsWith("+")||i.startsWith("-")){const t=i.startsWith("UTC")?i.replace("UTC",""):i;return moment().utcOffset(t)}if(moment.tz.zone(i))return moment().tz(i)}return moment()}t.on("click",function(){e.trigger("click")}),o&&(o.startsWith("+")||o.startsWith("-"))?i=`UTC${o}`:moment.tz.zone(i)||(i="UTC");const c=s();let d={[l._("str_today")]:[r(c.clone(),i),r(c.clone(),i)],[l._("str_yesterday")]:[r(c.clone().subtract(1,"days"),i),r(c.clone().subtract(1,"days"),i)],[l._("str_this_week")]:[r(c.clone().startOf("week"),i),r(c.clone().endOf("week"),i)],[l._("str_last_week")]:[r(c.clone().subtract(1,"week").startOf("week"),i),r(c.clone().subtract(1,"week").endOf("week"),i)],[l._("str_this_month")]:[r(c.clone().startOf("month"),i),r(c.clone().endOf("month"),i)],[l._("str_last_month")]:[r(c.clone().subtract(1,"month").startOf("month"),i),r(c.clone().subtract(1,"month").endOf("month"),i)],[l._("str_7days")]:[r(c.clone().subtract(6,"days"),i),r(c.clone(),i)],[l._("str_28days")]:[r(c.clone().subtract(27,"days"),i),r(c.clone(),i)],[l._("str_30days")]:[r(c.clone().subtract(29,"days"),i),r(c.clone(),i)],[l._("str_90days")]:[r(c.clone().subtract(89,"days"),i),r(c.clone(),i)],[l._("str_6months")]:[r(c.clone().subtract(6,"months"),i),r(c.clone(),i)],[l._("str_year")]:[r(c.clone().startOf("year"),i),r(c.clone().endOf("year"),i)]};function u(){return new URLSearchParams(window.location.search).get("post_id")}if(t.hasClass("js-date-range-picker-all-time")){let y=moment(0);y=u()?l.global.post_creation_date?r(moment(l.global.post_creation_date),i):r(moment(0),i):l.global.initial_post_date?r(moment(l.global.initial_post_date),i):r(moment(0),i),d[l._("all_time")]=[y,r(moment(),i)]}const p=t.attr("data-date-format")?t.attr("data-date-format"):"MM/DD/YYYY",h=t.attr("data-date-create")?t.attr("data-date-create"):null;let _=function(t){const e={d:"DD",j:"D",S:"Do",n:"M",m:"MM",F:"MMMM",M:"MMM",y:"YY",Y:"YYYY"};return t.replace(/([a-zA-Z])/g,t=>e[t]||t)}(p);const f="YYYY-MM-DD";let m=moment(l.global.user_date_range.from).format(f),g=moment(l.global.user_date_range.to).format(f),w=null;if(h){const b=moment(h,[_,"YYYY-MM-DD","YYYY/MM/DD","YYYY-MM-DD HH:mm:ss"],!0);b.isValid()&&(w=b.clone().startOf("day"),moment(m).isBefore(w)&&(m=w.format(f)))}if(t.length&&e.length&&n.length&&!e.data("daterangepicker")&&(e.daterangepicker({autoApply:!0,ranges:d,locale:{customRangeLabel:l._("custom_range")},startDate:m,endDate:g,minDate:w,isInvalidDate:function(t){if(!w)return!1;const e=r(t,i),n=r(w,i);return e.isBefore(n)}}),w)){const v=e.data("daterangepicker").container.find(".ranges li"),x=moment(w).utcOffset(i,!0).startOf("day");v.each(function(){const t=$(this).text(),e=d[t];e&&moment(e[0]).utcOffset(i,!0).startOf("day").isBefore(x)&&$(this).hide()})}if(l.isset(l.global,"request_params","from")&&l.isset(l.global,"request_params","to")){let k=l.global.request_params.from;if(u()&&k&&l.global.post_creation_date){const T=new Date(l.global.post_creation_date),M=new Date(k),Y=new Date(M.getFullYear(),M.getMonth(),M.getDate());if(Y<T){let L=!1;for(const O in d){const q=d[O],P=new Date(q[0]),Q=new Date(q[1]),A=new Date(P.getFullYear(),P.getMonth(),P.getDate()),I=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate());if(Y>=A&&Y<=I){L=!0;break}}L||(k=l.global.post_creation_date)}}const C=l.global.request_params.to;e.data("daterangepicker").setStartDate(moment(k).format("MM/DD/YYYY")),e.data("daterangepicker").setEndDate(moment(C).format("MM/DD/YYYY")),e.data("daterangepicker").updateCalendars();const E=e.data("daterangepicker").chosenLabel,j=moment(k).utcOffset(i,!0),S=moment(C).utcOffset(i,!0);let D;if(j.year()===S.year()){const B=_.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,"");D=`${j.format(B)} - ${S.format(_)}`}else D=`${j.format(_)} - ${S.format(_)}`;"Custom Range"!==E&&("All time"!==E?(D=`<span class="wps-date-range">${E}</span>${D}`,document.querySelector(".js-date-range-picker-btn").classList.add("custom-range")):D=E),t.find("span").html(D)}else{const z=moment(m).utcOffset(i,!0),F=moment(g).utcOffset(i,!0);let W;if(e.data("daterangepicker").setStartDate(moment(m).format("MM/DD/YYYY")),e.data("daterangepicker").setEndDate(moment(g).format("MM/DD/YYYY")),e.data("daterangepicker").updateCalendars(),z.year()===F.year()){const U=_.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,"");W=`${z.format(U)} - ${F.format(_)}`}else W=`${z.format(_)} - ${F.format(_)}`;const N=e.data("daterangepicker").container.find(".ranges li.active").text();e.data("daterangepicker").container.find(".ranges li.active").removeClass("active"),e.data("daterangepicker").container.find('.ranges li[data-range-key="'+N+'"]').addClass("active"),"Custom Range"!==N&&"All time"!==N&&(W=`<span class="wps-date-range">${N}</span>${W}`,document.querySelector(".js-date-range-picker-btn").classList.add("custom-range")),t.find("span").html(W),e.on("show.daterangepicker",function(t,n){e.data("daterangepicker").container.find(".ranges li.active").removeClass("active"),e.data("daterangepicker").container.find('.ranges li[data-range-key="'+N+'"]').addClass("active")})}e.on("show.daterangepicker",function(t,e){const n=e.container;jQuery(n).addClass(t.target.className)}),e.on("apply.daterangepicker",function(a,o){const i=n.find(".js-date-range-picker-input-from").first(),r=n.find(".js-date-range-picker-input-to").first(),s=o.startDate.clone().startOf("day").format("YYYY-MM-DD"),c=o.endDate.clone().startOf("day").format("YYYY-MM-DD");i.val(s),r.val(c);const d=e.data("daterangepicker").chosenLabel;t.find("span").html(d),"All time"!==d?jQuery.ajax({url:l.global.ajax_url,method:"POST",data:{wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_store_date_range",date:{from:s,to:c}},beforeSend:function(){t.addClass("wps-disabled")},complete:function(t){n.submit()}}):n.submit()})}a.length&&(a.daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1998,maxYear:parseInt((new Date).getFullYear()+1),locale:{format:"YYYY-MM-DD"}}),a.on("show.daterangepicker",function(t,e){const n=e.container;jQuery(n).addClass(t.target.className)}),a.on("apply.daterangepicker",function(t,e){jQuery(".wps-today-datepicker").submit()}))}),setTimeout(function(){document.querySelectorAll(".drp-calendar").forEach(t=>{const e=t.querySelectorAll(".calendar-table table thead tr:first-child th");e.length&&(e[0]&&""===e[0].textContent.trim()&&(e[0].innerHTML='<span class="screen-reader-text">Previous Month</span>'),e[2]&&""===e[2].textContent.trim()&&(e[2].innerHTML='<span class="screen-reader-text">Next Month</span>')),t.querySelectorAll(".calendar-table thead tr:nth-child(2) th").forEach(t=>{t.setAttribute("scope","col")})})},300),r=t,s=function(t,e,n){class a extends e.DatasetController{static id="matrix";static version="2.0.1";static defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}}};static overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}};initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,a){const r=this,s="reset"===a,{xScale:l,yScale:c}=r._cachedMeta,d=r.resolveDataElementOptions(e,a),u=r.getSharedOptions(a,t[e],d);for(let p=e;p<e+n;p++){const e=!s&&r.getParsed(p),n=s?l.getBasePixel():l.getPixelForValue(e.x),d=s?c.getBasePixel():c.getPixelForValue(e.y),u=r.resolveDataElementOptions(p,a),{width:h,height:_,anchorX:f,anchorY:m}=u,g={x:o(f,n,h),y:i(m,d,_),width:h,height:_,options:u};r.updateElement(t[p],p,g,a)}r.updateSharedOptions(u,a)}draw(){const t=this,e=t.getMeta().data||[];let n,a;for(n=0,a=e.length;n<a;++n)e[n].draw(t._ctx)}}function o(t,e,n){return"left"===t||"start"===t?e:"right"===t||"end"===t?e-n:e-n/2}function i(t,e,n){return"top"===t||"start"===t?e:"bottom"===t||"end"===t?e-n:e-n/2}function r(t,e){const{x:n,y:a,width:o,height:i}=t.getProps(["x","y","width","height"],e);return{left:n,top:a,right:n+o,bottom:a+i}}function s(t,e,n){return Math.max(Math.min(t,n),e)}function l(t,e,n,a){const o=null===e,i=null===n,s=!(!t||o&&i)&&r(t,a);return s&&(o||e>=s.left&&e<=s.right)&&(i||n>=s.top&&n<=s.bottom)}class c extends e.Element{static id="matrix";static defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:"center",anchorY:"center",width:20,height:20};constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:a,outer:o}=function(t){const e=r(t),a=e.right-e.left,o=e.bottom-e.top,i=function(t,e,a){const o=t.options.borderWidth;let i,r,l,c;return n.isObject(o)?(i=+o.top||0,r=+o.right||0,l=+o.bottom||0,c=+o.left||0):i=r=l=c=+o||0,{t:s(i,0,a),r:s(r,0,e),b:s(l,0,a),l:s(c,0,e)}}(t,a/2,o/2);return{outer:{x:e.left,y:e.top,w:a,h:o},inner:{x:e.left+i.l,y:e.top+i.t,w:a-i.l-i.r,h:o-i.t-i.b}}}(this),i=n.toTRBLCorners(e.borderRadius);t.save(),o.w!==a.w||o.h!==a.h?(t.beginPath(),n.addRoundedRectPath(t,{x:o.x,y:o.y,w:o.w,h:o.h,radius:i}),n.addRoundedRectPath(t,{x:a.x,y:a.y,w:a.w,h:a.h,radius:i}),t.fillStyle=e.backgroundColor,t.fill(),t.fillStyle=e.borderColor,t.fill("evenodd")):(t.beginPath(),n.addRoundedRectPath(t,{x:a.x,y:a.y,w:a.w,h:a.h,radius:i}),t.fillStyle=e.backgroundColor,t.fill()),t.restore()}inRange(t,e,n){return l(this,t,e,n)}inXRange(t,e){return l(this,t,null,e)}inYRange(t,e){return l(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,width:a,height:o}=this.getProps(["x","y","width","height"],t);return{x:e+a/2,y:n+o/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}e.Chart.version.replace(/\./g,"")>400?(e.Chart.register(a,c),t.MatrixController=a,t.MatrixElement=c):(e.Chart.plugins.register(a,c),t.MatrixController=a,t.MatrixElement=c)},"object"==typeof t&&void 0!==a?s(t,n(),o()):"function"==typeof define&&define.amd?define(["exports","chart.js","chart.js/helpers"],s):s((r="undefined"!=typeof globalThis?globalThis:r||self)["chartjs-chart-matrix"]={},r.Chart,r.Chart.helpers),function(e,o){"object"==typeof t&&void 0!==a?o(n()):"function"==typeof define&&define.amd?define(["chart.js"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self).Chart)}(t,function(t){function e(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function n(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function a(t){n(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(t,o){n(2,arguments);var i=a(t),r=e(o);return isNaN(r)?new Date(NaN):r?(i.setDate(i.getDate()+r),i):i}function i(t,o){n(2,arguments);var i=a(t),r=e(o);if(isNaN(r))return new Date(NaN);if(!r)return i;var s=i.getDate(),l=new Date(i.getTime());return l.setMonth(i.getMonth()+r+1,0),s>=l.getDate()?l:(i.setFullYear(l.getFullYear(),l.getMonth(),s),i)}function r(t,o){n(2,arguments);var i=a(t).getTime(),r=e(o);return new Date(i+r)}function s(t,o){n(1,arguments);var i=o||{},r=i.locale,s=r&&r.options&&r.options.weekStartsOn,l=null==s?0:e(s),c=null==i.weekStartsOn?l:e(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=a(t),u=d.getDay(),p=(u<c?7:0)+u-c;return d.setDate(d.getDate()-p),d.setHours(0,0,0,0),d}function l(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function c(t){n(1,arguments);var e=a(t);return e.setHours(0,0,0,0),e}function d(t,e){n(2,arguments);var o=a(t),i=a(e),r=o.getTime()-i.getTime();return r<0?-1:r>0?1:r}function u(t){n(1,arguments);var e=a(t);return!isNaN(e)}function p(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function h(t,e){n(2,arguments);var o=a(t),i=a(e),r=p(o,i),s=Math.abs(function(t,e){n(2,arguments);var a=c(t),o=c(e),i=a.getTime()-l(a),r=o.getTime()-l(o);return Math.round((i-r)/864e5)}(o,i));o.setDate(o.getDate()-r*s);var d=r*(s-(p(o,i)===-r));return 0===d?0:d}function _(t,e){n(2,arguments);var o=a(t),i=a(e);return o.getTime()-i.getTime()}function f(t){n(1,arguments);var e=a(t);return e.setHours(23,59,59,999),e}function m(t){n(1,arguments);var e=a(t),o=e.getMonth();return e.setFullYear(e.getFullYear(),o+1,0),e.setHours(23,59,59,999),e}function g(t,e){n(2,arguments);var o,i=a(t),r=a(e),s=d(i,r),l=Math.abs(function(t,e){n(2,arguments);var o=a(t),i=a(e);return 12*(o.getFullYear()-i.getFullYear())+(o.getMonth()-i.getMonth())}(i,r));if(l<1)o=0;else{1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*l);var c=d(i,r)===-s;(function(t){n(1,arguments);var e=a(t);return f(e).getTime()===m(e).getTime()})(a(t))&&1===l&&1===d(t,r)&&(c=!1),o=s*(l-c)}return 0===o?0:o}var w={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function y(t){return function(e){var n=e||{},a=n.width?String(n.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}var b={date:y({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:y({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:y({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},v={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function x(t){return function(e,n){var a,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,r=o.width?String(o.width):i;a=t.formattingValues[r]||t.formattingValues[i]}else{var s=t.defaultWidth,l=o.width?String(o.width):t.defaultWidth;a=t.values[l]||t.values[s]}return a[t.argumentCallback?t.argumentCallback(e):e]}}function k(t){return function(e,n){var a=String(e),o=n||{},i=o.width,r=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=a.match(r);if(!s)return null;var l,c=s[0],d=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(d)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(d,function(t){return t.test(c)}):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(d,function(t){return t.test(c)}),l=t.valueCallback?t.valueCallback(l):l,{value:l=o.valueCallback?o.valueCallback(l):l,rest:a.slice(c.length)}}}var C,E={code:"en-US",formatDistance:function(t,e,n){var a;return n=n||{},a="string"==typeof w[t]?w[t]:1===e?w[t].one:w[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a},formatLong:b,formatRelative:function(t,e,n,a){return v[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:x({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:x({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:x({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:x({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:x({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(C={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),a=e||{},o=n.match(C.matchPattern);if(!o)return null;var i=o[0],r=n.match(C.parsePattern);if(!r)return null;var s=C.valueCallback?C.valueCallback(r[0]):r[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:n.slice(i.length)}}),era:k({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:k({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:k({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:k({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function j(t,a){return n(2,arguments),r(t,-e(a))}function S(t,e){for(var n=t<0?"-":"",a=Math.abs(t).toString();a.length<e;)a="0"+a;return n+a}var D=function(t,e){var n=t.getUTCFullYear(),a=n>0?n:1-n;return S("yy"===e?a%100:a,e.length)},T=function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):S(n+1,2)},$=function(t,e){return S(t.getUTCDate(),e.length)},M=function(t,e){return S(t.getUTCHours()%12||12,e.length)},Y=function(t,e){return S(t.getUTCHours(),e.length)},L=function(t,e){return S(t.getUTCMinutes(),e.length)},O=function(t,e){return S(t.getUTCSeconds(),e.length)},q=function(t,e){var n=e.length,a=t.getUTCMilliseconds();return S(Math.floor(a*Math.pow(10,n-3)),e.length)};function P(t){n(1,arguments);var e=a(t),o=e.getUTCDay(),i=(o<1?7:0)+o-1;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function Q(t){n(1,arguments);var e=a(t),o=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(o+1,0,4),i.setUTCHours(0,0,0,0);var r=P(i),s=new Date(0);s.setUTCFullYear(o,0,4),s.setUTCHours(0,0,0,0);var l=P(s);return e.getTime()>=r.getTime()?o+1:e.getTime()>=l.getTime()?o:o-1}function A(t){n(1,arguments);var e=a(t),o=P(e).getTime()-function(t){n(1,arguments);var e=Q(t),a=new Date(0);return a.setUTCFullYear(e,0,4),a.setUTCHours(0,0,0,0),P(a)}(e).getTime();return Math.round(o/6048e5)+1}function I(t,o){n(1,arguments);var i=o||{},r=i.locale,s=r&&r.options&&r.options.weekStartsOn,l=null==s?0:e(s),c=null==i.weekStartsOn?l:e(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=a(t),u=d.getUTCDay(),p=(u<c?7:0)+u-c;return d.setUTCDate(d.getUTCDate()-p),d.setUTCHours(0,0,0,0),d}function B(t,o){n(1,arguments);var i=a(t,o),r=i.getUTCFullYear(),s=o||{},l=s.locale,c=l&&l.options&&l.options.firstWeekContainsDate,d=null==c?1:e(c),u=null==s.firstWeekContainsDate?d:e(s.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(r+1,0,u),p.setUTCHours(0,0,0,0);var h=I(p,o),_=new Date(0);_.setUTCFullYear(r,0,u),_.setUTCHours(0,0,0,0);var f=I(_,o);return i.getTime()>=h.getTime()?r+1:i.getTime()>=f.getTime()?r:r-1}function z(t,o){n(1,arguments);var i=a(t),r=I(i,o).getTime()-function(t,a){n(1,arguments);var o=a||{},i=o.locale,r=i&&i.options&&i.options.firstWeekContainsDate,s=null==r?1:e(r),l=null==o.firstWeekContainsDate?s:e(o.firstWeekContainsDate),c=B(t,a),d=new Date(0);return d.setUTCFullYear(c,0,l),d.setUTCHours(0,0,0,0),I(d,a)}(i,o).getTime();return Math.round(r/6048e5)+1}var F={G:function(t,e,n){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var a=t.getUTCFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return D(t,e)},Y:function(t,e,n,a){var o=B(t,a),i=o>0?o:1-o;return"YY"===e?S(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):S(i,e.length)},R:function(t,e){return S(Q(t),e.length)},u:function(t,e){return S(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return S(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return S(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){var a=t.getUTCMonth();switch(e){case"M":case"MM":return T(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return S(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){var o=z(t,a);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):S(o,e.length)},I:function(t,e,n){var a=A(t);return"Io"===e?n.ordinalNumber(a,{unit:"week"}):S(a,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):$(t,e)},D:function(t,e,o){var i=function(t){n(1,arguments);var e=a(t),o=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=o-e.getTime();return Math.floor(i/864e5)+1}(t);return"Do"===e?o.ordinalNumber(i,{unit:"dayOfYear"}):S(i,e.length)},E:function(t,e,n){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){var o=t.getUTCDay(),i=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return S(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){var o=t.getUTCDay(),i=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return S(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){var a=t.getUTCDay(),o=0===a?7:a;switch(e){case"i":return String(o);case"ii":return S(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){var a=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){var a,o=t.getUTCHours();switch(a=12===o?"noon":0===o?"midnight":o/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){var a,o=t.getUTCHours();switch(a=o>=17?"evening":o>=12?"afternoon":o>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var a=t.getUTCHours()%12;return 0===a&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return M(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Y(t,e)},K:function(t,e,n){var a=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(a,{unit:"hour"}):S(a,e.length)},k:function(t,e,n){var a=t.getUTCHours();return 0===a&&(a=24),"ko"===e?n.ordinalNumber(a,{unit:"hour"}):S(a,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):L(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):O(t,e)},S:function(t,e){return q(t,e)},X:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return N(o);case"XXXX":case"XX":return U(o);default:return U(o,":")}},x:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();switch(e){case"x":return N(o);case"xxxx":case"xx":return U(o);default:return U(o,":")}},O:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W(o,":");default:return"GMT"+U(o,":")}},z:function(t,e,n,a){var o=(a._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W(o,":");default:return"GMT"+U(o,":")}},t:function(t,e,n,a){var o=a._originalDate||t;return S(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,n,a){return S((a._originalDate||t).getTime(),e.length)}};function W(t,e){var n=t>0?"-":"+",a=Math.abs(t),o=Math.floor(a/60),i=a%60;if(0===i)return n+String(o);var r=e||"";return n+String(o)+r+S(i,2)}function N(t,e){return t%60==0?(t>0?"-":"+")+S(Math.abs(t)/60,2):U(t,e)}function U(t,e){var n=e||"",a=t>0?"-":"+",o=Math.abs(t);return a+S(Math.floor(o/60),2)+n+S(o%60,2)}var R=F;function H(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}}function G(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}}var V={p:G,P:function(t,e){var n,a=t.match(/(P+)(p+)?/),o=a[1],i=a[2];if(!i)return H(t,e);switch(o){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",H(o,e)).replace("{{time}}",G(i,e))}},X=["D","DD"],K=["YY","YYYY"];function Z(t){return-1!==X.indexOf(t)}function J(t){return-1!==K.indexOf(t)}function tt(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var et=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,at=/^'([^]*?)'?$/,ot=/''/g,it=/[a-zA-Z]/;function rt(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function st(t,o,i){n(2,arguments);var r=i||{},s=r.locale,l=s&&s.options&&s.options.weekStartsOn,c=null==l?0:e(l),d=null==r.weekStartsOn?c:e(r.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=a(t),p=e(o),h=((p%7+7)%7<d?7:0)+p-u.getUTCDay();return u.setUTCDate(u.getUTCDate()+h),u}var lt=/^(1[0-2]|0?\d)/,ct=/^(3[0-1]|[0-2]?\d)/,dt=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ut=/^(5[0-3]|[0-4]?\d)/,pt=/^(2[0-3]|[0-1]?\d)/,ht=/^(2[0-4]|[0-1]?\d)/,_t=/^(1[0-1]|0?\d)/,ft=/^(1[0-2]|0?\d)/,mt=/^[0-5]?\d/,gt=/^[0-5]?\d/,wt=/^\d/,yt=/^\d{1,2}/,bt=/^\d{1,3}/,vt=/^\d{1,4}/,xt=/^-?\d+/,kt=/^-?\d/,Ct=/^-?\d{1,2}/,Et=/^-?\d{1,3}/,jt=/^-?\d{1,4}/,St=/^([+-])(\d{2})(\d{2})?|Z/,Dt=/^([+-])(\d{2})(\d{2})|Z/,Tt=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,$t=/^([+-])(\d{2}):(\d{2})|Z/,Mt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Yt(t,e,n){var a=e.match(t);if(!a)return null;var o=parseInt(a[0],10);return{value:n?n(o):o,rest:e.slice(a[0].length)}}function Lt(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function Ot(t,e){return Yt(xt,t,e)}function qt(t,e,n){switch(t){case 1:return Yt(wt,e,n);case 2:return Yt(yt,e,n);case 3:return Yt(bt,e,n);case 4:return Yt(vt,e,n);default:return Yt(new RegExp("^\\d{1,"+t+"}"),e,n)}}function Pt(t,e,n){switch(t){case 1:return Yt(kt,e,n);case 2:return Yt(Ct,e,n);case 3:return Yt(Et,e,n);case 4:return Yt(jt,e,n);default:return Yt(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function Qt(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function At(t,e){var n,a=e>0,o=a?e:1-e;if(o<=50)n=t||100;else{var i=o+50;n=t+100*Math.floor(i/100)-(t>=i%100?100:0)}return a?n:1-n}var It=[31,28,31,30,31,30,31,31,30,31,30,31],Bt=[31,29,31,30,31,30,31,31,30,31,30,31];function zt(t){return t%400==0||t%4==0&&t%100!=0}var Ft={G:{priority:140,parse:function(t,e,n,a){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,a){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,a){var o=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return qt(4,t,o);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:o});default:return qt(e.length,t,o)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,a){var o=t.getUTCFullYear();if(n.isTwoDigitYear){var i=At(n.year,o);return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}var r="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,a){var o=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return qt(4,t,o);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:o});default:return qt(e.length,t,o)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,a){var o=B(t,a);if(n.isTwoDigitYear){var i=At(n.year,o);return t.setUTCFullYear(i,0,a.firstWeekContainsDate),t.setUTCHours(0,0,0,0),I(t,a)}var r="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(r,0,a.firstWeekContainsDate),t.setUTCHours(0,0,0,0),I(t,a)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,a){return Pt("R"===e?4:e.length,t)},set:function(t,e,n,a){var o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),P(o)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,a){return Pt("u"===e?4:e.length,t)},set:function(t,e,n,a){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,a){switch(e){case"Q":case"QQ":return qt(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,a){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,a){switch(e){case"q":case"qq":return qt(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,a){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,a){var o=function(t){return t-1};switch(e){case"M":return Yt(lt,t,o);case"MM":return qt(2,t,o);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:o});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,a){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,a){var o=function(t){return t-1};switch(e){case"L":return Yt(lt,t,o);case"LL":return qt(2,t,o);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:o});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,a){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,a){switch(e){case"w":return Yt(ut,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,o,i,r){return I(function(t,o,i){n(2,arguments);var r=a(t),s=e(o),l=z(r,i)-s;return r.setUTCDate(r.getUTCDate()-7*l),r}(t,i,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,a){switch(e){case"I":return Yt(ut,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,o,i,r){return P(function(t,o){n(2,arguments);var i=a(t),r=e(o),s=A(i)-r;return i.setUTCDate(i.getUTCDate()-7*s),i}(t,i,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,a){switch(e){case"d":return Yt(ct,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return qt(e.length,t)}},validate:function(t,e,n){var a=zt(t.getUTCFullYear()),o=t.getUTCMonth();return a?e>=1&&e<=Bt[o]:e>=1&&e<=It[o]},set:function(t,e,n,a){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,a){switch(e){case"D":case"DD":return Yt(dt,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return qt(e.length,t)}},validate:function(t,e,n){return zt(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n,a){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,a){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,a){return(t=st(t,n,a)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,a){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+a.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return qt(e.length,t,o);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:o});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,a){return(t=st(t,n,a)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,a){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+a.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return qt(e.length,t,o);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:o});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,a){return(t=st(t,n,a)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,a){var o=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return qt(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(t,{width:"short",context:"formatting",valueCallback:o})||n.day(t,{width:"narrow",context:"formatting",valueCallback:o});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:o});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:o})||n.day(t,{width:"narrow",context:"formatting",valueCallback:o});default:return n.day(t,{width:"wide",context:"formatting",valueCallback:o})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(t,{width:"short",context:"formatting",valueCallback:o})||n.day(t,{width:"narrow",context:"formatting",valueCallback:o})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,o,i,r){return t=function(t,o){n(2,arguments);var i=e(o);i%7==0&&(i-=7);var r=a(t),s=((i%7+7)%7<1?7:0)+i-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+s),r}(t,i,r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,a){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,a){return t.setUTCHours(Qt(n),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,n,a){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,a){return t.setUTCHours(Qt(n),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,n,a){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,a){return t.setUTCHours(Qt(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,a){switch(e){case"h":return Yt(ft,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n,a){var o=t.getUTCHours()>=12;return o&&n<12?t.setUTCHours(n+12,0,0,0):o||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,a){switch(e){case"H":return Yt(pt,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n,a){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,a){switch(e){case"K":return Yt(_t,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,a){return t.getUTCHours()>=12&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,a){switch(e){case"k":return Yt(ht,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n,a){var o=n<=24?n%24:n;return t.setUTCHours(o,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,a){switch(e){case"m":return Yt(mt,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,a){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,a){switch(e){case"s":return Yt(gt,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return qt(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,a){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,a){return qt(e.length,t,function(t){return Math.floor(t*Math.pow(10,3-e.length))})},set:function(t,e,n,a){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,a){switch(e){case"X":return Lt(St,t);case"XX":return Lt(Dt,t);case"XXXX":return Lt(Tt,t);case"XXXXX":return Lt(Mt,t);default:return Lt($t,t)}},set:function(t,e,n,a){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,a){switch(e){case"x":return Lt(St,t);case"xx":return Lt(Dt,t);case"xxxx":return Lt(Tt,t);case"xxxxx":return Lt(Mt,t);default:return Lt($t,t)}},set:function(t,e,n,a){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,a){return Ot(t)},set:function(t,e,n,a){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,a){return Ot(t)},set:function(t,e,n,a){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Wt=Ft,Nt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ut=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rt=/^'([^]*?)'?$/,Ht=/''/g,Gt=/\S/,Vt=/[a-zA-Z]/;function Xt(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}function Kt(t){return t.match(Rt)[1].replace(Ht,"'")}var Zt=36e5,Jt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},te=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ee=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ae(t){return t?parseInt(t):1}function oe(t){return t&&parseFloat(t.replace(",","."))||0}var ie=[31,null,31,30,31,30,31,31,30,31,30,31];function re(t){return t%400==0||t%4==0&&t%100}const se={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};t._adapters._date.override({_id:"date-fns",formats:function(){return se},parse:function(t,o){if(null==t)return null;const i=typeof t;return"number"===i||t instanceof Date?t=a(t):"string"===i&&(t="string"==typeof o?function(t,o,i,r){n(3,arguments);var s=String(t),c=String(o),d=r||{},u=d.locale||E;if(!u.match)throw new RangeError("locale must contain match property");var p=u.options&&u.options.firstWeekContainsDate,h=null==p?1:e(p),_=null==d.firstWeekContainsDate?h:e(d.firstWeekContainsDate);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=u.options&&u.options.weekStartsOn,m=null==f?0:e(f),g=null==d.weekStartsOn?m:e(d.weekStartsOn);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===c)return""===s?a(i):new Date(NaN);var w,y={firstWeekContainsDate:_,weekStartsOn:g,locale:u},b=[{priority:10,subPriority:-1,set:Xt,index:0}],v=c.match(Ut).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,V[e])(t,u.formatLong,y):t}).join("").match(Nt),x=[];for(w=0;w<v.length;w++){var k=v[w];!d.useAdditionalWeekYearTokens&&J(k)&&tt(k,c,t),!d.useAdditionalDayOfYearTokens&&Z(k)&&tt(k,c,t);var C=k[0],S=Wt[C];if(S){var D=S.incompatibleTokens;if(Array.isArray(D)){for(var T=void 0,$=0;$<x.length;$++){var M=x[$].token;if(-1!==D.indexOf(M)||M===C){T=x[$];break}}if(T)throw new RangeError("The format string mustn't contain `".concat(T.fullToken,"` and `").concat(k,"` at the same time"))}else if("*"===S.incompatibleTokens&&x.length)throw new RangeError("The format string mustn't contain `".concat(k,"` and any other token at the same time"));x.push({token:C,fullToken:k});var Y=S.parse(s,k,u.match,y);if(!Y)return new Date(NaN);b.push({priority:S.priority,subPriority:S.subPriority||0,set:S.set,validate:S.validate,value:Y.value,index:b.length}),s=Y.rest}else{if(C.match(Vt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if("''"===k?k="'":"'"===C&&(k=Kt(k)),0!==s.indexOf(k))return new Date(NaN);s=s.slice(k.length)}}if(s.length>0&&Gt.test(s))return new Date(NaN);var L=b.map(function(t){return t.priority}).sort(function(t,e){return e-t}).filter(function(t,e,n){return n.indexOf(t)===e}).map(function(t){return b.filter(function(e){return e.priority===t}).sort(function(t,e){return e.subPriority-t.subPriority})}).map(function(t){return t[0]}),O=a(i);if(isNaN(O))return new Date(NaN);var q=j(O,l(O)),P={};for(w=0;w<L.length;w++){var Q=L[w];if(Q.validate&&!Q.validate(q,Q.value,y))return new Date(NaN);var A=Q.set(q,P,Q.value,y);A[0]?(q=A[0],rt(P,A[1])):q=A}return q}(t,o,new Date,this.options):function(t,a){n(1,arguments);var o=a||{},i=null==o.additionalDigits?2:e(o.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var r,s=function(t){var e,n={},a=t.split(Jt.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?(n.date=null,e=a[0]):(n.date=a[0],e=a[1],Jt.timeZoneDelimiter.test(n.date)&&(n.date=t.split(Jt.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var o=Jt.timezone.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t);if(s.date){var l=function(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:null};var o=a[1]&&parseInt(a[1]),i=a[2]&&parseInt(a[2]);return{year:null==i?o:100*i,restDateString:t.slice((a[1]||a[2]).length)}}(s.date,i);r=function(t,e){if(null===e)return null;var n=t.match(te);if(!n)return null;var a,o,i=!!n[4],r=ae(n[1]),s=ae(n[2])-1,l=ae(n[3]),c=ae(n[4]),d=ae(n[5])-1;if(i)return o=d,(a=c)>=1&&a<=53&&o>=0&&o<=6?function(t,e,n){var a=new Date(0);a.setUTCFullYear(t,0,4);var o=7*(e-1)+n+1-(a.getUTCDay()||7);return a.setUTCDate(a.getUTCDate()+o),a}(e,c,d):new Date(NaN);var u=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(ie[e]||(re(t)?29:28))}(e,s,l)&&function(t,e){return e>=1&&e<=(re(t)?366:365)}(e,r)?(u.setUTCFullYear(e,s,Math.max(r,l)),u):new Date(NaN)}(l.restDateString,l.year)}if(isNaN(r)||!r)return new Date(NaN);var c,d=r.getTime(),u=0;if(s.time&&(u=function(t){var e=t.match(ee);if(!e)return null;var n,a,o,i=oe(e[1]),r=oe(e[2]),s=oe(e[3]);return a=r,o=s,(24===(n=i)?0===a&&0===o:o>=0&&o<60&&a>=0&&a<60&&n>=0&&n<25)?i*Zt+6e4*r+1e3*s:NaN}(s.time),isNaN(u)||null===u))return new Date(NaN);if(!s.timezone){var p=new Date(d+u),h=new Date(0);return h.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),h.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),h}return c=function(t){if("Z"===t)return 0;var e=t.match(ne);if(!e)return 0;var n,a="+"===e[1]?-1:1,o=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return(n=i)>=0&&n<=59?a*(o*Zt+6e4*i):NaN}(s.timezone),isNaN(c)?new Date(NaN):new Date(d+u+c)}(t,this.options)),u(t)?t.getTime():null},format:function(t,o){return function(t,o,i){n(2,arguments);var r=String(o),s=i||{},c=s.locale||E,d=c.options&&c.options.firstWeekContainsDate,p=null==d?1:e(d),h=null==s.firstWeekContainsDate?p:e(s.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=c.options&&c.options.weekStartsOn,f=null==_?0:e(_),m=null==s.weekStartsOn?f:e(s.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var g=a(t);if(!u(g))throw new RangeError("Invalid time value");var w=j(g,l(g)),y={firstWeekContainsDate:h,weekStartsOn:m,locale:c,_originalDate:g};return r.match(nt).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,V[e])(t,c.formatLong,y):t}).join("").match(et).map(function(e){if("''"===e)return"'";var n=e[0];if("'"===n)return function(t){return t.match(at)[1].replace(ot,"'")}(e);var a=R[n];if(a)return!s.useAdditionalWeekYearTokens&&J(e)&&tt(e,o,t),!s.useAdditionalDayOfYearTokens&&Z(e)&&tt(e,o,t),a(w,e,c.localize,y);if(n.match(it))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return e}).join("")}(t,o,this.options)},add:function(t,a,s){switch(s){case"millisecond":return r(t,a);case"second":return function(t,a){return n(2,arguments),r(t,1e3*e(a))}(t,a);case"minute":return function(t,a){return n(2,arguments),r(t,6e4*e(a))}(t,a);case"hour":return function(t,a){return n(2,arguments),r(t,36e5*e(a))}(t,a);case"day":return o(t,a);case"week":return function(t,a){return n(2,arguments),o(t,7*e(a))}(t,a);case"month":return i(t,a);case"quarter":return function(t,a){return n(2,arguments),i(t,3*e(a))}(t,a);case"year":return function(t,a){return n(2,arguments),i(t,12*e(a))}(t,a);default:return t}},diff:function(t,e,o){switch(o){case"millisecond":return _(t,e);case"second":return function(t,e){n(2,arguments);var a=_(t,e)/1e3;return a>0?Math.floor(a):Math.ceil(a)}(t,e);case"minute":return function(t,e){n(2,arguments);var a=_(t,e)/6e4;return a>0?Math.floor(a):Math.ceil(a)}(t,e);case"hour":return function(t,e){n(2,arguments);var a=_(t,e)/36e5;return a>0?Math.floor(a):Math.ceil(a)}(t,e);case"day":return h(t,e);case"week":return function(t,e){n(2,arguments);var a=h(t,e)/7;return a>0?Math.floor(a):Math.ceil(a)}(t,e);case"month":return g(t,e);case"quarter":return function(t,e){n(2,arguments);var a=g(t,e)/3;return a>0?Math.floor(a):Math.ceil(a)}(t,e);case"year":return function(t,e){n(2,arguments);var o=a(t),i=a(e),r=d(o,i),s=Math.abs(function(t,e){n(2,arguments);var o=a(t),i=a(e);return o.getFullYear()-i.getFullYear()}(o,i));o.setFullYear("1584"),i.setFullYear("1584");var l=r*(s-(d(o,i)===-r));return 0===l?0:l}(t,e);default:return 0}},startOf:function(t,e,o){switch(e){case"second":return function(t){n(1,arguments);var e=a(t);return e.setMilliseconds(0),e}(t);case"minute":return function(t){n(1,arguments);var e=a(t);return e.setSeconds(0,0),e}(t);case"hour":return function(t){n(1,arguments);var e=a(t);return e.setMinutes(0,0,0),e}(t);case"day":return c(t);case"week":return s(t);case"isoWeek":return s(t,{weekStartsOn:+o});case"month":return function(t){n(1,arguments);var e=a(t);return e.setDate(1),e.setHours(0,0,0,0),e}(t);case"quarter":return function(t){n(1,arguments);var e=a(t),o=e.getMonth(),i=o-o%3;return e.setMonth(i,1),e.setHours(0,0,0,0),e}(t);case"year":return function(t){n(1,arguments);var e=a(t),o=new Date(0);return o.setFullYear(e.getFullYear(),0,1),o.setHours(0,0,0,0),o}(t);default:return t}},endOf:function(t,o){switch(o){case"second":return function(t){n(1,arguments);var e=a(t);return e.setMilliseconds(999),e}(t);case"minute":return function(t){n(1,arguments);var e=a(t);return e.setSeconds(59,999),e}(t);case"hour":return function(t){n(1,arguments);var e=a(t);return e.setMinutes(59,59,999),e}(t);case"day":return f(t);case"week":return function(t,o){n(1,arguments);var i=o||{},r=i.locale,s=r&&r.options&&r.options.weekStartsOn,l=null==s?0:e(s),c=null==i.weekStartsOn?l:e(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=a(t),u=d.getDay(),p=6+(u<c?-7:0)-(u-c);return d.setDate(d.getDate()+p),d.setHours(23,59,59,999),d}(t);case"month":return m(t);case"quarter":return function(t){n(1,arguments);var e=a(t),o=e.getMonth(),i=o-o%3+3;return e.setMonth(i,0),e.setHours(23,59,59,999),e}(t);case"year":return function(t){n(1,arguments);var e=a(t),o=e.getFullYear();return e.setFullYear(o+1,0,0),e.setHours(23,59,59,999),e}(t);default:return t}}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof a&&a.exports?a.exports=t(e("jquery")):t(jQuery)}(function(t){var e={},n={};t.ajaxq=function(a,o){if(void 0===o)throw"AjaxQ: queue name is not provided";var i=t.Deferred(),r=i.promise();r.success=r.done,r.error=r.fail,r.complete=r.always;var s,l="function"==typeof o,c=l?null:t.extend(!0,{},o);return s=function(){var e=t.ajax.apply(window,[l?o():c]);return e.done(function(){i.resolve.apply(this,arguments)}),e.fail(function(){i.reject.apply(this,arguments)}),e.always(d),e},e[a]?e[a].push(s):(e[a]=[],n[a]=s()),r;function d(){if(e[a]){var t=e[a].shift();t?n[a]=t():(delete e[a],delete n[a])}}},t.each(["getq","postq"],function(e,n){t[n]=function(e,a,o,i,r){return t.isFunction(o)&&(r=r||i,i=o,o=void 0),t.ajaxq(e,{type:"postq"===n?"post":"get",url:a,data:o,success:i,dataType:r})}});var a=function(t){return e.hasOwnProperty(t)&&e[t].length>0||n.hasOwnProperty(t)};t.ajaxq.isRunning=function(t){return t?a(t):function(){for(var t in e)if(a(t))return!0;return!1}()},t.ajaxq.getActiveRequest=function(t){if(!t)throw"AjaxQ: queue name is required";return n[t]},t.ajaxq.abort=function(a){if(!a)throw"AjaxQ: queue name is required";var o=t.ajaxq.getActiveRequest(a);delete e[a],delete n[a],o&&o.abort()},t.ajaxq.clear=function(t){if(t)e[t]&&(e[t]=[]);else for(var n in e)e.hasOwnProperty(n)&&(e[n]=[])}});var l={};l.global="undefined"!=typeof wps_global?wps_global:[],l._=function(t){return t in this.global.i18n?this.global.i18n[t]:""},l.is_active=function(t){return 1===l.global.options[t]},l.ajax_queue={key:"wp-statistics",time:400},l.ajaxQ=function(t,e,n,a,o="GET",i=!0){!1!==t&&"metabox"!==t||(t=l.global.meta_box_api),e.wps_nonce=l.global.rest_api_nonce;let r={url:t,type:o,dataType:"json",crossDomain:!0,cache:!1,data:e,success:function(a){t===l.global.meta_box_api&&!0===i?a.no_data?(jQuery(l.meta_box_inner(e.name)).empty().html(l.no_meta_box_data()),(l.is_active("overview_page")||"index.php"===l.global.page.file)&&l.meta_box_footer(e.name,a)):(jQuery(l.meta_box_inner(e.name)).empty().html(l[n].view(a)),l[n].meta_box_init&&setTimeout(function(){l[n].meta_box_init(a)},150),(l.is_active("overview_page")||"index.php"===l.global.page.file)&&l.meta_box_footer(e.name,a)):l[n](a)},error:function(n,o,r){t===l.global.meta_box_api&&!0===i?jQuery(l.meta_box_inner(e.name)).empty().html(l[a](n.responseText)):l[a](n.responseText)}};t===l.global.meta_box_api&&(r.beforeSend=function(t){t.setRequestHeader("Access-Control-Allow-Origin","*")}),jQuery.ajaxq(l.ajax_queue.key,r)},l.placeholder=function(t=!1){return`\n<div class="wps-ph-item">\n    <div class="wps-ph-col-12">\n        ${l.placeholder_content("picture")}\n        ${l.placeholder_content("line")}\n    </div>\n    `+(!1!==t?t:"")+"\n</div>\n"},l.line_placeholder=function(t=1){let e='<div class="wps-ph-item">';for(let n=0;n<t;n++)e+='\n                <div class="wps-ph-col-12">\n                   <div class="wps-ph-row">\n                    <div class="wps-ph-col-6 big"></div>\n                    <div class="wps-ph-col-4 empty big"></div>\n                    <div class="wps-ph-col-4"></div>\n                    <div class="wps-ph-col-8 empty"></div>\n                    <div class="wps-ph-col-6"></div>\n                    <div class="wps-ph-col-6 empty"></div>\n                    <div class="wps-ph-col-12"></div>\n                     </div>\n                </div>\n            ';return e+="</div>",e},l.rectangle_placeholder=function(t=""){return'\n<div class="wps-ph-item'+(t.length>0?" "+t:"")+`">\n    <div class="wps-ph-col-12">\n        ${l.placeholder_content("picture")}\n    </div>\n</div>\n`},l.placeholder_content=function(t="line"){let e="";switch(t){case"picture":e='<div class="wps-ph-picture"></div>';break;case"line":e='<div class="wps-ph-row">\n                    <div class="wps-ph-col-6 big"></div>\n                    <div class="wps-ph-col-4 empty big"></div>\n                    <div class="wps-ph-col-2 big"></div>\n                    <div class="wps-ph-col-4"></div>\n                    <div class="wps-ph-col-8 empty"></div>\n                    <div class="wps-ph-col-6"></div>\n                    <div class="wps-ph-col-6 empty"></div>\n                    <div class="wps-ph-col-12"></div>\n                     </div>';break;case"circle":e='<div class="wps-ph-col-2"></div>\n                    <div class="wps-ph-col-8">\n                        <div class="wps-ph-avatar"></div>\n                    </div>'}return e},l.exist_tag=function(t){return jQuery(t).length},l.loading_button=function(t){t.classList.add("wps-loading-button")},l.date_picker=function(){const t=jQuery("input[data-wps-date-picker]");t.length&&(t.daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1998,drops:"up",opens:document.getElementById("TB_window")?"center":"right",maxYear:parseInt((new Date).getFullYear()+1),locale:{format:"YYYY-MM-DD"}}),t.on("show.daterangepicker",function(t,e){const n=e.container;jQuery(n).addClass(t.target.className)}))},l.formatNumber=function(t,e=0){if(null===t)return null;if(t=parseFloat(t.toString().trim().replace(/[, ]/g,"")),isNaN(t))return null;if(0===t)return"0";e=!e||e<0?0:e;var n=parseInt(t).toPrecision(2).split("e"),a=1===n.length?0:Math.floor(Math.min(n[1].slice(1),14)/3),o=a<1?t.toFixed(0+e):(t/Math.pow(10,3*a)).toFixed(1+e);return(o<0?o:Math.abs(o))+["","K","M","B","T"][a]},l.vectorMap=function(t){let e=Array(),n={};if(t?.codes?.length>0){const a={};t.codes.forEach((e,n)=>{const o=Number(t.raw_data[n])||0,i=t.data[n];a[e.toLowerCase()]={label:t.labels[n],flag:t.flags[n],visitors_raw:o,visitors:i}});const o=Math.max(1,...Object.values(a).map(t=>t.visitors_raw));Object.keys(a).forEach(t=>{const i=a[t],r=i.visitors_raw/o,s=Math.round(235-185*r),c=Math.round(245-109*r),d=Math.round(255-40*r);n[t]=`rgb(${s}, ${c}, ${d})`,e[t]=`<div class='map-html-marker'>\n                    <div class="map-country-header">\n                        <img src='${i.flag}' \n                            alt="${i.label}" \n                            title='${i.label}' \n                            class='log-tools wps-flag'/> \n                            <span>${i.label}  </span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>${i.visitors}</div>\n                    </div>\n                </div>`})}jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#fff",borderOpacity:.6,color:"#e6e6e6",selectedColor:"#596773",hoverColor:"#596773",colors:n,onLabelShow:function(t,n,a){const o=a.toLowerCase();if(e[o])return void n.html(e[o]);const i=`${l.global.assets_url}/images/flags/${o}.svg`,r=n.text();fetch(i).then(t=>{const e=t.ok?`<img src='${i}' alt="${r}" title="${r}" class='log-tools wps-flag'/>`:"";n.html(`\n                <div class='map-html-marker'>\n                    <div class="map-country-header">\n                        ${e}\n                        <span>${r}</span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>0</div>\n                    </div>\n                </div>\n            `)}).catch(t=>{console.error("Error fetching the image:",t),n.html(`\n                <div class='map-html-marker'>\n                    <div class="map-country-header">\n                        <span>${r}</span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>0</div>\n                    </div>\n                </div>\n            `)})}})},l.select2=function(){jQuery("select[data-type-show=select2]").select2()};var c=jQuery(".wps-select2"),d=jQuery("body"),u=jQuery(".wps-dropdown");if(c.length){const kt=jQuery(".wps-filter-page"),Ct=jQuery(".wps-filter-visitor"),Et=d.hasClass("rtl")?"rtl":"ltr",jt=kt.length?kt:Ct,St=(t,e)=>{c.select2({dropdownParent:t,dir:Et,dropdownAutoWidth:!0,dropdownCssClass:"wps-select2-filter-dropdown",minimumInputLength:1,ajax:{delay:500,url:l.global.ajax_url,dataType:"json",data:function(t){const n={wps_nonce:l.global.rest_api_nonce,search:t.term,action:e,paged:t.page||1};if(l.isset(l.global,"request_params")){const t=l.global.request_params;t.author_id&&(n.author_id=t.author_id),t.page&&(n.page=t.page),t.pt&&(n.post_type=t.pt),t.pid&&(n.post_id=t.pid)}return n},processResults:function(t){return t&&Array.isArray(t.results)?{results:t.results.map(t=>({id:t.id,text:t.text})),pagination:{more:!1}}:(console.error("Expected an array of results but got:",t),{results:[]})},error:function(t,e,n){console.error("AJAX request error:",e,n)}}})};c.select2({dropdownParent:jt,dir:Et,dropdownAutoWidth:!0,dropdownCssClass:"wps-select2-filter-dropdown"}),c.on("select2:open",()=>u.addClass("active")),c.on("select2:close",()=>u.removeClass("active")),c.on("change",function(){const t=jQuery(this).find("option:selected").val();t&&(window.location.href=t)}),kt.length&&(St(kt,"wp_statistics_get_page_filter_items"),kt.on("click",()=>c.select2("open"))),Ct.length&&(St(Ct,"wp_statistics_search_visitors"),Ct.on("click",()=>c.select2("open")))}if(l.tooltip=function(){jQuery(".wps-tooltip").tooltipster({theme:"tooltipster-shadow",contentCloning:!0}),jQuery("body").on("mouseenter touchstart",".wps-tooltip:not(.tooltipstered)",function(){$(this).tooltipster({theme:"tooltipster-shadow"}).tooltipster("open")})},l.tooltip(),l.redirect=function(t){window.location.replace(t)},l.horizontal_bar=function(t,e,n,a){let o=document.getElementById(t);if(o){let t,i=o.parentNode,r=o.nextSibling;i.removeChild(o),Array.isArray(n)||"object"!=typeof n||null===n?Array.isArray(n)||(n=[]):n=Object.values(n),n=n?.map(Number),t=Array.isArray(n)?n.reduce((t,e)=>t+e,0):"object"==typeof n&&null!==n?Object.values(n).reduce((t,e)=>t+e,0):0;let s=document.createElement("div");s.classList.add("wps-horizontal-bar");for(let o=0;o<n.length;o++){let i=t?n[o]/t*100:0,r=i%1==0?i.toFixed(0):i.toFixed(1);r.endsWith(".0")&&(r=r.slice(0,-2));let c=document.createElement("div");c.classList.add("wps-horizontal-bar__item");let d=document.createElement("div");if(d.classList.add("wps-horizontal-bar__label-image-container"),a&&a[o]&&"undefined"!==a[o]){let t=document.createElement("img");t.src=a[o],t.alt=e[o]+" icon",t.classList.add("wps-horizontal-bar__image"),d.appendChild(t)}let u=document.createElement("div");u.innerHTML=e[o],u.setAttribute("aria-label",e[o]),u.classList.add("wps-horizontal-bar__label"),d.appendChild(u),c.appendChild(d);let p=document.createElement("div");p.classList.add("wps-horizontal-bar__data-percent-container");let h=document.createElement("div");h.innerHTML=`<span title="${n[o]}">${l.formatNumber(n[o])}</span><span>${r}%</span>`,h.classList.add("wps-horizontal-bar__data"),p.appendChild(h),c.appendChild(p);let _=document.createElement("div");_.classList.add("wps-horizontal-bar__background"),_.style.width=`${i}%`,c.appendChild(_),s.appendChild(c)}r?i.insertBefore(s,r):i.appendChild(s)}},window.renderHorizontalBar=(t,e,n,a)=>{l.horizontal_bar(t,e,n,a)},l.chart_id=function(t){return"wp-statistics-"+t+"-meta-box-chart"},l.wordpress_postbox_ajax=function(t="enable"){let e=jQuery(".postbox .hndle, .postbox .handlediv");"enable"===t?e.on("click",window.postboxes.handle_click):e.off("click",window.postboxes.handle_click)},l.isset=function(t){let e=Array.prototype.slice.call(arguments,1);for(let n=0;n<e.length;n++){if(!t||!t.hasOwnProperty(e[n]))return!1;t=t[e[n]]}return!0},l.number_format=function(t,e,n,a){if(null==t||!isFinite(t))throw new TypeError("number is not valid");if(!e){let n=t.toString().split(".").length;e=n>1?n:0}n||(n="."),a||(a=",");let o=(t=(t=parseFloat(t).toFixed(e)).replace(".",n)).split(n);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,a),t=o.join(n)},l.set_equal_height=function(t,e){let n=jQuery(t).height(),a=jQuery(e).height(),o=e,i=n;n<a&&(o=t,i=a),jQuery(o).css("height",i+"px")},l.Create_Half_PostBox=function(t,e){return`<div class="postbox-container wps-postbox-half ${t}"><div class="metabox-holder"><div class="meta-box-sortables"> <div class="postbox" id="${e}"> <div class="inside"></div></div></div></div></div>`},l.isIP=function(t){const e="(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]?|0)";return new RegExp(`^${e}\\.${e}\\.${e}\\.${e}$`).test(t)},l.getLinkParams=function(t,e=!1){e||(e=window.location.href);let n=e.match(new RegExp("(?:[?&]"+t+"=)([^&]+)"));return n?n[1]:null},l.sum=function(t){return t.reduce(function(t,e){return t+e},0)},l.no_results=function(){return'<div class="o-wrap o-wrap--no-data wps-center">'+l._("no_result")+"</div>"},jQuery(document).ready(function(){var t=document.querySelectorAll(".wps-head-filters__item");t.forEach(function(t){t.classList.remove("loading"),t.addEventListener("click",function(e){var n=t.querySelector(".dropdown-content");n&&(e.target.classList.contains("disabled")||n.classList.toggle("show"))})});var e=jQuery(".wps-search-dropdown");e.on("click",function(t){t.stopPropagation()}),e.on("input",function(){let t=jQuery(this).val().toLowerCase();jQuery(this).parent().find(".dropdown-item").each(function(){(jQuery(this).text()||jQuery(this).innerText).toLowerCase().indexOf(t)>-1?jQuery(this).show():jQuery(this).hide()})}),window.addEventListener("click",function(e){t.forEach(function(t){let n=t.querySelector(".dropdown-content");n&&!t.contains(e.target)&&n.classList.remove("show")})})}),l.isset(l.global,"request_params","page")&&"help-center"===l.global.request_params.page){const Dt=document.body,Tt="statistics_page_wps_help-center_page";Dt.classList.contains(Tt)||Dt.classList.add(Tt)}jQuery(document).ready(function(){const t=document.querySelector(".wp-header-end"),e=document.querySelector(".notice.notice-warning.update-nag");t&&e&&t.parentNode.insertBefore(e,t.nextSibling),document.querySelectorAll(".wp-has-submenu.menu-top.toplevel_page_wps_overview_page li a").forEach(t=>{t.querySelector(".wps-text-warning")&&t.classList.add("addon-menu")})}),window.renderFormatNum=function(t){return l.formatNumber(t)},window.renderWPSSelect2=function(t){jQuery("select[data-type-show=select2]").select2({dropdownCssClass:t})},l.hex_to_rgba=function(t,e){("string"!=typeof t||"#"!==t[0]||7!==t.length&&4!==t.length)&&(t="#3288D7"),4===t.length&&(t="#"+t[1].repeat(2)+t[2].repeat(2)+t[3].repeat(2)),t=t.replace("#","");let n=parseInt(t.substring(0,2),16),a=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return l.rgba_to_hex(n,a,o,e)},l.rgba_to_hex=function(t,e,n,a){return`#${t.toString(16).padStart(2,"0")}${e.toString(16).padStart(2,"0")}${n.toString(16).padStart(2,"0")}${Math.round(255*a).toString(16).padStart(2,"0")}`};var p=t=>l.formatNumber(t),h=t=>{if(t.getTicks().length>t.options.ticks.maxTicksLimit){const e=t.max-t.min,n=t.options.ticks.maxTicksLimit||1e3;let a=Math.ceil(e/n);t.options.ticks.stepSize=Math.max(1,a)}else(!t.options.ticks.stepSize||t.options.ticks.stepSize<1)&&(t.options.ticks.stepSize=1)},_={total:"#27A765",views:"#7362BF",visitors:"#3288D7","user-visitors":"#3288D7","anonymous-visitors":"#7362BF",published:"#8AC3D0","published-contents":"#8AC3D0","published-products":"#8AC3D0","published-pages":"#8AC3D0","published-posts":"#8AC3D0",posts:"#8AC3D0",downloads:"#3288D7",clicks:"#3288D7",impressions:"#7362BF",Other1:"#3288D7",Other2:"#7362BF",Other3:"#8AC3D0"},f=[.1,.3,.5,.7],m=t=>{let e=t.canvas.parentNode.querySelector("div");if(!e){e=document.createElement("div"),e.classList.add("wps-chart-tooltip"),e.style.opacity=1,e.style.pointerEvents="none",e.style.position="absolute",e.style.transition="all .1s ease";const n=document.createElement("table");n.style.margin="0px",e.appendChild(n),t.canvas.parentNode.appendChild(e)}return e};l.setTooltipPosition=function(t,e,n){const{offsetLeft:a,offsetTop:o,clientWidth:i,clientHeight:r}=e.canvas,{caretX:s,caretY:l}=n,c=t.offsetWidth,d=t.offsetHeight,u=16;let p=a+s+u,h=o+l-d/2;p+c+u>a+i&&(p=a+s-c-u),p<a+u&&(p=a+u),h<o+u&&(h=o+u),h+d+u>o+r&&(h=o+r-d-u),t.style.opacity=1,t.style.left=p+"px",t.style.top=h+"px"};var g=(t,e,n,a,o,i,r)=>{const{chart:s,tooltip:c}=t,d=s.options.plugins.tooltip.unitTime,u=m(s);if(0!==c.opacity){if(c.body){const t=c.title||[],p=c.dataPoints[0].dataIndex,h=s.data.datasets;let _="<div>";const f=l.isset(l.global,"options","wp_date_format")?l.global.options.wp_date_format:"MM/DD/YYYY";let m=y(f);m=m.replace(/\/YYYY|YYYY/g,"").replace(/,\s*$/,"").replace(/^\s*,/,"").trim(),t.forEach(t=>{if("day"===d){const{date:t,day:n}=e.data?e.data.labels[p]:e.labels[p];_+=`<div class="chart-title">${moment(t).format(m)} (${n})</div>`}else _+="month"===d?`<div class="chart-title">${o[p]}</div>`:`<div class="chart-title">${n[p]}</div>`}),h.forEach((t,e)=>{const n=s.getDatasetMeta(e),o=t.label.includes("(Previous)");if(!n.hidden&&!o){const e=t.data[p];_+=`\n                <div class="current-data">\n                    <div>\n                        <span class="current-data__color" style="background-color: ${t.hoverPointBackgroundColor};"></span>\n                        ${t.label}\n                    </div>\n                    <span class="current-data__value">${e.toLocaleString()}</span>\n                </div>`}const l=h.find(e=>e.label===`${t.label} (Previous)`);if(l){const e=s.getDatasetMeta(h.indexOf(l)),n=document.querySelector(".wps-postbox-chart--previousPeriod"),o=n&&n.classList.contains("wps-line-through");if(!e.hidden&&!o){const e=l.data[p]||0;let n=null;if("day"===d){const t=r&&r[p];n=t?`${moment(t.date).format(m)} (${t.day})`:a[p]||"N/A"}else n="month"===d?i[p]:a[p];void 0===n&&(n="N/A"),_+=`\n                    <div class="previous-data">\n                        <div>\n                            <span class="previous-data__colors">\n                                <span class="previous-data__color" style="background-color: ${t.hoverPointBackgroundColor};"></span>\n                                <span class="previous-data__color" style="background-color: ${t.hoverPointBackgroundColor};"></span>\n                            </span>\n                            ${n}\n                        </div>\n                        <span class="previous-data__value"> ${e.toLocaleString()}</span>\n                    </div>`}}}),_+="</div>",u.innerHTML=_,l.setTooltipPosition(u,s,c)}}else u.style.opacity=0},w={id:"drawVerticalLine",beforeDatasetDraw(t){const{ctx:e,scales:{x:n,y:a},tooltip:o,chartArea:{top:i,bottom:r}}=t;if(o&&o._active&&o._active.length){const t=o._active[0].element.x;e.beginPath(),e.strokeStyle="#A9AAAE",e.lineWidth=1,e.setLineDash([6,6]),e.moveTo(t,i),e.lineTo(t,r),e.stroke(),e.setLineDash([])}}},y=t=>{const e={d:"DD",j:"D",S:"Do",n:"M",m:"MM",F:"MMM",M:"MMM",y:"YY",Y:"YYYY"};return t.replace(/([a-zA-Z])/g,t=>e[t]||t)},b=(t,e,n,a,o)=>{const i=a.replace(/\/YYYY|YYYY/g,"").replace(/\/YY|YY/g,"").replace(/[,/\s-]/g," ").trim().replace(/MM|MMM/g,"MMM").replace(/DD|D/g,"D").trim();if("month"===n){const e=i.replace(/\s*D/g,"").replace(/YYYY|YY/g,"").replace(/\/YY|YY/g,"").trim();return moment(t).format(e)}return`${moment(t).format(i)} to ${moment(e).format(i)}`},v=(t,e,n)=>{const a=n.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,"");return`${moment(t).format(a)} to ${moment(e).format(a)}`},x=(t,e,n,a,o)=>{if(!(t&&t.length&&e&&e.length))return console.error("Invalid input: labels or datasets are empty."),{aggregatedLabels:[],aggregatedData:e?e.map(()=>[]):[],monthTooltipTitle:[]};const i=[],r=moment();if("day"===n)return t.forEach(t=>{const e=moment(t.date);i.push(e.isSameOrAfter(r,"day"))}),{aggregatedLabels:t.map(t=>t.formatted_date),aggregatedData:e.map(t=>t.data),monthTooltipTitle:[],isIncompletePeriod:i};const s=[],c=e.map(()=>[]),d=[],u={};if("week"===n){l._("start_of_week")&&moment.updateLocale("en",{week:{dow:parseInt(l._("start_of_week"))}});const o=moment(t[0].date),r=moment(t[t.length-1].date),u=[];let p=o.clone();for(;p.isSameOrBefore(r);){let t=p.clone().startOf("week").add(1,"week"),n=t.clone().subtract(1,"day");n.isAfter(r)&&(n=r.clone()),u.push({start:p.clone(),end:n,key:p.format("YYYY-[W]WW"),data:new Array(e.length).fill(0)}),p=t}t.forEach((t,n)=>{if(t.date){const a=moment(t.date);for(let t of u)if(a.isBetween(t.start,t.end,"day","[]")){e.forEach((e,a)=>{t.data[a]+=e.data[n]||0});break}}}),u.forEach(t=>{const e=b(t.start,t.end,n,a);s.push(e),d.push(v(t.start,t.end,a)),t.data.forEach((t,e)=>{c[e]||(c[e]=[]),c[e].push(t)})}),u.forEach(t=>{const e=t.end.isSameOrAfter(moment(),"day");i.push(e)})}else if("month"===n){const o=moment(t[0].date),r=moment(t[t.length-1].date);let l=o.clone();for(;l.isSameOrBefore(r,"month");){const t=l.format("YYYY-MM");u[t]||(u[t]={startDate:l.clone().startOf("month"),endDate:l.clone().endOf("month"),indices:[]}),l.add(1,"month")}t.forEach((t,e)=>{if(t.date){const n=moment(t.date).format("YYYY-MM");u[n]&&u[n].indices.push(e)}}),Object.keys(u).forEach(o=>{const{startDate:i,endDate:r,indices:l}=u[o],p=moment.max(i,moment(t[0].date)),h=moment.min(r,moment(t[t.length-1].date));if(p.isValid()&&h.isValid()){if(l.length>0){const t=b(p,h,n,a);s.push(t),e.forEach((t,e)=>{const n=l.reduce((e,n)=>e+(t.data[n]||0),0);c[e].push(n)}),d.push(v(p,h,a))}}else console.error(`Invalid date range for monthKey ${o}`)}),Object.keys(u).forEach(t=>{const e=u[t].endDate.isSameOrAfter(moment(),"day");i.push(e)})}return{aggregatedLabels:s,aggregatedData:c,monthTooltipTitle:d,isIncompletePeriod:i}},k={},C=(t,e)=>{const n=document.querySelector(`#${e}`).closest(".o-wrap").querySelector(".js-unitTimeSelect");if(n){const e=n.querySelector(`.wps-unit-time-chart__option[data-value="${t}"]`);if(e)return e.textContent.trim()}return t};function E(t){this.settings={fields:{},...t},this.sourceCache={},this.memoryCache=null,this.predefinedCache={},this.init()}function j(t){this.settings={modalSelector:"#wps-modal-filter",formSelector:"#wp_statistics_visitors_filter_form",resetSelector:".wps-modal-reset-filter",filterWrapperSelector:".wps-modal-filter-form",filterContainerSelector:".filter-select, .filter-input",width:430,height:510,onSubmit:null,onOpen:null,onLoadFilter:null,fields:{},...t},this.formSelector=this.settings.formSelector,this.memoryCache=null,this.filterWrapperSelector=this.settings.filterWrapperSelector,this.filterContainerSelector=this.settings.filterContainerSelector,this.onlySearchableFields=!1,this.fieldTypes=Object.fromEntries(Object.entries(this.settings.fields).map(([t,e])=>e.name&&"page"!==e.name?[e.name,{type:e.type,key:t}]:null).filter(Boolean)),this.fieldTypes=Object.keys(this.fieldTypes),this.initModal()}function S(t){if(this.container=document.querySelector(t),!this.container)throw new Error(`Container ${t} not found`)}l.new_line_chart=function(t,e,n=null,a="line"){(t=>{t.forEach((t,e)=>{t.originalIndex=e}),t.sort((t,e)=>"total"===t.slug?-1:"total"===e.slug?1:"total-previous"===t.slug?-1:"total-previous"===e.slug?1:0)})(t.data.datasets);const o=(i=t,JSON.parse(JSON.stringify(i)));var i;const r=l.isset(l.global,"options","wp_date_format")?l.global.options.wp_date_format:"MM/DD/YYYY";let s=y(r);const c=null!==document.getElementById(e).closest("#dashboard-widgets"),d=t.data.labels.map(t=>t.formatted_date).length;let u=d<=("performance"===a?30:60)?"day":d<=180?"week":"month";const p=[],m=1===t.data.labels.length,b=document.querySelector(`#${e}`).closest(".o-wrap").querySelector(".js-unitTimeSelect");if(b){const t=b.querySelector(".wps-unit-time-chart__selected-item");t&&(t.textContent=C(u,e)),b.querySelectorAll(".wps-unit-time-chart__option").forEach(t=>{t.getAttribute("data-value")===u?t.classList.add("selected"):t.classList.remove("selected")})}const v=x(o.data.labels,o.data.datasets,"day",s),E=x(o.data.labels,o.data.datasets,"week",s),j=x(o.data.labels,o.data.datasets,"month",s),S=o?.previousData?x(o.previousData.labels,o.previousData.datasets,"day",s):null,D=o.previousData?x(o.previousData.labels,o.previousData.datasets,"week",s):null,T=o.previousData?x(o.previousData.labels,o.previousData.datasets,"month",s):null;let $="day"===u?v.aggregatedLabels:"week"===u?E.aggregatedLabels:j.aggregatedLabels,M="day"===u?v.monthTooltipTitle:"week"===u?E.monthTooltipTitle:j.monthTooltipTitle,Y="day"===u?S?S.monthTooltipTitle:[]:"week"===u?D?D.monthTooltipTitle:[]:T?T.monthTooltipTitle:[],L=[],O=[];if(D)for(L=D.aggregatedLabels,O=D.aggregatedData;L.length<$.length;)L.push("N/A"),O.forEach(t=>t.push(0));else L=Array($.length).fill("N/A"),p&&p.length>0&&Array.isArray(p)&&(O=p.map(()=>Array($.length).fill(0)));function q(n){const i=C(n,e),r=document.getElementById(e).parentElement.parentElement.querySelector(".wps-postbox-chart--data")?.querySelector(".wps-postbox-chart--previousPeriod");r&&r.classList.remove("wps-line-through");const s=document.querySelector(`#${e}`).closest(".o-wrap").querySelector(".js-unitTimeSelect");if(s){const t=s.querySelector(".wps-unit-time-chart__selected-item");t&&(t.textContent=i)}let d,u;switch(n){case"day":default:d=v,u=S;break;case"week":d=E,u=D;break;case"month":d=j,u=T}$=d.aggregatedLabels,M=d.monthTooltipTitle,L=u?u.aggregatedLabels:[],Y=u?u.monthTooltipTitle:[],0===L.length&&$.length>0&&(L=Array($.length).fill("N/A"));const p=t.data.datasets.map((e,n)=>{let o=_[t.data.datasets[n].slug]||_[`Other${t.data.datasets[n].originalIndex+1}`],i=f[n%f.length],r="line";"performance"===a&&2===n&&(r="bar");const s="clicks"===e?.slug||"bar"===r?"y1":"y";return{...e,type:r,data:d.aggregatedData[n],borderColor:o,backgroundColor:o,fill:!1,yAxisID:s,borderWidth:"line"===r?2:void 0,pointRadius:"line"===r?1===$.length?5:0:void 0,pointBorderColor:"line"===r?"transparent":void 0,pointBackgroundColor:"line"===r?o:void 0,pointBorderWidth:"line"===r?2:void 0,hoverPointRadius:"line"===r?6:void 0,hoverPointBorderColor:"line"===r?"#fff":void 0,hoverPointBackgroundColor:o,hoverPointBorderWidth:"line"===r?4:void 0,tension:"line"===r?i:void 0,hitRadius:10,meta:{incompletePeriods:d.isIncompletePeriod||[]},segment:"line"===r?{borderDash:t=>{const e=t.chart.data.datasets[t.datasetIndex]?.meta?.incompletePeriods||[],n=e[t.p1DataIndex],a=e[t.p0DataIndex];if(n||a)return[5,5]}}:void 0}});u&&t.previousData.datasets.forEach((e,n)=>{const a=t.data.datasets.find(t=>t.label===e.label)?.slug||e.slug||`Other${n+1}`;let o=_[a]||_[`Other${n+1}`],i=f[n%f.length];p.push({...e,type:"line",label:`${e.label} (Previous)`,data:u.aggregatedData[n],borderColor:l.hex_to_rgba(o,.7),hoverBorderColor:o,backgroundColor:o,fill:!1,yAxisID:"clicks"===e?.slug?"y1":"y",borderWidth:1,borderDash:[5,5],pointRadius:1===d.aggregatedLabels.length?5:0,pointBorderColor:"transparent",pointBackgroundColor:o,pointBorderWidth:2,hoverPointRadius:6,hoverPointBorderColor:"#fff",hoverPointBackgroundColor:o,hoverPointBorderWidth:4,tension:i,hitRadius:10})});const h=p.filter(t=>"y"===t.yAxisID).flatMap(t=>t.data).filter(t=>"number"==typeof t&&!isNaN(t)),m=p.filter(t=>"y1"===t.yAxisID).flatMap(t=>t.data).filter(t=>"number"==typeof t&&!isNaN(t)),w=h.length>0?Math.max(...h):0,y=m.length>0?Math.max(...m):0,b=c?4:7,x=w>0?Math.ceil(w/b):1,k=w>0?x*(b+1):4,O=y>0?Math.ceil(y/7):1,q=y>0?8*O:4;A.options.scales.y.min=0,A.options.scales.y.ticks.stepSize=x,A.options.scales.y.max=k,A.options.scales.y1&&(A.options.scales.y1.min=0,A.options.scales.y1.ticks.stepSize=O,A.options.scales.y1.max=q),A.data.labels=$,A.options.scales.x.offset=1===A.data.labels.length,A.data.datasets=p,A.options.scales.x.ticks.maxTicksLimit=c?"week"===n?2:4:"week"===n?3:"month"===n?7:9,A.options.plugins.tooltip.unitTime=n,A.options.plugins.tooltip.external=t=>g(t,o,$,L,M,Y,o.previousData?o.previousData.labels:[]),((t,e,n,a)=>{const o=document.getElementById(n),i=o.parentElement.parentElement.querySelector(".wps-postbox-chart--items");if(i){i.innerHTML="";const n=o.parentElement.parentElement.querySelector(".wps-postbox-chart--previousPeriod");n&&e.some(t=>t.label.includes("(Previous)"))&&(n.style.display="flex",n.style.cursor="pointer",n._clickHandler&&n.removeEventListener("click",n._clickHandler),n._clickHandler=function(a){a.stopPropagation();const o=n.classList.contains("wps-line-through");n.classList.toggle("wps-line-through"),e.forEach((e,n)=>{e.label.includes("(Previous)")&&(t.getDatasetMeta(n).hidden=!o)}),i.querySelectorAll(".previous-data").forEach(t=>{o?t.classList.remove("wps-line-through"):t.classList.add("wps-line-through")}),t.update()},n.addEventListener("click",n._clickHandler)),e.forEach((o,r)=>{if(!o.label.includes("(Previous)")){const s=o.data.reduce((t,e)=>Number(t)+Number(e),0);let l=null,c=null;if(a?.previousData?.datasets.length>0){const t=a.previousData.datasets.find((t,e)=>t.label===o.label&&(c=e,!0));t&&t.data&&(l=t.data.reduce((t,e)=>Number(t)+Number(e),0))}const d=document.createElement("div");d.className="wps-postbox-chart--item";const u=null!==l?`\n                <div class="previous-data">\n                    <span>\n                        <span class="wps-postbox-chart--item--color" style="border-color: ${o.borderColor}"></span>\n                        <span class="wps-postbox-chart--item--color" style="border-color: ${o.borderColor}"></span>\n                    </span>\n                    ${l.toLocaleString()}\n                </div>`:"";d.innerHTML=`\n                <span>${o.label}</span>\n                <div>\n                    <div class="current-data">\n                        <span class="wps-postbox-chart--item--color" style="border-color: ${o.borderColor}"></span>\n                        ${s.toLocaleString()}\n                    </div>\n                    ${u}\n                </div>`;const p=d.querySelector(".current-data");p.addEventListener("click",function(){const e=t.getDatasetMeta(r);e.hidden=!e.hidden,p.classList.toggle("wps-line-through"),t.update()});const h=d.querySelector(".previous-data");h&&null!==c&&h.addEventListener("click",function(){const a=t.data.datasets.find((n,a)=>n.label===`${e[r].label} (Previous)`&&t.getDatasetMeta(a));if(a){const e=t.data.datasets.indexOf(a),o=t.getDatasetMeta(e);o.hidden=!o.hidden,h.classList.toggle("wps-line-through");const r=i.querySelectorAll(".previous-data"),s=Array.from(r).every(t=>t.classList.contains("wps-line-through"));n&&(s?n.classList.add("wps-line-through"):n.classList.remove("wps-line-through")),t.update()}}),i.appendChild(d)}})}})(A,p,e,t),A.update()}let P=document.getElementById(e).getContext("2d");Object.keys(t.data.datasets).forEach((e,n)=>{let o=_[t.data.datasets[e].slug]||_[`Other${t.data.datasets[e].originalIndex+1}`],i=f[n%f.length],r="line";"performance"===a&&2===n&&(r="bar");const s={type:r,label:t.data.datasets[e].label,data:t.data.datasets[e].data,backgroundColor:o,hoverBackgroundColor:o,hoverPointBackgroundColor:o,yAxisID:"bar"===r||"Clicks"===t.data.datasets[e].label?"y1":"y"};"line"===r&&(s.borderColor=o,s.fill=!1,s.borderWidth=2,s.pointRadius=0,s.pointBorderColor="transparent",s.pointBackgroundColor=o,s.pointBorderWidth=2,s.hoverPointRadius=6,s.hoverPointBorderColor="#fff",s.hoverPointBorderWidth=4,s.tension=i,s.hitRadius=10),p.push(s)}),t?.previousData&&Object.keys(t.previousData.datasets).forEach((e,n)=>{const a=t.data.datasets.find(n=>n.label===t.previousData.datasets[e].label)?.slug||t.previousData.datasets[e].slug||`Other${n+1}`;let o=_[a]||_[`Other${n+1}`],i=f[n%f.length];p.push({type:"line",label:`${t.previousData.datasets[e].label} (Previous)`,data:t.previousData.datasets[e].data,borderColor:l.hex_to_rgba(o,.7),hoverBorderColor:o,backgroundColor:o,fill:!1,yAxisID:"Clicks"===t.previousData.datasets[e].label?"y1":"y",borderWidth:1,borderDash:[5,5],pointRadius:0,pointBorderColor:"transparent",pointBackgroundColor:o,pointBorderWidth:2,hoverPointRadius:6,hoverPointBorderColor:"#fff",hoverPointBackgroundColor:o,hoverPointBorderWidth:4,tension:i,hitRadius:10})});const Q={maintainAspectRatio:!1,resizeDelay:200,animation:{duration:0},responsive:!0,interaction:{intersect:!1,mode:"index"},plugins:{legend:!1,tooltip:{enabled:!1,external:t=>g(t,o,$,L,M,Y,o.previousData?o.previousData.labels:[]),unitTime:u}},scales:{x:{offset:m,grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0},ticks:{align:"inner",autoSkip:!0,maxTicksLimit:c?"week"===u?2:4:"week"===u?3:"month"===u?7:9,font:{color:"#898A8E",style:"italic",weight:"lighter",size:c?"week"===u?9:11:"week"===u?11:13},padding:8}},y:{min:0,suggestedMax:4,ticks:{autoSkip:!0,maxTicksLimit:c?4:7,fontColor:"#898A8E",fontSize:13,fontStyle:"italic",fontWeight:"lighter",padding:8,lineHeight:15,callback:renderFormatNum},afterBuildTicks:h,border:{color:"transparent",width:0},type:"linear",position:"right",grid:{display:!0,tickMarkLength:0,drawBorder:!1,tickColor:"#EEEFF1",color:"#EEEFF1"},gridLines:{drawTicks:!1},title:{display:!1}}}};"performance"===a&&t.data.datasets.length>2&&(Q.scales.y1={type:"linear",position:"left",border:{color:"transparent",width:0},grid:{display:!1,drawBorder:!1,tickLength:0},ticks:{autoSkip:!0,maxTicksLimit:7,fontColor:"#898A8E",fontSize:13,fontStyle:"italic",fontFamily:'"Roboto",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',fontWeight:"lighter",padding:8,lineHeight:15,callback:renderFormatNum},afterBuildTicks:h,title:{display:!0,text:`${l._("published")} Posts`,color:"#898A8E",fontSize:13}},Q.scales.y={border:{color:"transparent",width:0},ticks:{autoSkip:!0,maxTicksLimit:9,fontColor:"#898A8E",fontSize:13,fontStyle:"italic",fontFamily:'"Roboto",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',fontWeight:"lighter",padding:8,lineHeight:15,callback:renderFormatNum},position:"right",grid:{display:!0,borderDash:[5,5],tickColor:"#EEEFF1",color:"#EEEFF1"},title:{display:!0,text:l._("visits"),color:"#898A8E",fontSize:13}});const A=new Chart(P,{type:"performance"===a&&t.data.datasets.length>2?"bar":"line",data:{labels:[],datasets:[]},plugins:[w],options:Object.assign({},Q,n)});return q(u),k[e]={chart:A,updateChart:q},k[e]},document.body.addEventListener("click",function(t){const e=t.target.closest(".wps-unit-time-chart__selected-item"),n=t.target.closest(".wps-unit-time-chart__option");if(e)n||(document.querySelectorAll(".js-unitTimeSelect.open").forEach(t=>{t!==e&&t.parentElement.classList.remove("open")}),e.parentElement.classList.toggle("open")),t.stopImmediatePropagation();else if(n){const e=n.closest(".js-unitTimeSelect"),a=n.getAttribute("data-value");if(e){const t=e.querySelector(".wps-unit-time-chart__selected-item");t&&(t.textContent=n.textContent.trim()),e.querySelectorAll(".wps-unit-time-chart__option").forEach(t=>t.classList.remove("selected")),n.classList.add("selected"),e.classList.remove("open");const o=e.closest(".o-wrap").querySelector(".wps-postbox-chart--container").querySelector("canvas").getAttribute("id");k[o]&&k[o].updateChart(a)}t.stopImmediatePropagation()}else document.querySelectorAll(".js-unitTimeSelect.open").forEach(t=>{t.classList.remove("open")})}),window.renderWPSLineChart=function(t,e,n){if(document.getElementById(t)){const a=jQuery(`#${t}`).parent(),o=l.rectangle_placeholder();a.append(o),e?.data?.datasets&&0!==e.data.datasets.length?(l.new_line_chart(e,t,n),jQuery(".wps-ph-item").remove(),jQuery(".wps-postbox-chart--data").removeClass("c-chart__wps-skeleton--legend"),a.removeClass("c-chart__wps-skeleton")):(a.html(l.no_results()),jQuery(".wps-ph-item").remove())}},E.prototype.init=function(){this.settings.fields&&0!==Object.keys(this.settings.fields).length?setTimeout(()=>{this.createContainers(),this.fetchFilterOptions()},0):console.warn("No filters available for the panel.")},E.prototype.createContainers=function(){Object.entries(this.settings.fields).forEach(([t,e])=>{const n=e?.attributes||{},a=n["data-type"],o=n["data-source"],i=n["data-searchable"],r=e?.predefined||!1;if(!a)return void console.warn(`Skipping filter ${t} - Missing data-type.`);const s=`wps-filter-${a}`;let l=document.querySelector(`#${s}`);if(l){if(l.classList.add("loading"),e.containerSelector=`#${s}`,r&&!this.predefinedCache[o]){const t=e.containerSelector;this.predefinedCache[o]={...r,containerSelector:t}}!o||this.sourceCache[o]||i||r||(this.sourceCache[o]=!0)}})},E.prototype.fetchFilterOptions=function(){if(this.memoryCache)return void this.renderFilters(this.memoryCache);const t=this;if(Object.keys(this.predefinedCache).length>0)return this.renderFilters(this.predefinedCache),void this.removeLoadingState(this.predefinedCache);const e=window.location.search;let n={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_get_filters",filters:Object.keys(this.sourceCache),queryString:e};n=Object.assign(n,l.global.request_params),jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:n,timeout:3e4,success:function(e){e&&(t.memoryCache=e,this.renderFilters(e))}.bind(this),error:function(){console.error("Error fetching filter data.")},complete:function(){this.removeLoadingState()}.bind(this)})},E.prototype.renderFilters=function(t){Object.entries(this.settings.fields).forEach(function([e,n]){const a=n?.attributes||{},o=a["data-type"],i=a["data-source"],r=n.containerSelector;if(!o||!r)return;const s=t[i]||{},l=new S(r);switch(n.type){case"select":l.createSelect(n,"dropdown-content");break;case"dropdown":l.createDropdown(n,s)}}),E.prototype.removeLoadingState=function(t=this.settings.fields){Object.values(t).forEach(function(t){if(t.containerSelector){const e=document.querySelector(t.containerSelector);e&&e.classList.remove("loading")}})}},j.prototype.initModal=function(){let t=document.querySelector("#wps-modal-filter-popup");if(!t){t=document.createElement("div"),t.id="wps-modal-filter-popup",t.style.display="none",t.setAttribute("dir",document.documentElement.dir||"ltr");const e=document.createElement("form");e.id=this.settings.formSelector.replace("#",""),e.method="get",e.action=l.global.admin_url+"admin.php";const n=document.createElement("div");n.id=this.settings.filterWrapperSelector.replace("#",""),n.className="wps-modal-filter-form",e.appendChild(n),t.appendChild(e),document.body.appendChild(t)}this.init()},j.prototype.bindOnLoadFilter=function(){jQuery(document).ready(()=>{"function"!=typeof this.settings.onLoadFilter?this.generateFields():this.settings.onLoadFilter(this.filterWrapperSelector)})},j.prototype.init=function(){jQuery(document).on("click",this.settings.modalSelector,this.onFilterButtonClick.bind(this)),jQuery(document).on("submit",this.settings.formSelector,this.onFormSubmit.bind(this)),jQuery(document).on("click",this.settings.resetSelector,this.onResetFilterClick.bind(this)),this.bindOnLoadFilter(),jQuery(document).on("tb_unload",()=>{this.cleanup()})},j.prototype.initializeSelect2Elements=function(t){t.each((t,e)=>{const n=jQuery(e),a=n.attr("name"),o=(()=>{if(!a)return null;const t=a.toLowerCase();return"agent"===t?"browser":"platform"===t?"operating-system":"location"===t?"flags":null})(),i=t=>new Promise(e=>{const n=new Image;n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}),r=async t=>{if(!t||!o)return`${l.global.assets_url}/images/flags/000.svg`;const e=`${l.global.assets_url}/images/${o}/${t}`,n=`${l.global.assets_url}/images/flags/000.svg`;if("all"===t)return n;const a=`${e}.svg`;if(await i(a))return a;const r=`${e}.png`;return await i(r)?r:n},s=()=>{n.hasClass("select2-hidden-accessible")&&n.select2("destroy");const t={escapeMarkup:function(t){return t},templateResult:function(t){if(!t.id||t.loading)return t.text;const e=t.id.toLowerCase().replace(/ /g,"_"),n=jQuery(`\n                        <span class="wps-modal-filter-icon">\n                            <img src="${l.global.assets_url}/images/flags/000.svg" alt="${t.text}"/>\n                            ${t.text}\n                        </span>\n                    `);return r(e).then(t=>{n.find("img").attr("src",t)}),n},templateSelection:function(t){if(!t.id)return t.text;const e=t.id.toLowerCase().replace(/ /g,"_"),n=jQuery(`\n                        <span class="wps-modal-filter-icon">\n                            <img src="${l.global.assets_url}/images/flags/000.svg" alt="${t.text}"/>\n                            ${t.text}\n                        </span>\n                    `);return r(e).then(t=>{n.find("img").attr("src",t)}),n}};o?n.select2(t):n.select2(),n.find("option").length,n.trigger("change")};if(o)if(n.find("option").length>0)s(),n.data("select2Initialized",!0),n.data("select2Cleanup",()=>{n.hasClass("select2-hidden-accessible")&&n.select2("destroy"),n.removeData("select2Initialized")});else{const t=new MutationObserver(e=>{n.find("option").length>0&&(s(),n.data("select2Initialized",!0),t.disconnect())});t.observe(n[0],{childList:!0,subtree:!0}),n.data("observer",t)}})},j.prototype.cleanup=function(){jQuery(this.filterContainerSelector).filter("select").each((t,e)=>{const n=jQuery(e),a=n.data("select2Cleanup"),o=n.data("observer");a&&(a(),n.removeData("select2Cleanup")),o&&(o.disconnect(),n.removeData("observer"))})},j.prototype.onFilterButtonClick=function(t){if(t.preventDefault(),this.cleanup(),tb_show(l._("filters"),`#TB_inline?&width=${this.settings.width}&height=${this.settings.height}&inlineId=wps-modal-filter-popup`),"function"==typeof this.settings.onOpen)return this.settings.onOpen(),this.generateFields(),void setTimeout(()=>{this.setSelectedValues()},300);const e=jQuery(this.filterWrapperSelector).find(".filter-select"),n=new M({container:this.filterWrapperSelector});this.memoryCache?this.populateVisitorsFilters(this.memoryCache,e):this.fetchFilters(n,e),setTimeout(()=>{this.setSelectedValues(),this.initializeSelect2Elements(e)},300)},j.prototype.setSelectedValues=function(){jQuery(this.filterContainerSelector).each((t,e)=>{const n=jQuery(e),a=n.attr("name"),o=l.getLinkParams(a);null!==o&&(n.is("select")?setTimeout(()=>{const t=o.replace(/[\+ ]/g," ");this.selectOptionWhenAvailable.bind(this)(n,t)},100):n.is("input")&&n.val(decodeURIComponent(o)))}),this.toggleResetButton(),"function"==typeof this.settings.onDataLoad&&this.settings.onDataLoad()},j.prototype.selectOptionWhenAvailable=function(t,e,n=20,a=200){let o=0;const i=setInterval(()=>{const a=t.find(`option[value="${CSS.escape(e)}"]`);a.length>0&&(a.prop("selected",!0).trigger("change"),clearInterval(i)),o++,o>=n&&clearInterval(i)},a)},j.prototype.populateVisitorsFilters=function(t,e){const n=new S(this.filterWrapperSelector),a=this;e.each(function(){const e=jQuery(this),o=e.attr("data-type"),i=t[o];if(i){e.empty();const t=a.settings.fields[o].placeholder;n.createOptions(e[0],Object.keys(i).map(t=>({value:t,label:i[t]})),t)}}),this.initializeSelect2Elements(e)},j.prototype.fetchFilters=function(t,e){if(this.onlySearchableFields)return;t.show();const n=this,a=window.location.search;let o={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_get_filters",filters:Object.keys(n.settings.fields).filter(t=>"pageName"!==t&&!n.settings.fields[t]?.attributes?.["data-searchable"]),queryString:a};o=Object.assign(o,l.global.request_params),jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:o,timeout:3e4,success:function(t){t&&(n.memoryCache=t,n.populateVisitorsFilters(t,e))},error:function(){jQuery("span.tb-close-icon").click()},complete:function(){t.hide()}})},j.prototype.generateFields=function(){const t=new S(this.filterWrapperSelector);this.onlySearchableFields=Object.values(this.settings.fields).filter(t=>"hidden"!==t.type&&"button"!==t.type).every(t=>!0===t?.attributes?.["data-searchable"]),Object.entries(this.settings.fields).forEach(e=>{switch(e[1].type){case"select":t.createSelect(e[1]);break;case"hidden":case"text":t.createInput(e[1]);break;case"button":t.createButton(e[1]);break;default:console.warn(`Unsupported field type: ${e[1].type}`)}})},j.prototype.onFormSubmit=function(t){if(this.setLoading(),"function"==typeof this.settings.onSubmit)return void this.settings.onSubmit(t);const e=jQuery(t.target);Object.entries(this.settings.fields).forEach(([t,n])=>{if("button"===(n?.type||""))return;const a=e.find(`*[name="${n.name}"]`);""===a.val()?.trim()&&a.prop("disabled",!0)});const n=l.getLinkParams("order");return n&&e.append('<input type="hidden" name="order" value="'+n+'">'),!0},j.prototype.onResetFilterClick=function(t){if(t.preventDefault(),this.setLoading("reset"),"function"==typeof this.settings.onReset)return void this.settings.onReset();const e=new URL(window.location.href);this.fieldTypes.forEach(t=>{e.searchParams.delete(t)}),window.location.href=e.toString(),this.toggleResetButton()},j.prototype.toggleResetButton=function(){const t=jQuery(this.settings.resetSelector);if(!t.length)return;const e=new URLSearchParams(window.location.search);this.fieldTypes.some(t=>e.has(t)&&""!==e.get(t).trim())?t.removeAttr("disabled"):t.attr("disabled","disabled")},j.prototype.setLoading=function(t="submit"){"reset"!==t?jQuery(`${this.formSelector} .button-primary`).html(l._("loading")).addClass("loading"):jQuery(`${this.formSelector} .wps-modal-reset-filter`).html(l._("loading")).addClass("loading")},S.prototype.elementExists=function(t){return!!this.container.querySelector(`[name="${t}"]`)},S.prototype.ensureFooterExists=function(){let t=this.container.querySelector(".wps-filter-footer");return t||(t=document.createElement("div"),t.classList.add("wps-filter-footer"),this.container.appendChild(t)),t},S.prototype.createWrapper=function(t,e=!1){const n=document.createElement("div");return e?(n.classList.add(t),n):(n.classList.add("wps-filter-item",`wps-filter-${t}`),n)},S.prototype.createLabel=function(t,e){const n=document.createElement("span");return n.className="wps-filter-label",n.id=`wps-label-${e}`,n.textContent=t,n},S.prototype.createSelect=function({name:t,label:e,classes:n="",attributes:a={},placeholder:o=""},i=null){if(this.elementExists(t))return null;let r=null;i&&(r=a["data-type"],this.container=document.querySelector(`#wps-filter-${r} .wps-dropdown`));const s=this.createWrapper(t),l=this.createLabel(e,t),c=document.createElement("select");c.name=t,c.className=n,c.setAttribute("aria-label",`wps-label-${t}`);for(const[d,u]of Object.entries(a))c.setAttribute(d,u);if(s.appendChild(l),s.appendChild(c),i||a["data-searchable"]){const t=c.getAttribute("data-default");this.createOptions(c,{},o,t)}return this.container.appendChild(s),this.enableSearchableSelect(c,t,a,i,r),"undefined"==typeof jQuery||!jQuery.fn.select2||i||a["data-searchable"]||jQuery(c).select2({width:"100%"}),c},S.prototype.enableSearchableSelect=function(t,e,n,a,o){if(!n["data-searchable"]||"undefined"==typeof jQuery||!jQuery.fn.select2)return;let i=e;i=n["data-type"]||"",n["data-source"]&&(i=n["data-source"]);let r={};a&&(r={dropdownParent:jQuery(`#wps-filter-${o}`),dropdownAutoWidth:!0,dropdownCssClass:"wps-select2-filter-dropdown"});const s=window.location.search,c=jQuery(t).select2({ajax:{delay:500,url:l.global.ajax_url,dataType:"json",data:function(t){const e={wps_nonce:l.global.rest_api_nonce,search:t.term,source:i,action:"wp_statistics_search_filter",paged:t.page||1,queryString:s};if(l.isset(l.global,"request_params")){const t=l.global.request_params;t.page&&(e.page=t.page),t.author_id&&(e.author_id=t.author_id),t.pt&&(e.post_type=t.pt),t.pt&&(e.post_id=t.pid)}return e},processResults:function(t){return{results:t.map(t=>({id:t.id,text:t.text}))}},error:function(t,e,n){console.error("AJAX request error:",e,n)}},minimumInputLength:1,allowClear:!0,placeholder:l._("all"),...r});a&&(c.on("select2:open",()=>jQuery(`#wps-filter-${o} .wps-dropdown`).addClass("active")),c.on("select2:close",()=>jQuery(`#wps-filter-${o} .wps-dropdown`).removeClass("active")),jQuery(`#wps-filter-${o}`).on("click",()=>c.select2("open")),c.on("change",function(){const t=jQuery(`#wps-filter-${o}`).find("option:selected").val();t&&(window.location.href=t)}))},S.prototype.createOptions=function(t,e=[],n=null,a=null){if(!(t instanceof HTMLSelectElement))throw new Error("Invalid <select> element provided.");if(n){const e=document.createElement("option");e.value=a||"",e.textContent=n,e.selected=!0,t.appendChild(e)}e.length>0&&e.forEach(e=>{const a=document.createElement("option");a.value=e.value||"",a.textContent=e.label||"",null!==n&&e.value===n&&(a.selected=!0),t.appendChild(a)}),"undefined"!=typeof jQuery&&jQuery.fn.select2&&e.length>0&&jQuery(t).select2({width:"100%"})},S.prototype.createInput=function({name:t,label:e,type:n="text",classes:a="",placeholder:o="",attributes:i={}}){if(this.elementExists(t))return null;const r=this.createWrapper(t),s=this.createLabel(e,t),l=document.createElement("input");l.name=t,l.type=n,l.className=a,l.placeholder=o,l.setAttribute("aria-label",`wps-label-${t}`);for(const[c,d]of Object.entries(i))l.setAttribute(c,d);r.appendChild(s),r.appendChild(l),this.container.appendChild(r)},S.prototype.createButton=function({name:t,label:e,classes:n="",onClick:a,attributes:o={}}){const i=`button-${t.replace(/\s+/g,"-").toLowerCase()}`;if(this.container.querySelector(`#${i}`))return;const r=this.createWrapper(t),s=document.createElement("button");s.textContent=e,s.className=n,s.id=i,s.setAttribute("aria-label",`wps-label-${e}`);for(const[l,c]of Object.entries(o))s.setAttribute(l,c);"function"==typeof a&&s.addEventListener("click",a),r.appendChild(s),this.ensureFooterExists().appendChild(r)},S.prototype.createDropdown=function(t,e){if(!t||!t.containerSelector)return void console.warn("Invalid filter configuration provided for dropdown.");const n=document.querySelector(t.containerSelector);if(!n)return void console.warn(`Container ${t.containerSelector} not found.`);const{baseUrl:a,selectedOption:o,lockCustomPostTypes:i,args:r}=e;let s=l._("all");t.attributes.hasOwnProperty("data-default")&&(s=t.attributes["data-default"]);let c=`\n        <div class="wps-dropdown" role="combobox" aria-haspopup="listbox" aria-label="${t.label||"Post Type Filter"}">\n            <span class="selectedItemLabel" id="wps-dropdown-label-${t.containerSelector.replace(/[^a-zA-Z0-9]/g,"-")}" for="wps-dropdown-button-${t.containerSelector.replace(/[^a-zA-Z0-9]/g,"-")}">${t.label||"Post Type"}: </span>\n            <button type="button" class="dropbtn" class="dropbtn" id="wps-dropdown-button-${t.containerSelector.replace(/[^a-zA-Z0-9]/g,"-")}" aria-expanded="false">\n                <span>${o?this.getFilterName(e,s):s}</span>\n            </button>\n            <div class="dropdown-content" role="listbox"><div class="dropdown-scroll">\n    `;t.searchable&&(c+=`<input type="text" class="wps-search-dropdown" aria-label="Search ${t.label||"Post Type"}">`),!t.selected&&s&&(c+=`<a href="${a}" data-index="0" class="${o?"":"selected"}" role="option">${s}</a>`),r&&r.forEach((t,e)=>{let n=[];o===t.slug&&n.push("selected"),i&&"post"!==t.slug&&"page"!==t.slug&&n.push("disabled"),t.premium?c+=`\n                 <a data-target="wp-statistics-data-plus" title="${t.name}" \n                   class="js-wps-openPremiumModal ${n.join(" ")}" role="option" aria-label="${t.name} (Premium)">\n                    ${t.name}\n                </a>`:c+=`\n                 <a href="${t.url}" data-index="${e}" title="${t.name}" class="${n.join(" ")}" role="option" aria-label="${t.name}">\n                    ${t.name}\n                </a>`}),c+="</div></div></div>",n.innerHTML=c,t.searchable&&this.enableSearchableDropdown()},S.prototype.getFilterName=function(t,e){const{selectedOption:n,args:a}=t,o=a.find(t=>t.slug===n);return o?o.name:e},S.prototype.enableSearchableDropdown=function(){document.querySelectorAll(".wps-search-dropdown").forEach(t=>{t.addEventListener("click",t=>{t.stopPropagation()}),t.addEventListener("input",function(){const t=this.value.toLowerCase();this.parentElement.querySelectorAll("a[role='option']").forEach(e=>{const n=e.textContent.toLowerCase();e.style.display=n.includes(t)?"block":"none"})})})},l.TrafficHourCharts=function(t){function e(t){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=5,e.height=5,n.fillStyle=t,n.fillRect(0,0,e.width,e.height),n.strokeStyle="white",n.lineWidth=2,n.beginPath(),n.moveTo(e.width,0),n.lineTo(0,e.height),n.stroke(),n.createPattern(e,"repeat")}let n=document.getElementById("hourly-usage-chart").getContext("2d"),a={Views:"#7362BF",Visitors:"#3288D7"};const o=[];Object.keys(t.data.datasets).forEach((e,n)=>{let i=a[t.data.datasets[e].label];o.push({type:"bar",label:t.data.datasets[e].label,data:t.data.datasets[e].data,backgroundColor:l.hex_to_rgba(i,.5),fill:!1,yAxisID:"y",hitRadius:10})}),t?.previousData&&Object.keys(t.previousData.datasets).forEach((n,i)=>{const r=t.previousData.datasets[n].label;o.push({type:"bar",label:`${t.previousData.datasets[n].label} (Previous)`,data:t.previousData.datasets[n].data,backgroundColor:e(l.hex_to_rgba(a[r],.5)),fill:!1,yAxisID:"y",pointRadius:0,hitRadius:10})});const i={maintainAspectRatio:!1,resizeDelay:200,animation:{duration:0},responsive:!0,interaction:{intersect:!1,mode:"index"},plugins:{legend:!1,tooltip:{enabled:!1,external:e=>((t,e,n,a)=>{const{chart:o,tooltip:i}=t,r=m(o);if(0!==i.opacity){if(i.body){const t=i.dataPoints[0].dataIndex,e=o.data.datasets;let s="<div>";const c=e.filter(t=>!t.label.includes("(Previous)")),d=e.filter(t=>t.label.includes("(Previous)")),u=(new Date).getHours(),p=a.data.labels[t].hour,h=parseInt(p.match(/\d+/)[0]),_=p.includes("PM"),f=12===h?_?12:0:_?h+12:h,m=c.some(e=>e.data[t]>0),g=d.some(e=>e.data[t]>0),w=f<=u,y=w&&(m||!m&&!g)?a.data.labels[t].formatted_date+" ("+a.data.labels[t].hour+")":a.previousData.labels[t].formatted_date+" ("+a.data.labels[t].hour+")";if(s+=`<div class="chart-title">${y}</div>`,w&&(m||!m&&!g)&&c.forEach(n=>{if(!o.getDatasetMeta(e.indexOf(n)).hidden){const e=n.data[t];s+=`\n                        <div class="current-data">\n                            <div>\n                                <span class="current-data__color" style="background-color: ${n.backgroundColor};"></span>\n                                ${n.label}\n                            </div>\n                            <span class="current-data__value">${e.toLocaleString()}</span>\n                        </div>`}}),!w||g){const a=Object.values(n);d.forEach((n,i)=>{const r=o.getDatasetMeta(e.indexOf(n)),c=n.label.replace(" (Previous)","");if(!r.hidden){const e=n.data[t];s+=`\n                        <div class="previous-data">\n                            <div>\n                                 <span class="previous-data__colors">\n                                    <span class="previous-data__color" style="background-color:${l.hex_to_rgba(a[i],.5)};"></span>\n                                    <span class="previous-data__color" style="background-color: ${l.hex_to_rgba(a[i],.5)}"></span>\n                                 </span>\n                                 ${c} \n                            </div>\n                            <span class="current-data__value">${e.toLocaleString()}</span>\n                        </div>`}})}s+="</div>",r.innerHTML=s,l.setTooltipPosition(r,o,i)}}else r.style.opacity=0})(e,0,a,t),callbacks:{title:t=>t[0].label,label:t=>t.formattedValue}}},scales:{x:{offset:!0,grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0},ticks:{align:"inner",autoSkip:!1,maxRotation:90,minRotation:90,callback:function(t,e){return" "+this.getLabelForValue(t)},font:{color:"#898A8E",style:"italic",size:window.innerWidth<768?8:13},padding:window.innerWidth<768?3:8}},y:{min:0,ticks:{maxTicksLimit:7,font:{color:"#898A8E",style:"italic",size:window.innerWidth<768?8:13},padding:window.innerWidth<768?2:8,lineHeight:window.innerWidth<768?10:15,stepSize:1,callback:renderFormatNum},border:{color:"transparent",width:0},type:"linear",position:"right",grid:{display:!0,tickMarkLength:0,drawBorder:!1,tickColor:"#EEEFF1",color:"#EEEFF1"},gridLines:{drawTicks:!1},title:{display:!1}}}};let r=t.data.labels.map(t=>t.hour);const s=new Chart(n,{type:"bar",data:{labels:r,datasets:o},options:i});!function(){const t=document.getElementById("hourly-usage-chart").parentElement.parentElement.querySelector(".wps-postbox-chart--items");if(t){t.innerHTML="",o.sort((t,e)=>"Total"===t.label?-1:"Total"===e.label?1:"Total (Previous)"===t.label?-1:"Total (Previous)"===e.label?1:0);const e=document.querySelectorAll(".wps-postbox-chart--previousPeriod");if(e.length>0){let t=!1;o.forEach(e=>{e.label.includes("(Previous)")&&(t=!0)}),t&&e.forEach(t=>{t.style.display="flex"})}o.forEach((e,n)=>{if(!e.label.includes("(Previous)")){e.data.reduce((t,e)=>Number(t)+Number(e),0);const a=document.createElement("div");a.className="wps-postbox-chart--item",a.innerHTML=`\n                            <span class="current-data">\n                                 <span class="wps-postbox-chart--item--color" style="border-color: ${e.backgroundColor}"></span> ${e.label}\n                            </span>\n                           `;const o=a.querySelector(".current-data");o.addEventListener("click",function(){const t=s.getDatasetMeta(n);t.hidden=!t.hidden,o.classList.toggle("wps-line-through"),s.update()}),t.appendChild(a)}})}}()},window.renderTrafficHourChart=t=>{l.TrafficHourCharts(t)};var D=document.querySelector(".wps-admin-column__unlock"),T=document.querySelector(".wp-list-table");function M(t){this.container=t.container||"body",this.spinnerElement=null}D&&T&&T.classList.add("wps-admin-mini-chart__unlock"),M.prototype.show=function(){this.spinnerElement||(this.spinnerElement=jQuery('<div class="spinner-overlay"></div>'),jQuery(this.container).append(this.spinnerElement)),this.spinnerElement.show()},M.prototype.hide=function(){this.spinnerElement&&this.spinnerElement.hide()},jQuery(document).ready(function(){jQuery(document).on("click","a.wps-option__updater",function(t){t.preventDefault();let e=jQuery(this),n=e.data("option"),a=e.data("value"),o={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_option_updater",option:n,value:a};e.css("cursor","progress"),jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:o,timeout:3e4,success:function({data:t,success:n}){n?location.reload():(console.log(t),e.css("cursor","default"))},error:function(t,n,a){console.log(a),e.css("cursor","default")}})})}),jQuery(document).ready(function(){const t=document.querySelectorAll(".js-wps-open-notification"),e=document.querySelector(".wps-notification-sidebar"),n=document.querySelector(".wps-notification-sidebar__overlay"),a=document.body,o=document.querySelectorAll(".wps-notification-sidebar__tab"),i=document.querySelector(".wps-notification-sidebar__close"),r=document.querySelectorAll(".wps-notification-sidebar__tab-pane"),s=document.querySelector(".wps-notification-sidebar__dismiss-all");if(o.length>0&&r.length>0&&o.forEach(function(t){t.addEventListener("click",function(){o.forEach(function(t){t.classList.remove("wps-notification-sidebar__tab--active")}),r.forEach(function(t){t.classList.remove("wps-notification-sidebar__tab-pane--active")});const e=t.getAttribute("data-tab");t.classList.add("wps-notification-sidebar__tab--active"),document.getElementById(e).classList.add("wps-notification-sidebar__tab-pane--active")})}),t.length>0&&e&&n){const o=window.innerWidth-document.documentElement.clientWidth;document.documentElement.style.setProperty("--scrollbar-width",`${o}px`),t.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),e.classList.toggle("is-active"),n.classList.toggle("is-active"),setTimeout(()=>{a.classList.toggle("wps-no-scroll")},250)})}),n.addEventListener("click",function(){e.classList.remove("is-active"),n.classList.remove("is-active"),setTimeout(()=>{a.classList.remove("wps-no-scroll")},250)}),i&&i.addEventListener("click",function(){e.classList.remove("is-active"),n.classList.remove("is-active"),a.classList.remove("wps-no-scroll")})}const c=()=>{const t=document.querySelector(".wps-notification-sidebar__tab--active");if(t)if("tab-2"===t.dataset.tab)s&&(s.style.display="none");else{const t=document.querySelectorAll(".wps-notification-sidebar__cards--active .wps-notification-sidebar__card:not(.wps-notification-sidebar__no-card)").length>0;s&&(s.style.display=t?"inline-flex":"none")}},d=()=>{let t=jQuery(".wps-notifications--has-items"),e=jQuery(".wps-help__notification"),n=jQuery(".wps-notification-sidebar__tab-pane--active .wps-notification-sidebar__card:not(.wps-notification-sidebar__no-card)"),a=jQuery(".wps-notification-sidebar__tab-pane--active .wps-notification-sidebar__no-card"),o=a.first();0===n.length?(o.css("display","flex"),e.hide(),t.removeClass("wps-notifications--has-items")):o.hide(),a.length>1&&a.last().hide()};o.forEach(t=>{t.addEventListener("click",function(){o.forEach(t=>t.classList.remove("wps-notification-sidebar__tab--active")),this.classList.add("wps-notification-sidebar__tab--active"),c(),d()})}),c(),d(),jQuery(document).on("click","a.wps-notification-sidebar__dismiss, a.wps-notification-sidebar__dismiss-all",function(t){t.preventDefault();let e=jQuery(this),n="";if(e.hasClass("wps-notification-sidebar__dismiss")&&(n=e.data("notification-id")),e.hasClass("wps-notification-sidebar__dismiss-all")&&(n="all"),"all"===n)jQuery(".wps-notification-sidebar__cards--active .wps-notification-sidebar__card:not(.wps-notification-sidebar__no-card)").each(function(){let t=jQuery(this);jQuery(".wps-notification-sidebar__cards--dismissed").prepend(t.clone().hide().fadeIn(300)),t.fadeOut(300,function(){jQuery(this).remove(),d()})});else{let t=e.closest(".wps-notification-sidebar__card");jQuery(".wps-notification-sidebar__cards--dismissed").prepend(t.clone().hide().fadeIn(300)),t.fadeOut(300,function(){jQuery(this).remove(),d()})}c(),jQuery(".wps-notification-sidebar__cards--dismissed .wps-notification-sidebar__no-card").remove();let a={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_dismiss_notification",notification_id:n};jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:a,timeout:3e4,success:function({data:t,success:e}){e||console.log(t)},error:function(t,e,n){console.log(n)}})})});var Y,L=document.querySelectorAll(".js-wps-premiumModalClose"),O=document.querySelector(".js-wps-premiumModal"),q=document.querySelector(".js-wps-premiumModalWelcomeContent"),P=document.querySelector(".js-wps-premiumModalSteps"),Q=document.querySelectorAll(".js-wps-premiumModalStep"),A=document.querySelectorAll(".js-wps-premiumModal-welcome .js-wps-premiumModalStep"),I=document.querySelector(".js-wps-premiumModalExploreBtn"),B=document.querySelectorAll(".js-wps-premiumStepFeature"),z=document.querySelectorAll(".wps-premium-step__action-container"),F=document.querySelectorAll(".js-wps-premium-steps__title"),W=document.querySelectorAll(".js-wps-premium-first-step__head"),N=document.querySelector(".js-wps-dynamic-title"),U=1,R=()=>{O&&(O.style.display="none",document.body.style.overflow="")},H=()=>{if(0===Q.length)return;let t=0;Q.forEach(e=>{const n=e.style.display;e.style.display="block",e.style.minHeight="auto";let a=e.getBoundingClientRect().height;t=Math.max(t,a),e.style.display=n}),Q.forEach(e=>{e.style.minHeight=`${t}px`})};window.addEventListener("resize",H);document.addEventListener("click",t=>{const e=t.target.closest(".js-wps-openPremiumModal");if(e){t.preventDefault(),t.stopPropagation();e.getAttribute("href");(t=>{O&&(O.style.display="block",document.body.style.overflow="hidden");const e=Array.from(B).findIndex(e=>e.getAttribute("data-modal")===t);-1!==e&&(U=e,q&&(q.style.display="none"),G(),V(U+1),P.style.display="block",K())})(e.getAttribute("data-target"))}}),L.length>0&&L.forEach(t=>{t.addEventListener("click",R)}),Q.forEach(t=>{t.classList.remove("wps-modal__premium-step--active")}),I&&I.addEventListener("click",function(){U=0,G(),q.style.display="none",P.style.display="block",V(U),X()});var G=()=>{document.querySelectorAll(".wps-premium-step__image").forEach(t=>{t.src=t.dataset.src})},V=t=>{if(!Q||t<0||t>=Q.length)return;setTimeout(()=>{H()},100);const e=Q[t];if(Q.forEach(t=>t.classList.remove("wps-modal__premium-step--active")),e&&"undefined"!==e){const t=e.querySelector(".js-wps-premium-step__title");N&&t&&(N.textContent=t.textContent.trim()),e.classList.add("wps-modal__premium-step--active")}z&&z.length>0&&(z.forEach(t=>{t&&t.classList.remove("active")}),z[t-1]&&z[t-1].classList.add("active")),F&&F.length>0&&(F.forEach(t=>{t&&t.classList.remove("active")}),F[t-1]&&F[t-1].classList.add("active")),B.forEach(t=>t.classList.remove("active")),Q[t].classList.add("wps-modal__premium-step--active");const n=(t,e)=>{t.forEach(t=>{t.style.display=e})};t>0?(n(W,"none"),B[t-1].classList.add("active")):n(W,"block")},X=()=>{Y=setInterval(()=>{U=(U+1)%A.length,V(U)},5e3)},K=()=>{clearInterval(Y)};B.length>0&&B.forEach((t,e)=>{t.addEventListener("click",function(){K(),V(U=e+1)})});new class{constructor(){this.init()}init(){document.addEventListener("click",t=>{const e=t.target.closest('[class*="js-openModal-"]');if(e){const t=this.extractModalIdFromClass(e.classList);t&&this.openModal(t)}const n=t.target.closest("button[data-action]");if(n){const t=n.getAttribute("data-action");if(t){const e=n.closest(".wps-modal");this.handleModalAction(e,t)}}}),this.attachOpenEvent(),this.attachCloseEvent()}attachOpenEvent(){document.addEventListener("click",t=>{const e=t.target.closest('[class*="js-openModal-"]');if(e){const t=this.extractModalIdFromClass(e.classList);t&&this.openModal(t)}})}extractModalIdFromClass(t){for(let e of t)if(e.startsWith("js-openModal-"))return e.replace("js-openModal-","").toLowerCase();return null}openModal(t){const e=document.getElementById(t);e?e.classList.add("wps-modal--open"):console.error(`Modal with ID "${t}" not found.`)}attachCloseEvent(){document.addEventListener("click",t=>{const e=t.target.closest(".wps-modal__close");if(e){const t=e.closest(".wps-modal");t&&t.classList.remove("wps-modal--open")}})}handleModalAction(t,e){switch(e){case"resolve":break;case"closeModal":this.closeModal(t);break;default:console.warn("Unknown action:",e)}}closeModal(t){t.classList.remove("wps-modal--open")}},jQuery(document).ready(function(){const t=document.querySelectorAll(".wps-admin-header__link--has-dropdown");t.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();const n=this.nextElementSibling;n&&(n.classList.toggle("is-open"),t.classList.toggle("is-open"))})}),document.addEventListener("click",function(e){t.forEach(function(t){const n=t.nextElementSibling;!n||t.contains(e.target)||n.contains(e.target)||n.classList.remove("is-open")})});const e=document.querySelector(".wp-header-end"),n=document.querySelector(".notice.notice-warning.update-nag");e&&n&&e.parentNode.insertBefore(n,e.nextSibling)}),l.sanitize_meta_box_name=function(t){return t.replace(new RegExp("-","g"),"_")},l.get_meta_box_method=function(t){return this.sanitize_meta_box_name(t)+"_meta_box"},l.getMetaBoxKey=function(t){return"wp-statistics-"+t+"-widget"},l.no_meta_box_data=function(){return'<div class="o-wrap o-wrap--no-data">'+l._("no_data")+"</div>"},l.error_meta_box_data=function(t){if(void 0!==t)try{let e=JSON.parse(t);if(l.isset(e,"message"))return'<div class="o-wrap o-wrap--no-data">'+e.message+"</div>"}catch(e){console.log("An unexpected error occurred: ",t,e)}return'<div class="o-wrap o-wrap--no-data">'+l._("rest_connect")+"</div>"},l.get_meta_box_info=function(t){return t in l.global.meta_boxes?l.global.meta_boxes[t]:[]},l.meta_box_lang=function(t,e){return e in l.global.meta_boxes[t].lang?l.global.meta_boxes[t].lang[e]:""},l.meta_box_inner=function(t){return"#"+l.getMetaBoxKey(t)+" div.inside"},l.meta_box_name_by_id=function(t){return t.split("statistics-").pop().split("-widget")[0]},l.meta_box_button=function(t){let e="#"+l.getMetaBoxKey(t)+" .handle-actions button:first";l.get_meta_box_info(t);let n="right";l.is_active("rtl")&&(n="left"),jQuery("#"+l.getMetaBoxKey(t)+" button[class*=wps-refresh]").remove(),jQuery('<button class="handlediv wps-refresh" aria-label="reload button"'+(l.is_active("gutenberg")?` style="z-index: 9999;position: absolute;top: 1px;display:none;right: calc(44px + 3.24rem) !important;height: 44px !important;${n}: 3%;" `:'style="line-height: 28px;"')+' type="button" title="'+l._("reload")+'"></button>').insertBefore(e),l.is_active("gutenberg")&&jQuery("body").addClass("wps-gutenberg"),jQuery("#"+l.getMetaBoxKey(t)+" .hndle, #"+l.getMetaBoxKey(t)+" .handlediv").on("click",function(){jQuery(this).closest(".postbox").addClass("handle")})},l.meta_box_tooltip=function(t){let e="#"+l.getMetaBoxKey(t)+" h2.hndle",n=l.get_meta_box_info(t);if(n.hasOwnProperty("description")){jQuery(e).text();const t=n.description,a='<a href="#" class="wps-tooltip" title="'+t+'"><i class="wps-tooltip-icon"></i></a>';t&&jQuery(e).append(a)}},l.run_meta_box=function(t,e=!1,n=!0){if(l.exist_tag("#"+l.getMetaBoxKey(t))&&(l.is_active("gutenberg")||!l.is_active("gutenberg")&&jQuery("#"+l.getMetaBoxKey(t)).is(":visible"))){let a=jQuery(l.meta_box_inner(t)),o=l.get_meta_box_method(t);if(l.meta_box_tooltip(t),o in l){"placeholder"in l[o]?a.html(l[o].placeholder()):a.html(l.placeholder()),!0===n&&l.meta_box_button(t);let i={name:t};!1!==e&&(i=Object.assign(e,i)),"params"in l[o]&&(i=Object.assign(i,l[o].params())),l.ajaxQ("metabox",i,o,"error_meta_box_data")}}},l.prepare_date_filter_data=function(t){let e={ago:""};if(t.hasOwnProperty("footer_options")){const n=t.footer_options.default_date_filter;if(n.length){let t=n.split("|");if("filter"==t[0])e.ago=t[1];else{let n=t[1].split(":");e.ago="",e.from=n[1],e.to=n[2]}}}return e},l.run_meta_boxes=function(t=!1){!1===t&&(t=Object.keys(l.global.meta_boxes)),t.forEach(function(t){let e=l.global.meta_boxes[t],n=l.prepare_date_filter_data(e);l.run_meta_box(t,n)})},l.meta_box_footer=function(t,e){let n={filter_by_date:!1,default_date_filter:"",display_more_link:!1,more_link_title:""};const a=l.global.meta_boxes[t];a.hasOwnProperty("footer_options")&&Object.assign(n,a.footer_options);let o="";e.hasOwnProperty("filter")?o=e.filter:void 0!==n.default_date_filter&&(o=n.default_date_filter);let i="";e.hasOwnProperty("filter_start_date")&&(i=e.filter_start_date);let r="";e.hasOwnProperty("filter_end_date")&&(r=e.filter_end_date);let s="";e.hasOwnProperty("from")&&(s=e.from);let c="";if(e.hasOwnProperty("to")&&(c=e.to),!n.filter_by_date&&!n.display_more_link)return;let d='<div class="c-footer"><div class="c-footer__filter js-widget-filters">';n.filter_by_date&&(d+='\n            <button class="c-footer__filter__btn js-filters-toggle">'+l._("str_"+o)+`</button>\n            <div class="c-footer__filters">\n                <div class="c-footer__filters__current-filter">\n                    <span class="c-footer__current-filter__title js-filter-title">Last 7 days</span>\n                    <span class="c-footer__current-filter__date-range hs-filter-range">May 12,2020  -  May 20, 2020</span>\n                </div>\n                <div class="c-footer__filters__list">\n                    <button data-metabox-key="${t}" data-filter="today" class="c-footer__filters__list-item">`+l._("str_today")+`</button>\n                    <button data-metabox-key="${t}" data-filter="yesterday" class="c-footer__filters__list-item">`+l._("str_yesterday")+`</button>\n                    <button data-metabox-key="${t}" data-filter="this_week" class="c-footer__filters__list-item">`+l._("str_this_week")+`</button>\n                    <button data-metabox-key="${t}" data-filter="last_week" class="c-footer__filters__list-item">`+l._("str_last_week")+`</button>\n                    <button data-metabox-key="${t}" data-filter="this_month" class="c-footer__filters__list-item">`+l._("str_this_month")+`</button>\n                    <button data-metabox-key="${t}" data-filter="last_month" class="c-footer__filters__list-item">`+l._("str_last_month")+"</button>\n                    <button class=\"c-footer__filters__list-item c-footer__filters__list-item--more\" onclick=\"jQuery(this).closest('.c-footer__filters__list').find('.js-more-filters').addClass('is-open')\">"+l._("str_more")+`</button>\n                    <div class="c-footer__filters__more-filters js-more-filters">\n                        <button data-metabox-key="${t}" data-filter="7days" class="c-footer__filters__list-item">`+l._("str_7days")+`</button>\n                        <button data-metabox-key="${t}" data-filter="30days" class="c-footer__filters__list-item">`+l._("str_30days")+`</button>\n                        <button data-metabox-key="${t}" data-filter="90days" class="c-footer__filters__list-item">`+l._("str_90days")+`</button>\n                        <button data-metabox-key="${t}" data-filter="6months" class="c-footer__filters__list-item">`+l._("str_6months")+`</button>\n                        <button data-metabox-key="${t}" data-filter="this_year" class="c-footer__filters__list-item">`+l._("str_this_year")+"</button>\n                        <button class=\"c-footer__filters__close-more-filters\" onclick=\"jQuery(this).closest('.js-more-fi' + 'lters').removeClass('is-open')\">"+l._("str_back")+`</button>\n                    </div>\n                    <input type="text" class="c-footer__filters__custom-date-input js-datepicker-input"/>\n                    <button data-metabox-key="${t}" data-filter="custom" class="c-footer__filters__list-item c-footer__filters__list-item--custom js-custom-datepicker">`+l._("str_custom")+"</button>\n                </div>\n            </div>\n        "),d+='</div><div class="c-footer__more">',n.display_more_link&&(d+='<a class="c-footer__more__link" href="'+a.page_url+`">${n.more_link_title}<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.4191 7.98577L7.73705 5.22727L8.44415 4.5L12.3333 8.50003L8.44415 12.5L7.73705 11.7727L10.4191 9.01429H4.33325V7.98577H10.4191Z" fill="#56585A"/></svg></a>`),d+="</div></div>",jQuery(l.meta_box_inner(t)).append(d);const u=jQuery(l.meta_box_inner(t)).find(".js-datepicker-input").first();u.daterangepicker({autoApply:!0}),u.on("apply.daterangepicker",function(e,n){l.run_meta_box(t,{from:n.startDate.format("YYYY-MM-DD"),to:n.endDate.format("YYYY-MM-DD")})}),jQuery(".js-filters-toggle:not(.is-ready)").on("click",function(){jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox").removeClass("has-focus"),jQuery(this).closest(".js-widget-filters").toggleClass("is-active"),jQuery(this).closest(".postbox").toggleClass("has-focus"),jQuery(this).hasClass("is-active")||jQuery(this)[0].getBoundingClientRect().top<350&&jQuery(this).closest(".js-widget-filters").addClass("is-down")}),jQuery(".js-filters-toggle:not(.is-ready)").addClass("is-ready"),l.set_date_filter_as_selected(t,o,i,r,s,c)},l.set_date_filter_as_selected=function(t,e="30days",n,a,o,i){const r=jQuery(l.meta_box_inner(t)),s=jQuery(r).find(".c-footer__filter__btn"),c=jQuery(r).find(".c-footer__filters__list"),d=jQuery(r).find(".c-footer__current-filter__title"),u=jQuery(r).find(".c-footer__current-filter__date-range");if(e||(e="30days"),e.length&&(c.find("button[data-filter]").removeClass("is-selected"),c.find('button[data-filter="'+e+'"').addClass("is-selected"),s.text(l._("str_"+e)),d.text(l._("str_"+e)),"custom"==e)){s.text(n+" - "+a);const e=jQuery(l.meta_box_inner(t)).find(".js-datepicker-input").first();e.data("daterangepicker").setStartDate(moment(o).format("MM/DD/YYYY")),e.data("daterangepicker").setEndDate(moment(i).format("MM/DD/YYYY"))}n.length&&a.length&&u.text(n+" - "+a)},jQuery(document).on("click","button[data-filter]:not(.c-footer__filters__list-item--custom)",function(){l.run_meta_box(jQuery(this).attr("data-metabox-key"),{ago:jQuery(this).attr("data-filter")})}),jQuery(document).on("mouseenter mouseleave",".wps-refresh, .wps-more",function(t){"mouseenter"===t.type?l.wordpress_postbox_ajax("disable"):l.wordpress_postbox_ajax("enable")}),jQuery(document).on("click",'input[type=checkbox][id^="wp-statistics-"][id$="-widget-hide"]',function(){if(jQuery(this).is(":checked")){let t=jQuery(this).attr("id"),e=l.meta_box_name_by_id(t);l.run_meta_box(e)}}),l.btn_group_chart=function(t,e=!1){let n={7:l._("str_week"),30:l._("str_month"),365:l._("str_year")};var a;"ago"==e.type&&(a=parseInt(e.days));let o='<div class="wps-btn-group"><div class="btn-group" role="group">';return Object.keys(n).forEach(function(e){o+='<button type="button" class="btn '+(e==a?"btn-primary":"btn-default")+`" data-chart-time="${t}" data-time="${e}">${n[e]}</button>`}),o+='<button type="button" class="btn '+("between"==e.type?"btn-primary":"btn-default")+`" data-custom-date-picker="${t}">${l._("custom")}</button>`,o+="</div></div>",o+=`\n    <div data-chart-date-picker="${t}"`+("ago"==e.type?' style="display:none;"':"")+`>\n        <input type="text" size="18" name="date-from" data-wps-date-picker="from" value="${e.from}" placeholder="YYYY-MM-DD" autocomplete="off">\n        `+l._("to")+`\n        <input type="text" size="18" name="date-to" data-wps-date-picker="to" value="${e.to}" placeholder="YYYY-MM-DD" autocomplete="off">\n        <input type="submit" value="`+l._("go")+`" data-between-chart-show="${t}" class="button-primary">\n        <input type="hidden" name="" id="date-from" value="${e.from}">\n        <input type="hidden" name="" id="date-to" value="${e.to}">\n    </div>\n    `,o},jQuery(document).on("click",".wps-btn-group button",function(){jQuery(".wps-btn-group button").attr("class","btn btn-default"),jQuery(this).attr("class","btn btn-primary")}),jQuery(document).on("click","button[data-custom-date-picker]",function(){jQuery("div[data-chart-date-picker= "+jQuery(this).attr("data-custom-date-picker")+"]").slideDown()}),jQuery(document).on("click","button[data-chart-time]",function(){l.run_meta_box(jQuery(this).attr("data-chart-time"),{ago:jQuery(this).attr("data-time"),"no-data":"no"})}),jQuery(document).on("click","input[data-between-chart-show]",function(){let t=jQuery(this).attr("data-between-chart-show");l.run_meta_box(t,{from:jQuery("div[data-chart-date-picker="+t+"] input[id=date-from]").val(),to:jQuery("div[data-chart-date-picker="+t+"] input[id=date-to]").val(),"no-data":"no"})}),jQuery(document).on("click",function(t){if(jQuery(t.target).closest(".js-widget-filters").length){const e=t.target.classList;e.contains("c-footer__filter__btn")&&e.contains("is-active")?(t.target.classList.remove("is-active"),jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus"),setTimeout(function(){jQuery(".js-widget-filters").removeClass("is-down")},500)):e.contains("c-footer__filter__btn")&&!e.contains("is-active")&&t.target.classList.add("is-active")}else jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus"),jQuery(".c-footer__filter__btn.is-active").removeClass("is-active"),setTimeout(function(){jQuery(".js-widget-filters").removeClass("is-down")},500)});var Z,J=document.getElementById("wp-statistics-about-widget");J&&(J.querySelector(".js-wps-widget-customization-empty")||J.querySelector(".wps-about-widget__premium")||J.classList.add("wp-statistics-about-widget__customize")),l.render_wp_statistics_hitsmap_widget=function(t,e){if(!t?.response)return;const n=e.replace(/_/g,"-"),{output:a,data:o}=t.response;let i=Array(),r={};if(l.metaBoxInner(n).html(a),o?.codes?.length>0){const t={};o.codes.forEach((e,n)=>{const a=Number(o.raw_data[n])||0,i=o.data[n];t[e.toLowerCase()]={label:o.labels[n],flag:o.flags[n],visitors_raw:a,visitors:i}});const e=Math.max(1,...Object.values(t).map(t=>t.visitors_raw));Object.keys(t).forEach(n=>{const a=t[n],o=a.visitors_raw/e,s=Math.round(235-185*o),c=Math.round(245-109*o),d=Math.round(255-40*o);r[n]=`rgb(${s}, ${c}, ${d})`,i[n]=`<div class='map-html-marker'>\n                    <div class="map-country-header">\n                        <img src='${a.flag}' \n                            alt="${a.label}" \n                            class='log-tools wps-flag'/> \n                            <span>${a.label}  </span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>${a.visitors}</div>\n                    </div>\n                </div>`})}jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#fff",borderOpacity:.6,color:"#e6e6e6",selectedColor:"#596773",hoverColor:"#596773",colors:r,onLabelShow:function(t,e,n){const a=n.toLowerCase();if(i[a])return void e.html(i[a]);const o=`${l.global.assets_url}/images/flags/${a}.svg`,r=e.text();fetch(o).then(t=>{const n=t.ok?`<img src='${o}' alt="${r}"  class='log-tools wps-flag'/>`:"";e.html(`\n                <div class='map-html-marker'>\n                    <div class="map-country-header">\n                        ${n}\n                        <span>${r}</span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>0</div>\n                    </div>\n                </div>\n            `)}).catch(t=>{console.error("Error fetching the image:",t),e.html(`\n                <div class='map-html-marker'>\n                    <div class="map-country-header">\n                        <span>${r}</span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>0</div>\n                    </div>\n                </div>\n            `)})}}),l.initDatePickerHandlers()},l.render_wp_statistics_hourly_usage_widget=function(t,e){if(t&&t.response&&l.metaBoxInner(e).html(t.response.output),t.response?.data){let e=t.response.data;const n={data:e.data,previousData:e.previousData};l.TrafficHourCharts(n)}l.initDatePickerHandlers()},l.set_content=function(t,e){t&&t.response&&(l.metaBoxInner(e.replace(/_/g,"-")).html(t.response),l.initDatePickerHandlers())},l.render_table_content=l.set_content,l.render_wp_statistics_traffic_summary_widget=l.render_table_content,l.render_wp_statistics_referring_widget=l.render_table_content,l.render_wp_statistics_pages_widget=l.render_table_content,l.render_wp_statistics_top_visitors_widget=l.render_table_content,l.render_wp_statistics_recent_widget=l.render_table_content,l.render_wp_statistics_useronline_widget=l.render_table_content,l.render_wp_statistics_go_premium_widget=l.render_table_content,l.render_wp_statistics_about_metabox=l.render_table_content,l.render_wp_statistics_weekly_performance_widget=l.render_table_content,l.render_wp_statistics_post_visitors_widget=l.render_table_content,l.render_wp_statistics_source_categories_widget=l.render_table_content,l.render_wp_statistics_search_queries_widget=l.render_table_content,l.post_meta_box={params:function(){return{ID:l.global.page.ID}},view:function(t=[]){return t.hasOwnProperty("content")?' <div class="wps-center" style="padding: 15px;"> '+t.content+"</div>":' <div class="wps-wrap"> '+t.visitors+"</div>"},meta_box_init:function(t=[]){t.hasOwnProperty("content")&&jQuery("#"+l.getMetaBoxKey("post")+" button[onclick]").remove()}},l.render_wp_statistics_post_summary_widget=function(t,e){if(t&&t.response){if(l.metaBoxInner(e).html(t.response.output),t.response?.data){((t,e=[])=>{let n,a=e.postChartData,o=[],i="Visitors",r="#A5AAEA";void 0!==e.postChartSettings&&null!==e.postChartSettings&&(o=e.postChartSettings,o.color&&(r=o.color),o.label&&(i=o.label));const s={animation:!1,responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1,displayColors:!1,position:"nearest",intersect:!1,external:t=>{const{chart:e,tooltip:n}=t;let a=e.canvas.parentNode.querySelector("div");if(a||(a=document.createElement("div"),a.classList.add("c-wps-mini-chart-post-summary-tooltip"),e.canvas.parentNode.appendChild(a)),0!==n.opacity){if(n.body){const t=n.title||[],o=n.body.map(t=>t.lines);let i="<div>";t.forEach(t=>{i+=`<div class="chart-title">${t}</div>`}),o.forEach((t,e)=>{const n=t.join(": ");i+=`<div>${n}</div>`}),a.innerHTML=i;const{offsetLeft:r,offsetTop:s,offsetWidth:l,offsetHeight:c}=e.canvas;a.style.opacity=0===o[0].length?0:1;const d=a.offsetWidth;let u=r+n.caretX-d/2,p=s+c;u<r&&(u=r),u+d>r+l&&(u=r+l-d),a.style.left=`${u}px`,a.style.top=`${p}px`}}else a.style.opacity=0},callbacks:{title:t=>a[t[0].label].fullDate,label:t=>{const e=t.formattedValue;return`<div class="content-itemss"> <div class="content-item"><span>${i}</span> <span>${e}</span></div>`}}}},scales:{x:{offset:!0,grid:{display:!1},border:{color:"transparent",width:0},ticks:{align:"inner",maxTicksLimit:3,fontColor:"#898A8E",fontSize:10,padding:5}},y:{position:"right",beginAtZero:!0,grid:{display:!1},border:{color:"transparent",width:0},ticks:{align:"inner",maxTicksLimit:5,fontColor:"#898A8E",fontSize:10,padding:8,stepSize:1,callback:renderFormatNum}}},layout:{padding:{left:0,right:0,top:0,bottom:0}}},c=jQuery("#"+t)[0].getContext("2d"),d=Object.entries(a).map(([t,e])=>e.hits),u=d.length<=30?"bar":"line";"line"===u&&(n=c.createLinearGradient(0,0,0,c.canvas.height-10),n.addColorStop(0,l.hex_to_rgba(r,1)),n.addColorStop(.5,l.hex_to_rgba(r,.25)),n.addColorStop(.75,l.hex_to_rgba(r,0)),n.addColorStop(1,l.hex_to_rgba(r,0))),new Chart(c,{type:u,data:{labels:Object.entries(a).map(([t,e])=>t),datasets:[{data:d,backgroundColor:"line"===u?n:Object.entries(a).map(([t,e])=>0===e.hits?"#000000b3":l.hex_to_rgba(r,.5)),hoverBackgroundColor:"line"===u?n:Object.entries(a).map(([t,e])=>0===e.hits?"#000000b3":r),pointBackgroundColor:r,fill:"line"===u,barPercentage:.9,categoryPercentage:1,tension:.5,minBarLength:1,borderWidth:"line"===u?1:0,pointRadius:"line"===u?0:void 0,pointHoverRadius:"line"===u?5:void 0,borderColor:r}]},options:s})})("postSummaryChart",t.response.data)}l.initDatePickerHandlers()}},l.pages_meta_box={view:function(t=[]){let e="";if(t.pages&&t.pages.length>0){e+=`<div class="o-table-wrapper"><table width="100%" class="o-table wps-new-table">\n        <thead>\n            <tr>\n                <th scope="col" class="wps-pd-l">${l._("title")}</th>\n                <th scope="col" class="wps-pd-l"><span class="wps-order">${l._("views")}</span></th>\n                <th scope="col"><span class="screen-reader-text">Details</span></th>\n            </tr>\n        </thead>\n        <tbody> `,l.global.admin_url.replace("/wp-admin/","");let n=1;return t.pages.forEach(function(t){const a=document.getElementById("wp-statistics-pages-widget");let o=l._("view");a&&(o=null!==a.closest("#dashboard-widgets")||window.innerWidth<=500?l._("view"):l._("view_content")),e+=`<tr>\n\t\t\t<td class="wps-pd-l"><div class="wps-ellipsis-parent" title="${t.title}"><span class="wps-ellipsis-text">${t.title}</span></div></td>\n\t\t\t<td class="wps-pd-l"><a href="${t.hits_page}">${t.number}</a></td>\n\t\t    <td class="wps-pd-l"><a target="_blank" class="wps-view-content" href="${t.link}">${o}</a></td>\n\t\t\t</tr>`,n++}),e+="</tbody></table></div>",e}return l.no_meta_box_data()}},window.addEventListener("resize",function(){window.addEventListener("resize",function(){const t=document.getElementById("wp-statistics-pages-widget");let e=null;t&&(e=null!==t.closest("#dashboard-widgets"));const n=document.querySelectorAll(".wps-view-content");n.length>0&&n.forEach(function(t){t.textContent=e||window.innerWidth<=500?l._("view"):l._("view_content")})})}),l.render_line_chart=function(t,e){const n=e.replace(/_/g,"-");if(t&&t.response){if(l.metaBoxInner(n).html(t.response.output),t.response?.data){let a=t.response.data;const o={data:a.data,previousData:a.previousData};if("wp-statistics-quickstats-widget"!==n&&"wp-statistics-search-traffic-widget"!==n&&l.new_line_chart(o,`${n}-chart`),"wp-statistics-search-traffic-widget"===n){const i={scales:{x:{title:{display:!0,color:"#898A8E",font:{size:13}},grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0}},y:{position:"right",title:{display:!0,text:l._("impressions"),color:"#898A8E",rotation:2e3,font:{size:13}},ticks:{maxTicksLimit:7,callback:p},grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{display:!1,color:"transparent",width:0}},y1:{border:{color:"transparent",width:0},type:"linear",position:"left",ticks:{autoSkip:!0,maxTicksLimit:7,fontColor:"#898A8E",fontSize:13,padding:8,lineHeight:15,callback:renderFormatNum},afterBuildTicks:h,title:{display:!0,text:l._("clicks"),color:"#898A8E",font:{size:13}},grid:{display:!0,borderDash:[5,5],tickColor:"#EEEFF1",color:"#EEEFF1"}}}};l.new_line_chart(o,`${n}-chart`,i)}if("wp-statistics-quickstats-widget"===n){const r={scales:{x:{offset:1,grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0},ticks:{align:"inner",autoSkip:!0,maxTicksLimit:3,font:{color:"#AAABAE",weight:"lighter",size:11},padding:8}},y:{min:0,ticks:{font:{color:"#AAABAE",weight:"lighter",size:12},fontColor:"#AAABAE",fontSize:12,fontWeight:"lighter ",padding:8,lineHeight:14.06,callback:renderFormatNum},afterBuildTicks:h,border:{color:"transparent",width:0},type:"linear",position:"left",grid:{display:!0,tickMarkLength:0,drawBorder:!1,tickColor:"#EEF1F7",color:"#EEF1F7"},gridLines:{drawTicks:!1},title:{display:!1}}}},s=l.new_line_chart(o,"wp-statistics-quickstats-widget-chart",r);function c(t){const e=s.chart.getDatasetMeta(t);e.hidden=!e.hidden,s.chart.update()}document.querySelectorAll("#wp-statistics-quickstats-widget .wps-postbox-chart--items:nth-child(2) .wps-postbox-chart--item").forEach((t,e)=>{const n=t.querySelector(".current-data span:first-child");n&&t.addEventListener("click",()=>{n.classList.toggle("wps-line-through"),c(e)})})}}l.initDatePickerHandlers()}},l.render_wp_statistics_search_widget=l.render_line_chart,l.render_wp_statistics_hits_widget=l.render_line_chart,l.render_wp_statistics_traffic_summary_widget=l.render_line_chart,l.render_wp_statistics_quickstats_widget=l.render_line_chart,l.render_wp_statistics_search_traffic_widget=l.render_line_chart,l.horizontal_bar_metabox=function(t,e,n,a,o,i){t&&t.response&&(l.metaBoxInner(e).html(t.response.output),l.horizontal_bar(n,a,o,i),l.initDatePickerHandlers())},l.render_horizontal_bar_data=function(t,e){const n=e.replace(/_/g,"-");if(t.response?.data){const e=t.response.data;l.horizontal_bar_metabox(t,n,e.tag_id,e.labels,e.data,e.icons)}},l.render_wp_statistics_browsers_widget=function(t,e){l.render_horizontal_bar_data(t,e)},l.render_wp_statistics_platforms_widget=function(t,e){l.render_horizontal_bar_data(t,e)},l.render_wp_statistics_devices_widget=function(t,e){l.render_horizontal_bar_data(t,e)},l.render_wp_statistics_models_widget=function(t,e){l.render_horizontal_bar_data(t,e)},l.render_wp_statistics_countries_widget=function(t,e){l.render_horizontal_bar_data(t,e)},l.countries_meta_box={view:function(t=[]){let e="";if(t.countries&&t.countries.length>0){e+=`<div class="o-table-wrapper"><table width="100%" class="o-table wps-new-table"><thead>\n        <tr>\n            <th class="wps-pd-l">${l._("country")}</th>\n            <th class="wps-pd-l"><span class="wps-order">${l._("visitor_count")}</span></th>\n        </tr></thead><tbody>`;let n=1;return t.countries.forEach(function(t){e+=`<tr>\n \t\t\t<td class="wps-pd-l"><img src="${t.flag}" title="${t.name}" alt="${t.name}" class="wps-flag wps-flag--first"/> ${t.name}</td>\n\t\t\t<td class="wps-pd-l wps-middle-vertical"><a href="${t.link}" title="${t.name}" target="_blank">${l.number_format(t.number)}</a></td>\n\t\t\t</tr>`,n++}),e+="</tbody></table></div>",e}return l.no_meta_box_data()}};var tt=!1;try{"undefined"!=typeof Wp_Statistics_Visitors_Object&&Wp_Statistics_Visitors_Object?Z=Wp_Statistics_Visitors_Object:tt=!0}catch(xt){tt=!0}var et=tt?[]:[{elementId:"visitors-logged-in-users",data:Z?.logged_in_users},{elementId:"visitors-device-categories",data:Z?.devices},{elementId:"visitors-top-countries",data:Z?.countries},{elementId:"visitors-top-browsers",data:Z?.browsers}],nt=tt?null:Z?.traffic,at=tt?[]:[{elementId:"trafficTrendsChart",dataSource:()=>Wp_Statistics_Visitors_Object?.traffic_chart_data},{elementId:"trafficChart",dataSource:()=>nt},{elementId:"LoggedInUsersChart",dataSource:()=>Wp_Statistics_Visitors_Object?.logged_in_chart_data}],ot=tt?{}:{elementId:"wp-statistics-visitors-map",data:Z?.map},it=({elementId:t,data:e})=>{const n=document.getElementById(t);if(n)if(e?.data?.length)try{l.horizontal_bar(t,e.labels,e.data,e.icons)}catch(xt){jQuery(n).parent().html(l.no_results())}else jQuery(n).parent().html(l.no_results())},rt=({elementId:t,dataSource:e})=>{const n=document.getElementById(t);if(!n)return;const a=e();if(a)try{l.new_line_chart(a,t,null)}catch(xt){jQuery(n).parent().html(l.no_results())}else jQuery(n).parent().html(l.no_results())};if("undefined"!=typeof Wp_Statistics_Visitors_Object&&Wp_Statistics_Visitors_Object&&l.isset(l.global,"request_params","page")&&"visitors"===l.global.request_params.page&&(et.forEach(it),at.forEach(rt),(({elementId:t,data:e})=>{const n=document.getElementById(t);if(n)if(e?.labels?.length&&e?.data?.length)try{l.vectorMap(e)}catch(xt){jQuery(n).parent().html(l.no_results())}else jQuery(n).parent().html(l.no_results())})(ot)),document.addEventListener("click",function(t){if(l.isset(l.global,"request_params","page")&&("privacy-audit"===l.global.request_params.page||"tracker-debugger"===l.global.request_params.page)){if(t.target.closest(".js-openModal-wps-modal-privacy-audit-confirmation")||t.target.closest("a[data-action]"))return;const e=t.target.closest(".wps-audit-card__header");if(e){t.preventDefault();const n=e.closest(".wps-audit-card");if(n){const t=document.querySelectorAll(".wps-audit-card"),e=n.classList.contains("wps-audit-card--expanded");if(t.forEach(t=>{if(t!==n){t.classList.remove("wps-audit-card--expanded"),t.classList.add("wps-audit-card--collapsed");const e=t.querySelector(".wps-audit-card__toggle");e&&e.setAttribute("aria-expanded","false")}}),e){n.classList.remove("wps-audit-card--expanded"),n.classList.add("wps-audit-card--collapsed");const t=n.querySelector(".wps-audit-card__toggle");t&&t.setAttribute("aria-expanded","false")}else{n.classList.remove("wps-audit-card--collapsed"),n.classList.add("wps-audit-card--expanded");const t=n.querySelector(".wps-audit-card__toggle");t&&t.setAttribute("aria-expanded","true")}}}}}),l.isset(l.global,"request_params","page")&&"taxonomies"===l.global.request_params.page){let $t={ago:0,type:l.global.request_params.taxonomy,ID:0};["from","to","ID"].forEach(t=>{l.isset(l.global,"request_params",t)&&($t[t]=l.global.request_params[t])}),jQuery("span[id^='number-total-']").html(l.rectangle_placeholder("wps-text-placeholder")),l.run_meta_box("pages-chart",$t,!1)}if(l.isset(l.global,"request_params","page")&&"settings"===l.global.request_params.page){if(jQuery("#wp-statistics-settings-form ul.tabs li").click(function(t){t.preventDefault();let e=$(this).attr("data-tab");"undefined"!=typeof localStorage&&localStorage.setItem("wp-statistics-settings-active-tab",e)}),"undefined"!=typeof localStorage&&l.isset(l.global,"request_params","save_setting")&&"yes"===l.global.request_params.save_setting){let Yt=localStorage.getItem("wp-statistics-settings-active-tab");Yt&&Yt.length>0&&$("#wp-statistics-settings-form ul.tabs li[data-tab="+Yt+"]").click()}class Mt{constructor(){this.initialize()}initialize(){document.querySelectorAll('[class^="js-wps-show_if_"]').forEach(t=>{const e=[...t.className.split(" ")],n=()=>{let n=0,a=0;if(e.forEach(e=>{if(e.includes("_enabled")||e.includes("_disabled")){n++;const o=this.extractId(t),i=document.querySelector(`#${o}`)||document.querySelector(`#wps_settings\\[${o}\\]`);i&&"checkbox"===i.type&&(i.checked&&e.includes("_enabled")||!i.checked&&e.includes("_disabled"))&&a++}else if(e.includes("_equal_")){n++;const{id:t,value:o}=this.extractIdAndValue(e);if(t&&o){const e=document.querySelector(`#wps_settings\\[${t}\\]`);e&&"select-one"===e.type&&e.value===o&&a++}}}),n>0&&a===n)this.toggleDisplay(t);else{t.style.display="none";const e=t.querySelector('input[type="checkbox"]');e&&(e.checked=!1)}};n(),e.forEach(e=>{if(e.includes("_enabled")||e.includes("_disabled")){const e=this.extractId(t),a=document.querySelector(`#wps_settings\\[${e}\\]`);a&&a.addEventListener("change",n)}else if(e.includes("_equal_")){const{id:t}=this.extractIdAndValue(e);if(t){const e=document.querySelector(`#wps_settings\\[${t}\\]`);e&&($(e).hasClass("select2-hidden-accessible")?$(e).on("select2:select",n):"select-one"===e.type&&e.addEventListener("change",n))}}})})}toggleDisplay(t){const e="tr"===t.tagName.toLowerCase()?"table-row":"table-cell";t.style.display=e}extractId(t){const e=t.className.split(" ");for(const n of e)if(n.startsWith("js-wps-show_if_"))return n.replace("js-wps-show_if_","").replace("_enabled","").replace("_disabled","");return null}extractIdAndValue(t){let e,n;if(t.startsWith("js-wps-show_if_")){const a=t.split("_"),o=a.indexOf("equal");-1!==o&&o>2&&o<a.length-1&&(e=a.slice(2,o).join("_"),n=a.slice(o+1).join("_"))}return{id:e,value:n}}}$(document).ready(function(){const t=$("#wps_settings\\[wps_schedule_dbmaint\\]");if(t.on("change",function(){if(this.checked){const e=document.getElementById("setting-confirmation");if(e){e.classList.add("wps-modal--open");const n=e.querySelector('button[data-action="enable"]');n&&n.addEventListener("click",function(){e.classList.remove("wps-modal--open")},{once:!0});const a=e.querySelector('button[data-action="closeModal"]');a&&a.addEventListener("click",function(){t.prop("checked",!1),e.classList.remove("wps-modal--open"),new Mt},{once:!0})}}}),new Mt,document.getElementById("wps_addon_settings[marketing][site]")){document.createElement("div").className="notice notice-error wp-statistics-notice";const t=jQuery("body").hasClass("rtl")?"rtl":"ltr",e=jQuery(".wps-addon-settings--marketing select").select2({ajax:{url:l.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",delay:250,data:function(t){return{wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_get_gsc_sites",term:t.term}},processResults:function(t){if(t&&t.success&&t.data){const n=t.data.map(t=>({id:t.key,text:t.label})),a=n.find(e=>t.data.find(t=>t.selected&&t.key===e.id));return a&&e.append(new Option(a.text,a.id,!0,!0)).trigger("change.select2"),{results:n}}{let e=document.querySelector(".wp-statistics-notice");e||(e=document.createElement("div"),e.className="notice notice-error wp-statistics-notice"),e.innerHTML=`<p>${t.data||"Error loading sites"}</p>`,document.querySelector("#marketing-settings").prepend(e);const n=document.querySelector("#marketing-settings").getBoundingClientRect().top+window.scrollY;return window.scrollTo({top:n,behavior:"smooth"}),{results:[]}}},error:function(t,e,n){return{results:[]}},cache:!0},dir:t,dropdownCssClass:"wps-site-dropdown-class wps-marketing-select2",minimumResultsForSearch:1/0});e.on("select2:select",function(t){const n=t.params.data;e.val(n.id).trigger("change")})}})}function st(t){jQuery(".wp-statistics-settings .wps-optionsMenu .wps-optionsMenuItem").removeClass("current"),jQuery(".wp-statistics-settings .tab-content").removeClass("current"),jQuery("[data-tab="+t+"]").addClass("current"),jQuery("#"+t).addClass("current");const e=new URL(window.location.href);if(e.searchParams.set("tab",t),e.searchParams.delete("save_setting"),window.history.pushState({},"",e.toString()),jQuery("#wp-statistics-settings-form").length){var n=jQuery(location).attr("href")+"&tab="+t;jQuery("#wp-statistics-settings-form").attr("action",n).submit()}}function lt(){function t(){let t=0;!function e(){if(document.querySelector(".wps-optionsMenu"))!function(){const t=document.querySelector(".wps-optionsMenu");if(!t)return void console.warn("Menu element (.wps-optionsMenu) not found");const e=document.createElement("div");e.classList.add("wps-setting-select-wrapper");const n=document.createElement("select");n.classList.add("wps-options-mobile-menu"),n.setAttribute("aria-label","mobile menu");const a=t.querySelectorAll("a[data-tab]:not(.premium)"),o=t.querySelectorAll("a[data-tab].premium"),i=t.querySelector(".wps-settings-side__title"),r=i?i.textContent:l._("settings"),s=document.createElement("optgroup");if(s.label=r,a.forEach(t=>{const e=document.createElement("option");e.value=t.getAttribute("data-tab"),e.textContent=t.querySelector("span").textContent,s.appendChild(e)}),n.appendChild(s),o.length>0){const t=document.createElement("optgroup");t.label=l._("premium_addons"),o.forEach(e=>{const n=document.createElement("option");n.value=e.getAttribute("data-tab"),n.textContent=e.querySelector("span").textContent,t.appendChild(n)}),n.appendChild(t)}e.appendChild(n),t.parentNode.insertBefore(e,t);const c=t.querySelector("a[data-tab].current");if(c)n.value=c.getAttribute("data-tab");else if(a.length>0){const t=a[0].getAttribute("data-tab");n.value=t,ct(t)}const d=jQuery("body").hasClass("rtl")?"rtl":"ltr";if("function"==typeof $.fn.select2)if($(n).select2({dropdownCssClass:"wps-setting-input__dropdown",minimumResultsForSearch:1/0,dir:d}),c){const t=c.getAttribute("data-tab");$(n).val(t).trigger("change.select2")}else if(a.length>0){const t=a[0].getAttribute("data-tab");$(n).val(t).trigger("change.select2")}$(n).on("change",function(t){ct(t.target.value)});const u=new MutationObserver(e=>{e.forEach(e=>{if("class"===e.attributeName){const e=t.querySelector("a[data-tab].current");if(e){const t=e.getAttribute("data-tab");$(n).val()!==t&&$(n).val(t).trigger("change.select2")}}})});t.querySelectorAll("a[data-tab]").forEach(t=>{u.observe(t,{attributes:!0})})}();else if(t++,t<10)setTimeout(e,500);else{const t=document.createElement("div");t.classList.add("wps-setting-select-wrapper"),document.body.appendChild(t)}}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}function ct(t){document.querySelectorAll(".wps-optionsMenuItem").forEach(t=>{t.classList.remove("current")});const e=document.querySelector(`[data-tab="${t}"]`);e&&(st(t),e.classList.add("current"))}if(jQuery(document).ready(function(){lt()}),window.onload=function(){const t=document.querySelector(".wps-alert__close");if(t){const e=t.closest(".wps-alert");e&&t.addEventListener("click",function(){e.remove()})}const e=document.querySelector(".wps-gototop");e&&(e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",function(){window.scrollY>100?e.classList.add("active"):e.classList.remove("active")}))},jQuery(".wp-statistics-settings").length){var dt=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);if(e)return e[1]}("tab");dt&&st(dt),document.querySelectorAll(".iris-square-value").forEach(t=>{if(!t.classList.contains("screen-reader-text")){const e=document.createElement("span");e.className="screen-reader-text",e.textContent="square-value",t.appendChild(e)}}),jQuery(".wp-statistics-settings .wps-optionsMenu .wps-optionsMenuItem").click(function(){st(jQuery(this).attr("data-tab"))});const Lt=document.querySelector('input[name="user_custom_header_ip_method"]'),Ot=document.getElementById("custom-header");if(Lt&&Ot){function qt(){Ot.checked=!0}Ot.addEventListener("change",function(){Ot.checked&&Lt.focus()}),Lt.addEventListener("click",qt),Lt.addEventListener("paste",qt),Lt.addEventListener("input",qt),Lt.addEventListener("dragover",qt),Lt.addEventListener("drop",qt)}}document.querySelectorAll(".wps-input-group__copy").forEach(t=>{t.addEventListener("click",function(){const e=this.closest(".wps-input-group__action").querySelector("input");navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(e.value).then(()=>{const e=t.textContent;t.textContent=l._("copied"),t.classList.remove("has-icon"),setTimeout(()=>{t.textContent=e,t.classList.add("has-icon")},2e3)}).catch(t=>{console.error("Failed to copy: ",t)})})});var ut=jQuery(".wps-wrap__settings select");ut.length&&ut.select2({dropdownCssClass:"wps-setting-input__dropdown",minimumResultsForSearch:1/0});var pt,ht=(pt="row",new URLSearchParams(window.location.search).get(pt));if(ht){const Pt=document.querySelector(`tr[data-id="${ht}"]`);Pt?setTimeout(()=>{Pt.scrollIntoView({behavior:"smooth",block:"center"}),Pt.classList.add("wps-highlight")},500):console.log(`No row found with data-id="${ht}"`)}if(l.isset(l.global,"request_params","page")&&"referrals"===l.global.request_params.page){const Qt=l.rectangle_placeholder();function At(t,e){if(document.getElementById(t)){const n=jQuery(`#${t}`).parent();e?.data?.datasets&&0!==e.data.datasets.length?(jQuery(".wps-postbox-chart--data").removeClass("c-chart__wps-skeleton--legend"),n.removeClass("c-chart__wps-skeleton"),l.new_line_chart(e,t)):n.html(l.no_results())}}const It=(t,e)=>{if(document.getElementById(t)){const n=jQuery(`#${t}`).parent();n.find(".wps-ph-item").remove(),n.append(Qt),e.data&&0!==e.data.length?(jQuery(".wps-ph-item").remove(),l.horizontal_bar(t,e.labels,e.data,e.icons)):n.html(l.no_results())}};if("undefined"!=typeof Wp_Statistics_Referrals_Object){At("sourceCategoriesChart",Wp_Statistics_Referrals_Object.source_category_chart_data);At("socialMediaChart",Wp_Statistics_Referrals_Object.social_media_chart_data);At("incomeVisitorChart",Wp_Statistics_Referrals_Object.search_engine_chart_data);It("referral-top-countries",Wp_Statistics_Referrals_Object.countries_chart_data);It("referral-top-browser",Wp_Statistics_Referrals_Object.browser_chart_data);It("referral-device-type",Wp_Statistics_Referrals_Object.device_chart_data);At("referralVisitorChart",Wp_Statistics_Referrals_Object.traffic_chart_data);At("referral-social-media-chart",Wp_Statistics_Referrals_Object.social_media_chart_data);At("referral-search-engines-chart",Wp_Statistics_Referrals_Object.search_engine_chart_data)}}if(l.isset(l.global,"request_params","page")&&"privacy-audit"===l.global.request_params.page){function Bt(t){const e=jQuery(".wps-adminHeader .wps-adminHeader__side .privacy"),n=jQuery(".wps-privacy-status");n.removeClass("loading success warning"),n.find(".wps-privacy-status__bar-passed").css("display","none"),n.addClass(100==t.percentage_ready?"success":"warning"),n.find(".wps-privacy-status__percent-value").text(t.percentage_ready),n.find(".wps-privacy-status__rules-mapped-value").text(t.rules_mapped),n.find(".wps-privacy-status__passed-value").text(t.summary.passed),n.find(".wps-privacy-status__final-value").text(t.rules_mapped),t.summary.action_required>0?e.addClass("warning"):e.removeClass("warning"),t.summary.passed>0&&(n.find(".wps-privacy-status__bar-passed").css("display","block"),n.find(".wps-privacy-status__bar-passed").css("width",`${t.percentage_ready}%`))}function zt(t,e){const n=jQuery(e);n.html(""),n.parent().removeClass("loading");const a=Array.isArray(t)?t:Object.values(t);a.forEach(t=>{const e=Ut(t);n.append(e)}),0===a.length?jQuery(e).parent().css("display","none"):jQuery(e).parent().css("display","block")}function Ft(t){zt(t,".wps-privacy-passed .wps-audit-cards__container")}function Wt(t){zt(t,".wps-privacy-recommended .wps-audit-cards__container"),Object.keys(t).length>0&&(document.querySelector(".wps-privacy-recommended").style.display="block")}jQuery(document).ready(()=>{let t={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_getPrivacyStatus"};t=Object.assign(t,l.global.request_params),jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:t,timeout:3e4,success:function({data:t,success:e}){if(0==e)return console.log(t);Bt(t.compliance_status),t.unpassed_audits&&zt(t.unpassed_audits,".wps-privacy-unpassed .wps-audit-cards__container"),t.passed_audits&&Ft(t.passed_audits),t.recommended_audits&&Wt(t.recommended_audits),Rt(t.faq_list)},error:function(t,e,n){console.log(n)}})}),document.addEventListener("click",t=>{const e=t.target.closest(".wps-privacy-list__button[data-action]");if(e){const t=jQuery(e),n=t.data("audit"),a=t.data("action");if(jQuery("#"+n),t.hasClass("loading"))return;t.addClass("loading"),jQuery(".wps-privacy-questions .wps-privacy-list__items").addClass("loading"),jQuery(".wps-privacy-status").addClass("loading");let o={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_updatePrivacyStatus",audit_name:n,audit_action:a};o=Object.assign(o,l.global.request_params),jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:o,timeout:3e4,success:function({data:t,success:e}){if(0==e)return console.log(t);location.reload()},error:function(t,e,n){console.log(n)}})}});const Nt=t=>t?`\n        <div class="wps-audit-card__icon">${t}</div>`:"";function Ut(t){let e="",n=t.status,a=t.compliance.value;t.hasOwnProperty("action")&&(a=t.action.value,"resolve"===t.action.key?(e+=`data-audit="${t.name}"  data-action-modal="${t.action.key}"`,n=t.action.key+" js-openModal-privacy-audit-confirmation",document.querySelector("#privacy-audit-confirmation .wps-privacy-list__button").setAttribute("data-audit",t.name)):(e+=`data-audit="${t.name}" data-action="${t.action.key}"`,n=t.action.key));let o=`\n        <div id="${t.name}"  class="wps-audit-card wps-audit-card--${t.status}">\n            <div class="wps-audit-card__header">\n                <div class="wps-audit-card__top">\n                    <div class="wps-audit-card__details">\n                         ${Nt(t?.icon)}\n                          <div>\n                            <h3 class="wps-audit-card__title">${t.title}</h3>\n                          </div>\n                    </div>\n                    <div class="wps-audit-card__status">`;return t.hasOwnProperty("action")||(o+=' <span class="wps-audit-card__status-indicator"></span>'),o+=` \n                         <a ${e} class="wps-privacy-list__button wps-privacy-list__button--${n}">${a}</a>\n                        <button class="wps-audit-card__toggle"  aria-label="Toggle audit details"  aria-expanded="false"></button>\n                    </div>\n                </div>\n            </div>\n            <div class="wps-audit-card__body">\n                <div class="wps-audit-card__content-text">${t.notes}</div>\n            </div>\n        </div>`,o}function Rt(t){const e=jQuery(".wps-privacy-questions .wps-audit-cards__container");e.html(""),e.removeClass("loading"),t.forEach(t=>{const n=Ht(t);e.append(n)})}function Ht(t){let e=`\n        <div class="wps-audit-card wps-audit-card--${t.status}">\n            <div class="wps-audit-card__header">\n                <div class="wps-audit-card__top">\n                    <div class="wps-audit-card__details">\n                        ${Nt(t.icon)}\n                        <div>\n                            <h3 class="wps-audit-card__title">${t.title}</h3>\n                            <p class="wps-audit-card__summary">${t.summary}</p>\n                        </div>\n                    </div>\n                    <div class="wps-audit-card__status">\n                        <span class="wps-audit-card__status-indicator"></span>`;return"warning"===t.status&&(e+=`<span class="wps-audit-card__status-text">${l._("action_required")}</span>`),e+=`\n                        <button class="wps-audit-card__toggle"  aria-label="Toggle audit details"  aria-expanded="false"></button>\n                    </div>\n                </div>\n            </div>\n            <div class="wps-audit-card__body">\n                <div class="wps-audit-card__content-text">${t.notes}</div> \n            </div>\n        </div>`,e}}if(l.isset(l.global,"request_params","page")&&"platform"===l.global.request_params.page){let Gt={};["from","to"].forEach(t=>{l.isset(l.global,"request_params",t)&&(Gt[t]=l.global.request_params[t])}),["platforms-table","platforms"].forEach(t=>{jQuery("#"+l.getMetaBoxKey(t)+" .inside").css("height","430px")}),jQuery("#wp-statistics-platforms-table-widget .inside").html(l.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),l.run_meta_box("platforms",Gt,!1)}if("index.php"===l.global.page.file||l.is_active("overview_page")||"post-new.php"===l.global.page.file||"post.php"===l.global.page.file&&l.isset(l.global,"page","ID")){const Vt=l.global.meta_boxes.side,Xt=l.global.meta_boxes.normal,Kt=l.global.meta_boxes?.column3,Zt=l.global.meta_boxes?.column4,Jt=null!==document.getElementById("dashboard-widgets");class te{static getDateRange(t){const e=moment().format("YYYY-MM-DD"),n=moment().endOf("week").format("YYYY-MM-DD");return{today:{start:e,end:e},yesterday:{start:moment().subtract(1,"days").format("YYYY-MM-DD"),end:moment().subtract(1,"days").format("YYYY-MM-DD")},this_week:{start:moment().startOf("week").format("YYYY-MM-DD"),end:n},last_week:{start:moment().subtract(1,"week").startOf("week").format("YYYY-MM-DD"),end:moment().subtract(1,"week").endOf("week").format("YYYY-MM-DD")},this_month:{start:moment().startOf("month").format("YYYY-MM-DD"),end:moment().endOf("month").format("YYYY-MM-DD")},last_month:{start:moment().subtract(1,"month").startOf("month").format("YYYY-MM-DD"),end:moment().subtract(1,"month").endOf("month").format("YYYY-MM-DD")},"7days":{start:moment().subtract(6,"days").format("YYYY-MM-DD"),end:e},"28days":{start:moment().subtract(27,"days").format("YYYY-MM-DD"),end:e},"30days":{start:moment().subtract(29,"days").format("YYYY-MM-DD"),end:e},"90days":{start:moment().subtract(89,"days").format("YYYY-MM-DD"),end:e},"6months":{start:moment().subtract(6,"months").format("YYYY-MM-DD"),end:e},this_year:{start:moment().startOf("year").format("YYYY-MM-DD"),end:moment().endOf("year").format("YYYY-MM-DD")},last_year:{start:moment().subtract(1,"year").startOf("year").format("YYYY-MM-DD"),end:moment().subtract(1,"year").endOf("year").format("YYYY-MM-DD")}}[t]||{start:null,end:null}}static formatDateRange(t,e){if(!t||!e)return"";const n=moment(t),a=moment(e);return n.isSame(a,"day")?n.format("MMM D, YYYY"):`${n.format("MMM D, YYYY")} - ${a.format("MMM D, YYYY")}`}static getDefaultDateRange(){const t=moment().format("YYYY-MM-DD");return{start:moment().subtract(29,"days").format("YYYY-MM-DD"),end:t}}}class ee{constructor(){this.initializeEventListeners()}initializeEventListeners(){this.initializeFilterToggles(),this.initializeMoreFilters(),this.initializeDatePicker(),this.initializeCustomDatePicker(),this.initializeDateSelection(),this.initializeFilterClicks()}initializeFilterToggles(){jQuery(document).off("click",".js-filters-toggle").on("click",".js-filters-toggle",t=>{const e=jQuery(t.currentTarget);jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox").removeClass("has-focus"),e.closest(".js-widget-filters").toggleClass("is-active"),e.closest(".postbox").toggleClass("has-focus"),e[0].getBoundingClientRect().top<350&&e.closest(".js-widget-filters").addClass("is-down")}),document.querySelectorAll("button.handlediv:not(.wps-refresh)").forEach(t=>{if(!t.hasAttribute("aria-label")){const e=t.querySelector(".screen-reader-text");e&&e.textContent.trim()&&t.setAttribute("aria-label",e.textContent.trim())}})}initializeMoreFilters(){jQuery(document).off("click",".js-show-more-filters").on("click",".js-show-more-filters",t=>{t.preventDefault(),jQuery(t.currentTarget).closest(".c-footer__filters__list").find(".js-more-filters").addClass("is-open")}),jQuery(document).off("click",".js-close-more-filters").on("click",".js-close-more-filters",t=>{t.preventDefault(),jQuery(t.currentTarget).closest(".js-more-filters").removeClass("is-open")})}initializeDatePicker(){jQuery(".js-datepicker-input").each(function(){jQuery(this).data("daterangepicker")||jQuery(this).daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:{cancelLabel:"Clear",format:"YYYY-MM-DD"}})})}initializeCustomDatePicker(){jQuery(document).off("click",'button[data-filter="custom"]').on("click",'button[data-filter="custom"]',t=>{const e=jQuery(t.currentTarget).attr("data-metabox-key"),n=jQuery("#"+e+" .inside .js-datepicker-input").first();this.setupDateRangePicker(n,e),n.data("daterangepicker").show()})}setupDateRangePicker(t,e){t.data("daterangepicker")||(t.daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:{cancelLabel:"Clear",format:"YYYY-MM-DD"}}),t.on("apply.daterangepicker",(t,n)=>{const a={startDate:n.startDate.format("YYYY-MM-DD"),endDate:n.endDate.format("YYYY-MM-DD")};this.handleDateSelection(e,a,n)}))}initializeDateSelection(){jQuery(".js-datepicker-input").off("apply.daterangepicker").on("apply.daterangepicker",(t,e)=>{const n=jQuery(t.currentTarget).closest(".postbox").attr("id"),a={startDate:e.startDate.format("YYYY-MM-DD"),endDate:e.endDate.format("YYYY-MM-DD")};this.handleDateSelection(n,a,e)}),jQuery(".js-datepicker-input").off("hide.daterangepicker").on("hide.daterangepicker",(t,e)=>{if(e.startDate){const n=jQuery(t.currentTarget).closest(".postbox").attr("id"),a={startDate:e.startDate.format("YYYY-MM-DD"),endDate:e.endDate?e.endDate.format("YYYY-MM-DD"):e.startDate.format("YYYY-MM-DD")};this.handleDateSelection(n,a,e,!0)}})}handleDateSelection(t,e,n,a=!1){const o=jQuery("#"+t),i=e.startDate===e.endDate?n.startDate.format("MMM D, YYYY"):n.startDate.format("MMM D, YYYY")+" - "+n.endDate.format("MMM D, YYYY");this.updateUIElements(o,i,a),this.loadMetaBoxData(t,e)}updateUIElements(t,e,n){const a=n?"Custom Range":l._("str_custom");t.find(".js-filter-title").text(a),t.find(".hs-filter-range").text(e),t.find(".js-filters-toggle").text(a),t.find(".c-footer__filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus")}initializeFilterClicks(){jQuery(document).off("click",'.c-footer__filters__list-item:not(.js-show-more-filters):not(.js-close-more-filters):not([data-filter="custom"])').on("click",'.c-footer__filters__list-item:not(.js-show-more-filters):not(.js-close-more-filters):not([data-filter="custom"])',t=>{const e=jQuery(t.currentTarget),n=e.data("filter"),a=e.closest(".postbox"),o=a.attr("id"),i=te.getDateRange(n);this.updateFilterUI(a,e,i),this.loadMetaBoxData(o,i,n)})}updateFilterUI(t,e,n){t.find(".js-filter-title").text(e.text()),t.find(".hs-filter-range").text(te.formatDateRange(n.start,n.end)),t.find(".js-filters-toggle").text(e.text()),t.find(".c-footer__filters").removeClass("is-active"),e.closest(".postbox.has-focus").removeClass("has-focus")}loadMetaBoxData(t,e,n="custom"){l.showLoadingSkeleton(t),ne(t,e.startDate||e.start,e.endDate||e.end,n).then(e=>{l.handleMetaBoxRender(e,t)}).catch(e=>console.error(`Error loading metabox ${t}:`,e))}}function ne(t,e=null,n=null,a=null){return new Promise((o,i)=>{let r={action:`${t.replace(/-/g,"_").replace("widget","metabox")}_get_data`,wps_nonce:l.global.rest_api_nonce,current_page:l.global.page};a&&(r.date_filter=a),e&&n&&(r.from=e,r.to=n);const s=`${t}_success`,c=`${t}_error`;l[s]=function(t){return o(t),t},l[c]=function(t){return i(t),t},l.ajaxQ(l.global.admin_url+"admin-ajax.php",r,s,c,"GET",!1)})}function ae(){let t=[];return $("#adv-settings").length>0?$('#adv-settings input[type="checkbox"]').each(function(){if($(this).is(":checked")){let e=$(this).attr("id").replace("-hide","");t.push(e)}}):(t=[...Array.isArray(Vt)?Vt:[],...Array.isArray(Xt)?Xt:[]],Jt&&(Kt&&(t=[...t,...Kt]),Zt&&(t=[...t,...Zt]))),t}function oe(t){ne(t).then(e=>{l.handleMetaBoxRender(e,t)})}l.datePickerHandler=new ee,l.initDatePickerHandlers=function(){l.datePickerHandler.initializeEventListeners()},l.handleGoogleSearchButton=function(t,e,n){const a=jQuery(`#${t}`),o=a.find(".handle-actions button:first"),i=a.find(".wps-google-link");i.length&&i.remove();const r={href:e,class:n?"wps-tooltip handlediv wps-google-link":"handlediv wps-google-link",target:"_blank",...n&&{title:n}};jQuery("<a>",r).append('<span class="wps_search-console_icon"></span>').insertBefore(o)},l.handleMetaBoxRender=function(t,e){const n=e.replace(/-/g,"_");"function"==typeof l[`render_${n}`]&&(l[`render_${n}`](t,e),l.handelReloadButton(e),t?.options?.google_icon_url&&l.handleGoogleSearchButton(e,t.options?.google_icon_url,t.options?.google_icon_tooltip),l.handelMetaBoxFooter(e,t))};let ie=ae(),re=0,se=0,le=0,ce=0,de=Xt?Xt.length:0,ue=Vt?Vt.length:0,pe=Jt&&Kt?Kt.length:0,he=Jt&&Zt?Zt.length:0,_e=Jt?window.innerWidth<800:window.innerWidth<759;function fe(t,e,n){if(!t||0===n)return e;for(;e<n;)ie.includes(t[e])&&oe(t[e]),e++;return e}for(;re<de||se<ue||Jt&&(le<pe||ce<he);)if(_e)Jt?(re=fe(Xt,re,de),se=fe(Vt,se,ue),Kt&&(le=fe(Kt,le,pe)),Zt&&(ce=fe(Zt,ce,he))):(se=fe(Vt,se,ue),re=fe(Xt,re,de));else{function ge(t,e,n){if(!t||0===n)return e;for(;e<n&&!ie.includes(t[e]);)e++;return e<n&&(oe(t[e]),e++),e}Jt?(re=ge(Xt,re,de),se=ge(Vt,se,ue),le=ge(Kt,le,pe),ce=ge(Zt,ce,he)):(se=ge(Vt,se,ue),re=ge(Xt,re,de))}function me(t){t.forEach(t=>{jQuery(document).on("click",`#${t} .wps-refresh`,function(){l.showLoadingSkeleton(t),oe(t)})})}jQuery(document).on("change",'#adv-settings input[type="checkbox"]',function(){let t=$(this).attr("id").replace("-hide","");$(this).is(":checked")&&oe(t)}),Vt&&me(Vt),Xt&&me(Xt),Jt&&(Kt&&me(Kt),Zt&&me(Zt)),l.metaBoxInner=t=>jQuery("#"+t+" .inside"),l.showLoadingSkeleton=function(t){jQuery("#"+t+" .inside").html('<div class="wps-skeleton-container"><div class="wps-skeleton-container__skeleton wps-skeleton-container__skeleton--full wps-skeleton-container__skeleton--h-150"></div></div>')},l.handelReloadButton=t=>{const e="#"+t+" .handle-actions button:first";jQuery("#"+t+" .wps-refresh").length||jQuery(`<button class="handlediv wps-refresh" aria-label="reload button" type="button" title="${l._("reload")}"></button>`).insertBefore(e)},l.handelMetaBoxFooter=function(t,e){let n='<div class="c-footer"><div class="c-footer__filter js-widget-filters">';if(e.options&&e.options.datepicker){let a,o,i=l._("str_30days"),r=l._("str_30days");if(e?.filters&&e.filters.date&&e.filters.date.filter){const t=l.isset(l.global,"options","wp_date_format")?l.global.options.wp_date_format:"MM/DD/YYYY";let n=y(t);const s=n.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,""),c=moment(e.filters.date.from),d=moment(e.filters.date.to);a=c.year()===d.year()?c.format(s):c.format(n),o=d.format(n),r="custom"===e.filters.date.type?a+" _ "+o:l._(`str_${e.filters.date.filter}`),i="custom"===e.filters.date.type?l._("str_custom"):l._(`str_${e.filters.date.filter}`)}n+='\n                <button class="c-footer__filter__btn js-filters-toggle">'+r+'</button>\n                <div class="c-footer__filters">\n                    <div class="c-footer__filters__current-filter">\n                        <span class="c-footer__current-filter__title js-filter-title">'+i+'</span>\n                         <span class="c-footer__current-filter__date-range hs-filter-range">'+a+" - "+o+`</span>\n                    </div>\n                    <div class="c-footer__filters__list">\n                        <button data-metabox-key="${t}" data-filter="today" class="c-footer__filters__list-item">`+l._("str_today")+`</button>\n                        <button data-metabox-key="${t}" data-filter="yesterday" class="c-footer__filters__list-item">`+l._("str_yesterday")+`</button>\n                        <button data-metabox-key="${t}" data-filter="this_week" class="c-footer__filters__list-item">`+l._("str_this_week")+`</button>\n                        <button data-metabox-key="${t}" data-filter="last_week" class="c-footer__filters__list-item">`+l._("str_last_week")+`</button>\n                        <button data-metabox-key="${t}" data-filter="this_month" class="c-footer__filters__list-item">`+l._("str_this_month")+`</button>\n                        <button data-metabox-key="${t}" data-filter="last_month" class="c-footer__filters__list-item">`+l._("str_last_month")+'</button>\n                        <button class="c-footer__filters__list-item c-footer__filters__list-item--more js-show-more-filters">'+l._("str_more")+`</button>\n                        <div class="c-footer__filters__more-filters js-more-filters">\n                            <button data-metabox-key="${t}" data-filter="7days" class="c-footer__filters__list-item">`+l._("str_7days")+`</button>\n                            <button data-metabox-key="${t}" data-filter="28days" class="c-footer__filters__list-item">`+l._("str_28days")+`</button>\n                            <button data-metabox-key="${t}" data-filter="30days" class="c-footer__filters__list-item">`+l._("str_30days")+`</button>\n                            <button data-metabox-key="${t}" data-filter="90days" class="c-footer__filters__list-item">`+l._("str_90days")+`</button>\n                            <button data-metabox-key="${t}" data-filter="6months" class="c-footer__filters__list-item">`+l._("str_6months")+`</button>\n                            <button data-metabox-key="${t}" data-filter="this_year" class="c-footer__filters__list-item">`+l._("str_this_year")+`</button>\n                            <button data-metabox-key="${t}" data-filter="last_year" class="c-footer__filters__list-item">`+l._("str_last_year")+'</button>\n                            <button class="c-footer__filters__close-more-filters js-close-more-filters">'+l._("str_back")+`</button>\n                        </div>\n                        <input aria-label="date picker value" type="text" class="c-footer__filters__custom-date-input js-datepicker-input"/>\n                        <button data-metabox-key="${t}" data-filter="custom" class="c-footer__filters__list-item c-footer__filters__list-item--custom js-custom-datepicker">`+l._("str_custom")+"</button>\n                    </div>\n                </div> "}n+="</div>",e.options&&e.options.button&&(n+=e.options.button),n+="</div></div>";let a=jQuery("#"+t+" h2.hndle");if("wp-statistics-useronline-widget"===t){const t=jQuery(".wps-currently-online");if(t.length&&t.text()>=0){const e=a.find(".wps-wps-currently-online__container");if(e.length)e.find(".wps-wps-currently-online__text").text(t.text());else{const e=`<span class="wps-wps-currently-online__container">\n                                <span class="wps-wps-currently-online__dot"></span>\n                                <span class="wps-wps-currently-online__text">${t.text()}</span>\n                            </span>`;a.append(e)}}else a.find(".wps-wps-currently-online__container").remove()}if("wp-statistics-quickstats-widget"===t){const e=jQuery("#"+t+" div.handle-actions");if(e.length&&!e.find(".wps-overview-btn").length){const t=`<a href="${l.global.admin_url}admin.php?page=wps_overview_page" class="wps-overview-btn">${l._("go_to_overview")}</a>`;e.prepend(t);const n=e.find(".wps-overview-btn");n.length&&n.on("click",function(t){t.preventDefault(),window.location.href=this.href})}}if(e.meta&&e.meta.description&&a.length&&!a.find(".wps-tooltip").length){const t=e.meta.description,n='<a href="#" class="wps-tooltip" title="'+t+'"><i class="wps-tooltip-icon"></i></a>';t&&a.append(n)}l.metaBoxInner(t).append(n)},document.addEventListener("click",function(t){if(t.target&&"js-close-notice"===t.target.id){let e={action:"wp_statistics_dismiss_notices",wps_nonce:l.global.rest_api_nonce,notice_id:"enable_email_metabox_notice"};jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:e,timeout:3e4,success:function({data:e,success:n}){if(!1===n)return console.log(e);t.target.parentElement.parentElement.style.display="none"},error:function(t,e,n){console.log(n)}})}})}var _t,ft=0,mt=document.querySelectorAll(".wps-slider__slide"),gt=mt.length,wt=document.querySelector(".wps-slider__dots");function yt(t){mt.forEach((e,n)=>{e.style.display=n===t?"block":"none"}),function(t){if(wt.innerHTML="",gt>1){for(let e=0;e<gt;e++){const n=document.createElement("span");n.className="wps-slider__dot",n.addEventListener("click",()=>{yt(e),vt()}),n.classList.toggle("active",e===t),wt.appendChild(n)}wt.style.display="block"}else wt.style.display="none"}(t)}function bt(){gt>1&&(_t=setInterval(()=>{yt(ft=(ft+1)%gt)},5e3))}function vt(){clearInterval(_t),bt()}if(gt>0&&(yt(ft),bt()),l.isset(l.global,"request_params","page")&&"hits"===l.global.request_params.page){let we={};we=l.isset(l.global,"request_params","from")&&l.isset(l.global,"request_params","to")?{from:l.global.request_params.from,to:l.global.request_params.to}:{ago:30},jQuery("span[id^='number-total-chart-']").html(l.rectangle_placeholder("wps-text-placeholder")),l.run_meta_box("hits",we,!1)}if(l.isset(l.global,"request_params","page")&&"geographic"===l.global.request_params.page&&(!l.isset(l.global,"request_params","tab")||"overview"===l.global.request_params.tab)&&(!l.isset(l.global,"request_params","type")||"single-country"!==l.global.request_params.type)){if(document.getElementById("wp-statistics-visitors-map")){const be=Wp_Statistics_Geographic_Object.map_chart_data;let ve=Array(),xe={};if(be&&be?.codes?.length>0){const ke={};be.codes.forEach((t,e)=>{const n=Number(be.raw_data[e])||0,a=be.data[e];ke[t.toLowerCase()]={label:be.labels[e],flag:be.flags[e],visitors_raw:n,visitors:a}});const Ce=Math.max(1,...Object.values(ke).map(t=>t.visitors_raw));Object.keys(ke).forEach(t=>{const e=ke[t],n=e.visitors_raw/Ce,a=Math.round(235-185*n),o=Math.round(245-109*n),i=Math.round(255-40*n);xe[t]=`rgb(${a}, ${o}, ${i})`,ve[t]=`<div class='map-html-marker'>\n                    <div class="map-country-header">\n                        <img src='${e.flag}'\n                            alt="${e.label}"\n                            title='${e.label}'\n                            class='log-tools wps-flag'/>\n                            <span>${e.label}  </span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>${e.visitors}</div>\n                    </div>\n                </div>`})}jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#fff",borderOpacity:.6,color:"#e6e6e6",selectedColor:"#596773",hoverColor:"#596773",colors:xe,onLabelShow:function(t,e,n){const a=n.toLowerCase();if(ve[a])return void e.html(ve[a]);const o=`${l.global.assets_url}/images/flags/${a}.svg`,i=e.text();fetch(o).then(t=>{const n=t.ok?`<img src='${o}' alt="${i}" title="${i}" class='log-tools wps-flag'/>`:"";e.html(`\n                <div class='map-html-marker'>\n                    <div class="map-country-header">\n                        ${n}\n                        <span>${i}</span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>0</div>\n                    </div>\n                </div>\n            `)}).catch(t=>{console.error("Error fetching the image:",t),e.html(`\n                <div class='map-html-marker'>\n                    <div class="map-country-header">\n                        <span>${i}</span>\n                    </div>\n                    <div class="map-country-content">\n                        <div>${l._("visitors")}</div>\n                        <div>0</div>\n                    </div>\n                </div>\n            `)})}})}const ye=(t,e)=>{if(document.getElementById(t)){const n=jQuery(`#${t}`).parent();e.data&&0!==e.data.length?l.horizontal_bar(t,e.labels,e.data,e.icons):n.html(l.no_results())}};l.render_wp_statistics_hitsmap_widget();ye("geographic--top-countries",Wp_Statistics_Geographic_Object.europe_chart_data);ye("geographic-visitors-continent",Wp_Statistics_Geographic_Object.continent_chart_data)}if(function(){if(!window.wpStatisticsFilters||0===Object.keys(window.wpStatisticsFilters).length)return;let t={},e={};Object.entries(window.wpStatisticsFilters).forEach(([n,a])=>{a.panel?e[n]=a:t[n]=a}),new j({modalSelector:"#wps-modal-filter",formSelector:"#wp_statistics_visitors_filter_form",filterWrapperSelector:"#wps-visitors-filter-form",fields:t}),Object.keys(e).length>0&&new E({fields:e})}(),l.isset(l.global,"request_params","page")&&"exclusions"===l.global.request_params.page){function Ee(t,e){if(document.getElementById(t)){const n=jQuery(`#${t}`).parent(),a=l.rectangle_placeholder();n.append(a),e?.data?.datasets&&0!==e.data.datasets.length?(jQuery(".wps-ph-item").remove(),jQuery(".wps-postbox-chart--data").removeClass("c-chart__wps-skeleton--legend"),n.removeClass("c-chart__wps-skeleton"),l.new_line_chart(e,t,null)):(n.html(l.no_results()),jQuery(".wps-ph-item").remove())}}Ee("exclusionsChart",Wp_Statistics_Exclusions_Object.exclusions_chart_data)}if(l.isset(l.global,"request_params","page")&&"countries"===l.global.request_params.page){let je={limit:0};["from","to"].forEach(t=>{l.isset(l.global,"request_params",t)&&(je[t]=l.global.request_params[t])}),l.run_meta_box("countries",je,!1)}if(l.isset(l.global,"request_params","page")&&"content-analytics"===l.global.request_params.page){const Se={data:[],init:function(){if("undefined"==typeof Wp_Statistics_Content_Analytics_Object)return void console.log("Variable Wp_Statistics_Content_Analytics_Object not found.");this.data=Wp_Statistics_Content_Analytics_Object,this.generateCharts();const t=document.querySelector(".js-toggle-content-tags");t&&t.addEventListener("click",function(e){e.preventDefault(),document.querySelectorAll(".extra-item").forEach(t=>t.classList.toggle("show")),t.classList.toggle("toggled"),t.classList.contains("toggled")?t.textContent=l._("show_less"):t.textContent=l._("show_more")})},generateCharts:function(){document.getElementById("performance-chart")&&this.generatePerformanceChart(),document.getElementById("performance-chart-single")&&this.generatePerformanceChartSingle(),document.getElementById("content_operating_systems")&&this.generateOperatingSystemChart(),document.getElementById("content_browsers")&&this.generateBrowsersChartData(),document.getElementById("content_device_models")&&this.generateDeviceModelsChart(),document.getElementById("content_device_usage")&&this.generateDeviceUsageChart(),document.getElementById("content-search-engines-chart")&&this.generateSearchEngineChart()},generatePerformanceChart:function(){const t=this.data.performance_chart_data;t.data.datasets&&0!=t.data.datasets.length?l.new_line_chart(t,"performance-chart",null,"performance"):jQuery("#performance-chart").parent().html(l.no_results())},generateOperatingSystemChart:function(){const t=this.data.os_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("content_operating_systems",t.labels,t.data,t.icons):jQuery("#content_operating_systems").parent().html(l.no_results())},generateBrowsersChartData:function(){const t=this.data.browser_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("content_browsers",t.labels,t.data,t.icons):jQuery("#content_browsers").parent().html(l.no_results())},generateDeviceModelsChart:function(){const t=this.data.model_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("content_device_models",t.labels,t.data,null):jQuery("#content_device_models").parent().html(l.no_results())},generateDeviceUsageChart:function(){const t=this.data.device_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("content_device_usage",t.labels,t.data,null):jQuery("#content_device_usage").parent().html(l.no_results())},generateSearchEngineChart:function(){const t=this.data.search_engine_chart_data;t.data.datasets&&0!=t.data.datasets.length?l.new_line_chart(t,"content-search-engines-chart"):(jQuery("#content-search-engines-chart").parent().html(l.no_results()),jQuery(".wps-postbox-chart--data").remove())},generatePerformanceChartSingle:function(){const t=this.data.performance_chart_data;t.data.datasets&&0!=t.data.datasets.length?l.new_line_chart(t,"performance-chart-single",null,"performance"):jQuery("#performance-chart-single").parent().html(l.no_results())}};jQuery(document).ready(function(){Se.init()})}if(l.isset(l.global,"request_params","page")&&"category-analytics"===l.global.request_params.page){const De={data:[],init:function(){"undefined"!=typeof Wp_Statistics_Category_Analytics_Object?(this.data=Wp_Statistics_Category_Analytics_Object,this.generateCharts()):console.log("Variable Wp_Statistics_Category_Analytics_Object not found.")},generateCharts:function(){document.getElementById("performance-category-chart")&&this.generatePerformanceChart(),document.getElementById("performance-category-chart-single")&&this.generatePerformanceChartSingle(),document.getElementById("category_operating_systems")&&this.generateOperatingSystemChart(),document.getElementById("category_browsers")&&this.generateBrowsersChartData(),document.getElementById("category_device_models")&&this.generateDeviceModelsChart(),document.getElementById("category_device_usage")&&this.generateDeviceUsageChart(),document.getElementById("category-search-engines-chart")&&this.generateSearchEngineChart()},generatePerformanceChart:function(){const t=this.data.performance_chart_data;t.data&&0!=t.data.length?l.new_line_chart(t,"performance-category-chart",null,"performance"):jQuery("#performance-category-chart").parent().html(l.no_results())},generatePerformanceChartSingle:function(){const t=this.data.performance_chart_data;t.data&&0!=t.data.length?l.new_line_chart(t,"performance-category-chart-single",null,"performance"):jQuery("#performance-category-chart-single").parent().html(l.no_results())},generateOperatingSystemChart:function(){const t=this.data.os_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("category_operating_systems",t.labels,t.data,t.icons):jQuery("#category_operating_systems").parent().html(l.no_results())},generateBrowsersChartData:function(){const t=this.data.browser_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("category_browsers",t.labels,t.data,t.icons):jQuery("#category_browsers").parent().html(l.no_results())},generateDeviceModelsChart:function(){const t=this.data.model_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("category_device_models",t.labels,t.data,null):jQuery("#category_device_models").parent().html(l.no_results())},generateDeviceUsageChart:function(){const t=this.data.device_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("category_device_usage",t.labels,t.data,null):jQuery("#category_device_usage").parent().html(l.no_results())},generateSearchEngineChart:function(){const t=this.data.search_engine_chart_data;t.data.datasets&&0!=t.data.datasets.length?l.new_line_chart(t,"category-search-engines-chart",null):(jQuery("#category-search-engines-chart").parent().html(l.no_results()),jQuery(".wps-postbox-chart--data").remove())}};jQuery(document).ready(function(){De.init()})}if(l.isset(l.global,"request_params","page")&&"browser"===l.global.request_params.page){let Te={};["from","to"].forEach(t=>{l.isset(l.global,"request_params",t)&&(Te[t]=l.global.request_params[t])}),["browsers-table","browsers"].forEach(t=>{jQuery("#"+l.getMetaBoxKey(t)+" .inside").css("height","430px")}),jQuery("#wp-statistics-browsers-table-widget .inside").html(l.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),l.run_meta_box("browsers",Te,!1)}if(l.isset(l.global,"request_params","page")&&"author-analytics"===l.global.request_params.page){const $e={init:function(){"undefined"!=typeof Wp_Statistics_Author_Analytics_Object&&this.generateCharts()},generateCharts:function(){this.generatePublishingOverviewChart(),this.generateViewsPerPostsChart(),this.generateOperatingSystemChart(),this.generateBrowsersChartData()},generateBrowsersChartData:function(){if(!l.isset(Wp_Statistics_Author_Analytics_Object,"browser_chart_data"))return;const t=Wp_Statistics_Author_Analytics_Object.browser_chart_data;t.data&&0!=t.data.length?l.horizontal_bar("wps-browsers",t.labels,t.data,t.icons):jQuery("#wps-browsers").parent().html(l.no_results())},generateOperatingSystemChart:function(){if(!l.isset(Wp_Statistics_Author_Analytics_Object,"os_chart_data"))return;const t=Wp_Statistics_Author_Analytics_Object.os_chart_data;t.data&&0!=t.labels.length&&0!=t.data.length?l.horizontal_bar("wps-operating-systems",t.labels,t.data,t.icons):jQuery("#wps-operating-systems").parent().html(l.no_results())},generateViewsPerPostsChart:function(){if(!l.isset(Wp_Statistics_Author_Analytics_Object,"views_per_posts_chart_data"))return;const t=Wp_Statistics_Author_Analytics_Object.views_per_posts_chart_data,e=t.datasets.map(t=>t.img);Promise.all(e.map(t=>(t=>new Promise((e,n)=>{const a=new Image;a.src=t,a.onload=()=>e(a),a.onerror=()=>e(null)}))(t))).then(e=>{if(!e.filter(t=>t instanceof HTMLImageElement).length)return void jQuery("#publishedChart").parent().html(l.no_results());const n={id:"afterRenderPlugin",afterDraw:function(t,n,a){const o=document.getElementById("publishedChart").getContext("2d");t.data.datasets.forEach((n,a)=>{n.data.forEach((n,a)=>{const i=e[a%e.length],r=t.scales.x.getPixelForValue(n.x),s=t.scales.y.getPixelForValue(n.y),l=15,c=r-l,d=s-l;o.beginPath(),o.arc(r,s,17,0,2*Math.PI),o.lineWidth=4,o.strokeStyle="rgba(81,0,253,20%)",o.stroke(),o.closePath(),o.save(),o.beginPath(),o.arc(r,s,l,0,2*Math.PI),o.clip(),o.drawImage(i,c,d,30,30),o.restore()})})}};Chart.version.replace(/\./g,"")>400?Chart.register(n):Chart.plugins.register(n),Chart.Tooltip.positioners.top=function(t,e){const{chartArea:{bottom:n},scales:{x:a,y:o}}=this.chart;return{x:a.getPixelForValue(a.getValueForPixel(e.x)),y:o.getPixelForValue(o.getValueForPixel(e.y))-20,xAlign:"center",yAlign:"bottom"}};const a={type:"scatter",data:{datasets:[{label:t.labels.chartLabel,data:t.datasets,backgroundColor:"#E8EAEE"}]},options:{responsive:!0,pointRadius:16,pointHoverRadius:16,tooltipPosition:{x:10,y:30},layout:{padding:{Right:20,Left:20}},scales:{y:{type:"linear",ticks:{stepSize:4,color:"#56585A",fontSize:13,padding:15},title:{display:!0,text:t.labels.yAxisLabel,fontSize:14,color:"#000"},grid:{drawBorder:!1,tickLength:0}},x:{type:"linear",position:"bottom",title:{display:!0,text:t.labels.xAxisLabel,fontSize:14,color:"#000"},ticks:{stepSize:5e4,autoSkip:!1,maxRotation:90,minRotation:90,color:"#56585A",padding:15,fontSize:13},grid:{drawBorder:!1,tickLength:0}}},plugins:{legend:{display:!1},tooltip:{position:"top",callbacks:{label:function(t){const e=t.raw;return[`${l._("visits")}/${l._("published")}: (${e.x}, ${e.y})`,`${l._("author")}: ${e.author}`]}}}}},plugins:[n]};new Chart(document.getElementById("publishedChart"),a)}).catch(t=>{console.error("Error loading images:",t),jQuery("#publishedChart").parent().html(l.no_results())})},generatePublishingOverviewChart:function(){if(!l.isset(Wp_Statistics_Author_Analytics_Object,"publish_chart_data"))return;const t=t=>{const e=t.dataset.data[t.dataIndex].v,n=Math.min(...t.dataset.data.map(t=>t.v)),a=Math.max(...t.dataset.data.map(t=>t.v));return 0===e?"#e8eaee":function(t,e,n,a,o){const i=["#B28DFF","#5100FD","#4915B9","#250766"],r=Math.floor((o-n)/(a-n)*(i.length-1));return i[Math.min(Math.max(r,0),i.length-1)]}(0,0,n,a,e)},e={type:"matrix",data:{datasets:[{label:"overview",data:Wp_Statistics_Author_Analytics_Object.publish_chart_data.datasets,backgroundColor:e=>t(e),borderColor:"transparent",borderWidth:4,borderRadius:2,boxShadow:0,width(t){const e=t.chart.chartArea||{};return(e.right-e.left)/53-1-2},height(t){const e=t.chart.chartArea||{};return(e.bottom-e.top)/7-1-1}}]},options:{maintainAspectRatio:!1,scales:{y:{type:"time",offset:!0,time:{unit:"day",round:"day",isoWeek:1,parser:"i",displayFormats:{day:"iiiiii"}},reverse:!0,position:"left",ticks:{maxRotation:0,autoSkip:!0,padding:5,color:"#000",font:{size:12}},grid:{display:!1,drawBorder:!1,tickLength:0},border:{display:!1}},x:{type:"time",offset:!0,position:"top",time:{unit:"month",round:"week",isoWeekday:1,displayFormats:{week:"MMM"}},ticks:{maxRotation:0,autoSkip:!0,padding:5,color:"#000000",font:{size:12},callback:function(t,e,n){const a=new Date(t),o=a.toLocaleString("default",{month:"short"}),i=a.getDate();return 1===i?o:o+" "+i}},border:{display:!1},grid:{display:!1,drawBorder:!1,tickLength:0}}},aspectRatio:10,animation:!1,plugins:{chartAreaBorder:{borderWidth:5,borderColor:"#fff"},legend:!1,tooltip:{displayColors:!1,callbacks:{title:()=>"",label(t){const e=t.dataset.data[t.dataIndex];return[`${l._("date")}: ${e.d}`,`${l.global.active_post_type}: ${e.v}`]}}}}}};new Chart(document.getElementById("overviewPublishChart"),e)}};jQuery(document).ready(function(){$e.init()})}l.isset(l.global,"request_params","page")&&"plugins"===l.global.request_params.page&&jQuery(document).ready(function(){const t=document.querySelectorAll(".js-addon-show-more"),e=document.querySelectorAll(".js-wps-addon-license-button"),n=document.querySelectorAll(".js-wps-addon-check-box"),a=document.querySelectorAll(".js-addon-retry-btn"),o=document.querySelector(".js-wps-addon-select-all"),i=document.querySelector(".js-addon-active-license"),r=document.querySelector(".js-addon-download-button"),s=document.querySelector(".wps-addon__step__active-license input"),c=document.querySelector(".js-addon_active-all");let d=document.querySelectorAll(".js-addon-active-plugin-btn"),u=[],p=[],h={wps_nonce:l.global.rest_api_nonce,action:"wp_statistics_check_license"};h=Object.assign(h,l.global.request_params),"plugins"===h.page&&"downloads"===h?.tab&&r&&0===n.length&&(r.textContent=l._("continue_to_next_step"),r.classList.remove("disabled"),r.href=`admin.php?page=wps_plugins_page&tab=get-started&license_key=${h.license_key}`);const _=()=>{d&&d.length>0&&c&&c.classList.remove("wps-hide")};_();const f=t=>{const e=t.parentElement.parentElement.querySelector(".wps-alert");e&&e.remove()},m=()=>{u=[],n.forEach(function(t){t.checked&&u.push(t.getAttribute("data-slug"))})},g=(t,e,n,a,o)=>{if(n<t.length){const i=t[n];let r={...h,action:e,plugin_slug:i};o&&l.loading_button(o),b(r,o,()=>g(t,e,n+1,a,o))}else a()};if(n.length>0){o&&(o.addEventListener("click",function(t){t.stopPropagation(),n.forEach(function(t){t.checked=!0,t.parentElement.parentElement.parentElement.classList.add("wps-has-checkbox")}),r.classList.remove("disabled"),m()}),o.click());const v=()=>{let t=!1;n.forEach(function(e){e.checked&&(t=!0)}),t?r.classList.remove("disabled"):r.classList.add("disabled"),m()};n.forEach(function(t){t.addEventListener("change",v)})}else o&&o.classList.add("wps-hide");const w=(t,e,n)=>{t.length>0&&t.forEach(function(t){t.addEventListener("click",function(a){a.stopPropagation();const o=t.getAttribute("data-slug");let i={...h,action:e,[n]:o};b(i,t)})})};w(a,"wp_statistics_download_plugin","plugin_slug"),w(d,"wp_statistics_activate_plugin","plugin_slug"),document.addEventListener("click",function(t){if(t.target.classList.contains("js-addon-retry-btn")){t.stopPropagation();const e=t.target.getAttribute("data-slug");let n={...h,action:"wp_statistics_download_plugin",plugin_slug:e};b(n,t.target)}else if(t.target.classList.contains("js-addon-active-plugin-btn")){t.stopPropagation();const e=t.target.getAttribute("data-slug");let n={...h,action:"wp_statistics_activate_plugin",plugin_slug:e};b(n,t.target)}else t.target.classList.contains("js-addon_active-all")&&(t.stopPropagation(),c.classList.add("wps-hide"),d=document.querySelectorAll(".js-addon-active-plugin-btn"),p=[],d.forEach(function(t){p.push(t.getAttribute("data-slug"))}),d&&d.length>0&&(e=0,d.forEach(function(t,n){if(n>e){const e=t.parentElement.parentElement.querySelector(".wps-postbox-addon__status");e&&e.remove();const n=document.createElement("span");n.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--waiting"),n.textContent=l._("waiting"),t.parentElement.parentElement.insertBefore(n,t.parentElement.parentElement.firstChild),t.parentElement.classList.add("wps-hide")}}),g(p,"wp_statistics_activate_plugin",e,()=>{d.forEach(function(t,e){t.parentElement.classList.remove("wps-hide")}),d=document.querySelectorAll(".js-addon-active-plugin-btn"),_()})));var e}),r&&r.addEventListener("click",function(t){var e;r.classList.contains("disable")||(t.stopPropagation(),n.forEach(function(t){t.checked||(t.disabled=!0)}),e=0,o.classList.add("wps-hide"),n.forEach(function(t,n){if(t.checked&&n>e){const e=t.parentElement.parentElement.querySelector(".wps-postbox-addon__status");e&&e.remove();const n=document.createElement("span");n.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--waiting"),n.textContent=l._("waiting"),t.parentElement.parentElement.insertBefore(n,t.parentElement.parentElement.firstChild),t.parentElement.classList.add("wps-hide")}}),g(u,"wp_statistics_download_plugin",e,()=>{r.classList.add("redirecting"),r.textContent=l._("redirecting");const t=new URLSearchParams;u.forEach(e=>t.append("addons[]",e)),window.location.href=`admin.php?page=wps_plugins_page&tab=get-started&license_key=${h.license_key}&`+t.toString()},r))}),t.length>0&&(t.forEach(function(t){t.addEventListener("click",function(t){t.stopPropagation();const e=this.parentElement.classList.contains("active");document.querySelectorAll(".js-addon-show-more").forEach(function(t){t.parentElement.classList.remove("active")}),e||this.parentElement.classList.add("active")})}),document.body.addEventListener("click",function(){document.querySelectorAll(".js-addon-show-more").forEach(function(t){t.parentElement.classList.remove("active")})})),e.length>0&&e.forEach(function(t){t.addEventListener("click",function(t){t.stopPropagation();const e=this.classList.contains("active");if(document.querySelectorAll(".js-wps-addon-license-button").forEach(function(t){t.classList.remove("active"),t.closest(".wps-postbox-addon__item").classList.remove("active")}),!e){this.classList.add("active");const n=this.closest(".wps-postbox-addon__item");if(n){n.classList.add("active");let a=n.querySelector(".wps-addon__item__update_license input"),o=n.querySelector(".wps-addon__item__update_license button");if(a&&o){function i(){a.classList.remove("wps-danger","wps-warning"),f(o),""===a.value.trim()?(o.classList.add("disabled"),o.disabled=!0):(o.classList.remove("disabled"),o.disabled=!1)}i(),a.addEventListener("input",function(){i()})}o&&o.addEventListener("click",function(t){t.stopPropagation();const e=a.value.trim(),n=a.dataset.addonSlug;if(e&&n){const t={license_key:e,addon_slug:n,...h};b(t,o)}})}}})});const y=(t,e,n)=>{if("wp_statistics_check_license"===t.action){f(e);const a=document.createElement("div");let o;n?.data?.message?.toLowerCase().includes("domain")?(e.parentElement.querySelector("input").classList.add("wps-warning"),a.classList.add("wps-alert","wps-alert--warning")):(e.parentElement.querySelector("input").classList.add("wps-danger"),a.classList.add("wps-alert","wps-alert--danger")),a.innerHTML=`\n                                <span class="icon"></span>\n                                <div>\n                                    <p>${n?.data?.message}</p>\n                                </div>\n                                `,o=t.tab?document.querySelector(".wps-addon__step__active-license"):e.parentElement,o&&o.parentNode.insertBefore(a,o.nextSibling)}if("wp_statistics_download_plugin"===t.action){const e=document.querySelector(`[data-slug="${t.plugin_slug}"]`);if(e){const n=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status");n&&n.remove();const a=document.createElement("span");if(a.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--danger"),a.textContent=l._("failed"),e.parentElement.parentElement.insertBefore(a,e.parentElement.parentElement.firstChild),"get-started"===t.tab){const n=document.createElement("a");n.classList.add("wps-postbox-addon__button","button-retry-addon-download","js-addon-retry-btn"),n.textContent=l._("retry"),n.setAttribute("data-slug",t.plugin_slug),e.parentElement.parentElement.insertBefore(n,a.nextSibling)}}}if("wp_statistics_activate_plugin"===t.action){const e=document.querySelector(`[data-slug="${t.plugin_slug}"]`);if(e){const t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status");t&&t.remove();const n=document.createElement("span");n.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--danger"),n.textContent=l._("failed"),e.parentElement.parentElement.insertBefore(n,e.parentElement.parentElement.firstChild),e.style.display="flex"}}},b=(t,e,n)=>{if(e&&l.loading_button(e),"wp_statistics_download_plugin"===t.action){const e=document.querySelector(`[data-slug="${t.plugin_slug}"]`);if(e){const t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status");t&&t.remove();const n=document.createElement("span");n.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--purple"),n.textContent=l._("downloading"),e&&e.parentElement.parentElement&&(e.parentElement.parentElement.insertBefore(n,e.parentElement.parentElement.firstChild),e.style.display="none")}}if("wp_statistics_activate_plugin"===t.action){const e=document.querySelector(`[data-slug="${t.plugin_slug}"]`);if(e){const t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status");t&&t.remove();const n=document.createElement("span");n.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--purple"),n.textContent=l._("activating"),e&&e.parentElement.parentElement&&(e.parentElement.parentElement.insertBefore(n,e.parentElement.parentElement.firstChild),e.style.display="none")}}jQuery.ajax({url:l.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:t,timeout:3e4,success:function(a){if(e&&e.classList.remove("wps-loading-button"),a.success){if(e&&e.classList.add("disabled"),"wp_statistics_check_license"===t.action)if(l.global.request_params?.tab)e.classList.add("redirecting"),e.textContent=l._("redirecting"),window.location.href=`admin.php?page=wps_plugins_page&tab=downloads&license_key=${t.license_key}`;else{f(e),e.parentElement.querySelector("input").classList.remove("wps-danger");const t=e.parentElement.parentElement.parentElement.querySelector(".wps-postbox-addon__status");t.classList.contains("wps-postbox-addon__status--danger")&&(t.classList.add("wps-postbox-addon__status--success"),t.classList.remove("wps-postbox-addon__status--danger"),t.textContent=l._("activated"));const n=document.createElement("div");n.classList.add("wps-alert","wps-alert--success"),n.innerHTML=`\n                                <span class="icon"></span>\n                                <div>\n                                    <p>${a?.data?.message}</p>\n                                </div>\n                                `;let o=e.parentElement;o&&o.parentNode.insertBefore(n,o.nextSibling)}if("wp_statistics_download_plugin"===t.action){const e=document.querySelector(`[data-slug="${t.plugin_slug}"]`);if(e){const n=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status--purple"),a=e.parentElement.parentElement.querySelector(".wps-postbox-addon__label--updated");n&&n.remove(),a&&a.remove();const o=document.createElement("span");if(o.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--installed"),o.textContent=l._("already_installed"),e&&e.parentElement.parentElement&&e.parentElement.parentElement.insertBefore(o,e.parentElement.parentElement.firstChild),"downloads"===t.tab&&o.parentElement.parentElement.classList.add("wps-addon__download__item--disabled"),"get-started"===t.tab){const n=document.createElement("a");n.classList.add("wps-postbox-addon__button","button-activate-addon","js-addon-active-plugin-btn"),n.textContent=l._("active"),n.setAttribute("data-slug",t.plugin_slug),e.parentElement.insertBefore(n,o.nextSibling);const a=document.querySelector(".js-addon-show-more");d=document.querySelectorAll(".js-addon-active-plugin-btn"),_(),a&&a.classList.remove("wps-hide")}e.remove()}}if("wp_statistics_activate_plugin"===t.action){const e=document.querySelector(`[data-slug="${t.plugin_slug}"]`);if(e){const t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status--purple");t&&t.remove();const n=document.createElement("span");n.classList.add("wps-postbox-addon__status","wps-postbox-addon__status--success"),n.textContent=l._("activated"),e.parentElement.parentElement.insertBefore(n,e.parentElement.parentElement.firstChild),e.remove()}}}else y(t,e,a);n&&n()},error:function(a,o,i){e&&e.classList.remove("wps-loading-button"),n&&n(),y(t,e,i)}})};if(s&&i){function x(){s.classList.remove("wps-danger","wps-warning"),f(i),""===s.value.trim()?(i.classList.add("disabled"),i.disabled=!0):(i.classList.remove("disabled"),i.disabled=!1)}x(),s.addEventListener("input",function(){x()})}i&&i.addEventListener("click",function(t){t.stopPropagation();const e=s.value.trim();if(e){const t={license_key:e,...h};b(t,i)}})}),l.date_picker(),("index.php"===l.global.page.file||l.is_active("overview_page")||"post-new.php"===l.global.page.file||"post.php"===l.global.page.file&&l.isset(l.global,"page","ID"))&&l.run_meta_boxes(),jQuery(document).ready(function(t){var e;t(document.body).on("click",".wps_img_settings_upload_button",function(n){n.preventDefault();var a=t(this);e||((e=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",library:{type:["image"]},multiple:!1})).on("menu:render:default",function(t){t.unset("library-separator"),t.unset("gallery"),t.unset("featured-image"),t.unset("embed"),t.unset("playlist"),t.unset("video-playlist"),t.set({})}),e.on("insert",function(){e.state().get("selection").each(function(t,e){t=t.toJSON(),a.parent().parent().find('input[type="text"]').val(t.url),a.parent().parent().parent().find("#wps-upload-image-preview").attr("src",t.url),a.parent().parent().find(".wps_img_settings_clear_upload_button").show()})})),e.open()}),t(document.body).on("click",".wps_img_settings_clear_upload_button",function(e){e.preventDefault(),console.log(wps_ar_vars.default_avatar_url),t(this).parent().parent().find(".wps-input-group__field").val(""),t(this).parent().parent().parent().find("#wps-upload-image-preview").attr("src",wps_ar_vars.default_avatar_url),t(".wps_img_settings_clear_upload_button").hide()})})}})();});