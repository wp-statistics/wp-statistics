jQuery(document).on("tinymce-editor-setup",function(t,e){e.addButton("wp_statistic_tc_button",{text:"",tooltip:e.getLang("wp_statistic_tinymce_plugin.insert"),icon:"icon-statistic dashicons-chart-pie",onclick:function(){e.windowManager.open({title:e.getLang("wp_statistic_tinymce_plugin.insert"),minWidth:500,minHeight:480,body:[{type:"listbox",name:"stat",label:e.getLang("wp_statistic_tinymce_plugin.stat"),values:[{text:e.getLang("wp_statistic_tinymce_plugin.usersonline"),value:"usersonline"},{text:e.getLang("wp_statistic_tinymce_plugin.visits"),value:"visits"},{text:e.getLang("wp_statistic_tinymce_plugin.visitors"),value:"visitors"},{text:e.getLang("wp_statistic_tinymce_plugin.pagevisits"),value:"pagevisits"},{text:e.getLang("wp_statistic_tinymce_plugin.pagevisitors"),value:"pagevisitors"},{text:e.getLang("wp_statistic_tinymce_plugin.searches"),value:"searches"},{text:e.getLang("wp_statistic_tinymce_plugin.postcount"),value:"postcount"},{text:e.getLang("wp_statistic_tinymce_plugin.pagecount"),value:"pagecount"},{text:e.getLang("wp_statistic_tinymce_plugin.commentcount"),value:"commentcount"},{text:e.getLang("wp_statistic_tinymce_plugin.spamcount"),value:"spamcount"},{text:e.getLang("wp_statistic_tinymce_plugin.usercount"),value:"usercount"},{text:e.getLang("wp_statistic_tinymce_plugin.postaverage"),value:"postaverage"},{text:e.getLang("wp_statistic_tinymce_plugin.commentaverage"),value:"commentaverage"},{text:e.getLang("wp_statistic_tinymce_plugin.useraverage"),value:"useraverage"},{text:e.getLang("wp_statistic_tinymce_plugin.lpd"),value:"lpd"},{text:e.getLang("wp_statistic_tinymce_plugin.referrer"),value:"referrer"}]},{type:"container",html:'<div class="wp-statistic-mce-desc">'+e.getLang("wp_statistic_tinymce_plugin.help_stat")+" </div>"},{type:"listbox",name:"time",label:e.getLang("wp_statistic_tinymce_plugin.time"),values:[{text:e.getLang("wp_statistic_tinymce_plugin.se"),value:"0"},{text:e.getLang("wp_statistic_tinymce_plugin.today"),value:"today"},{text:e.getLang("wp_statistic_tinymce_plugin.yesterday"),value:"yesterday"},{text:e.getLang("wp_statistic_tinymce_plugin.week"),value:"week"},{text:e.getLang("wp_statistic_tinymce_plugin.month"),value:"month"},{text:e.getLang("wp_statistic_tinymce_plugin.year"),value:"year"},{text:e.getLang("wp_statistic_tinymce_plugin.total"),value:"total"}]},{type:"container",html:'<div class="wp-statistic-mce-desc">'+e.getLang("wp_statistic_tinymce_plugin.help_time")+"</div>"},{type:"textbox",name:"provider",label:e.getLang("wp_statistic_tinymce_plugin.provider")},{type:"container",html:'<div class="wp-statistic-mce-desc">'+e.getLang("wp_statistic_tinymce_plugin.help_provider")+"</div>"},{type:"textbox",name:"format",label:e.getLang("wp_statistic_tinymce_plugin.format")},{type:"container",html:'<div class="wp-statistic-mce-desc">'+e.getLang("wp_statistic_tinymce_plugin.help_format")+"</div>"},{type:"textbox",name:"id",label:e.getLang("wp_statistic_tinymce_plugin.id")},{type:"container",html:'<div class="wp-statistic-mce-desc">'+e.getLang("wp_statistic_tinymce_plugin.help_id")+"</div>"}],onsubmit:function(t){var i="[wpstatistics stat="+t.data.stat;"0"!==t.data.time&&(i+=" time="+t.data.time),["provider","format","id"].forEach(function(e){""!==t.data[e]&&(i+=" "+e+"="+t.data[e])}),i+="]",e.insertContent(i)}})}})});