jQuery(document).ready(function ($) {(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(f){function n(e){return s.hasOwnProperty(e)&&0<s[e].length||c.hasOwnProperty(e)}var s={},c={};f.ajaxq=function(t,n){if(void 0===n)throw"AjaxQ: queue name is not provided";var e,r=f.Deferred(),a=r.promise(),o=(a.success=a.done,a.error=a.fail,a.complete=a.always,"function"==typeof n),i=o?null:f.extend(!0,{},n);return e=function(){var e=f.ajax.apply(window,[o?n():i]);return e.done(function(){r.resolve.apply(this,arguments)}),e.fail(function(){r.reject.apply(this,arguments)}),e.always(u),e},s[t]?s[t].push(e):(s[t]=[],e=e(),c[t]=e),a;function u(){var e;s[t]&&((e=s[t].shift())?(e=e(),c[t]=e):(delete s[t],delete c[t]))}},f.each(["getq","postq"],function(e,o){f[o]=function(e,t,n,r,a){return f.isFunction(n)&&(a=a||r,r=n,n=void 0),f.ajaxq(e,{type:"postq"===o?"post":"get",url:t,data:n,success:r,dataType:a})}});f.ajaxq.isRunning=function(e){if(e)return n(e);for(var t in s)if(n(t))return!0;return!1},f.ajaxq.getActiveRequest=function(e){if(e)return c[e];throw"AjaxQ: queue name is required"},f.ajaxq.abort=function(e){if(!e)throw"AjaxQ: queue name is required";var t=f.ajaxq.getActiveRequest(e);delete s[e],delete c[e],t&&t.abort()},f.ajaxq.clear=function(e){if(e)s[e]&&(s[e]=[]);else for(var t in s)s.hasOwnProperty(t)&&(s[t]=[])}});
((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js"],e):e(("undefined"!=typeof globalThis?globalThis:t||self).Chart)})(this,function(F){function Y(t){return null===t||!0===t||!1===t?NaN:(t=Number(t),isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t))}function S(t,e){if(e.length<t)throw new TypeError(t+" argument"+(1<t?"s":"")+" required, but only "+e.length+" present")}function N(t){S(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function r(t,e){S(2,arguments);t=N(t),e=Y(e);return isNaN(e)?new Date(NaN):(e&&t.setDate(t.getDate()+e),t)}function a(t,e){S(2,arguments);var n,r,t=N(t),e=Y(e);return isNaN(e)?new Date(NaN):e?(n=t.getDate(),(r=new Date(t.getTime())).setMonth(t.getMonth()+e+1,0),r.getDate()<=n?r:(t.setFullYear(r.getFullYear(),r.getMonth(),n),t)):t}function i(t,e){S(2,arguments);t=N(t).getTime(),e=Y(e);return new Date(t+e)}function o(t,e){S(1,arguments);var e=e||{},n=e.locale,n=n&&n.options&&n.options.weekStartsOn,n=null==n?0:Y(n),n=null==e.weekStartsOn?n:Y(e.weekStartsOn);if(0<=n&&n<=6)return t=((t=(e=N(t)).getDay())<n?7:0)+t-n,e.setDate(e.getDate()-t),e.setHours(0,0,0,0),e;throw new RangeError("weekStartsOn must be between 0 and 6 inclusively")}function P(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function u(t){S(1,arguments);t=N(t);return t.setHours(0,0,0,0),t}var W=864e5;function s(t,e){S(2,arguments);t=N(t),e=N(e),t=t.getTime()-e.getTime();return t<0?-1:0<t?1:t}function d(t){S(1,arguments);t=N(t);return!isNaN(t)}function c(t,e){t=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return t<0?-1:0<t?1:t}function l(t,e){S(2,arguments);var t=N(t),e=N(e),n=c(t,e),r=Math.abs(function(t,e){return S(2,arguments),t=u(t),e=u(e),t=t.getTime()-P(t),e=e.getTime()-P(e),Math.round((t-e)/W)}(t,e));t.setDate(t.getDate()-n*r);r=n*(r-(c(t,e)===-n));return 0==r?0:r}function f(t,e){S(2,arguments);t=N(t),e=N(e);return t.getTime()-e.getTime()}function h(t){S(1,arguments);t=N(t);return t.setHours(23,59,59,999),t}function m(t){S(1,arguments);var t=N(t),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function w(t,e){S(2,arguments);var n=N(t),e=N(e),r=s(n,e),a=Math.abs(function(t,e){return S(2,arguments),t=N(t),e=N(e),12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}(n,e));return 0===(r=a<1?0:(1===n.getMonth()&&27<n.getDate()&&n.setDate(30),n.setMonth(n.getMonth()-r*a),n=s(n,e)===-r,r*(a-(n=!function(t){return S(1,arguments),h(t=N(t)).getTime()===m(t).getTime()}(N(t))||1!==a||1!==s(t,e)?n:!1))))?0:r}var g={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function t(e){return function(t){t=t||{},t=t.width?String(t.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}var L={date:t({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:t({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:t({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Q={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function e(a){return function(t,e){var n,r,e=e||{};return("formatting"===(e.context?String(e.context):"standalone")&&a.formattingValues?(r=a.defaultFormattingWidth||a.defaultWidth,n=e.width?String(e.width):r,a.formattingValues[n]||a.formattingValues[r]):(n=a.defaultWidth,r=e.width?String(e.width):a.defaultWidth,a.values[r]||a.values[n]))[a.argumentCallback?a.argumentCallback(t):t]}}function n(i){return function(t,e){var r,t=String(t),e=e||{},n=e.width,a=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],a=t.match(a);return a?(r=a[0],a=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],n=("[object Array]"===Object.prototype.toString.call(a)?t=>{for(var e=0;e<t.length;e++)if(t[e].test(r))return e}:t=>{for(var e in t)if(t.hasOwnProperty(e)&&(n=t[e],n.test(r)))return e;var n})(a),n=i.valueCallback?i.valueCallback(n):n,{value:n=e.valueCallback?e.valueCallback(n):n,rest:t.slice(r.length)}):null}}var y,R={code:"en-US",formatDistance:function(t,e,n){return n=n||{},t="string"==typeof g[t]?g[t]:1===e?g[t].one:g[t].other.replace("{{count}}",e),n.addSuffix?0<n.comparison?"in "+t:t+" ago":t},formatLong:L,formatRelative:function(t,e,n,r){return Q[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),t=n%100;if(20<t||t<10)switch(t%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:e({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:e({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:e({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:e({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:e({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(y={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n,t=String(t),e=e||{},r=t.match(y.matchPattern);return r&&(r=r[0],n=t.match(y.parsePattern))?(n=y.valueCallback?y.valueCallback(n[0]):n[0],{value:n=e.valueCallback?e.valueCallback(n):n,rest:t.slice(r.length)}):null}),era:n({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:n({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:n({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:n({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:n({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function I(t,e){return S(2,arguments),i(t,-Y(e))}function b(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var G=function(t,e){t=t.getUTCFullYear(),t=0<t?t:1-t;return b("yy"===e?t%100:t,e.length)},X=function(t,e){t=t.getUTCMonth();return"M"===e?String(t+1):b(t+1,2)},j=function(t,e){return b(t.getUTCDate(),e.length)},B=function(t,e){return b(t.getUTCHours()%12||12,e.length)},z=function(t,e){return b(t.getUTCHours(),e.length)},A=function(t,e){return b(t.getUTCMinutes(),e.length)},Z=function(t,e){return b(t.getUTCSeconds(),e.length)},K=function(t,e){var n=e.length,t=t.getUTCMilliseconds();return b(Math.floor(t*Math.pow(10,n-3)),e.length)};function T(t){S(1,arguments);var t=N(t),e=t.getUTCDay(),e=(e<1?7:0)+e-1;return t.setUTCDate(t.getUTCDate()-e),t.setUTCHours(0,0,0,0),t}function $(t){S(1,arguments);var t=N(t),e=t.getUTCFullYear(),n=new Date(0),n=(n.setUTCFullYear(e+1,0,4),n.setUTCHours(0,0,0,0),T(n)),r=new Date(0),r=(r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0),T(r));return t.getTime()>=n.getTime()?e+1:t.getTime()>=r.getTime()?e:e-1}function _(t){S(1,arguments);t=N(t),t=T(t).getTime()-function(t){S(1,arguments);var t=$(t),e=new Date(0);return e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0),T(e)}(t).getTime();return Math.round(t/6048e5)+1}function p(t,e){S(1,arguments);var e=e||{},n=e.locale,n=n&&n.options&&n.options.weekStartsOn,n=null==n?0:Y(n),n=null==e.weekStartsOn?n:Y(e.weekStartsOn);if(0<=n&&n<=6)return t=((t=(e=N(t)).getUTCDay())<n?7:0)+t-n,e.setUTCDate(e.getUTCDate()-t),e.setUTCHours(0,0,0,0),e;throw new RangeError("weekStartsOn must be between 0 and 6 inclusively")}function v(t,e){S(1,arguments);var n,t=N(t,e),r=t.getUTCFullYear(),a=e||{},i=a.locale,i=i&&i.options&&i.options.firstWeekContainsDate,i=null==i?1:Y(i),i=null==a.firstWeekContainsDate?i:Y(a.firstWeekContainsDate);if(1<=i&&i<=7)return(a=new Date(0)).setUTCFullYear(r+1,0,i),a.setUTCHours(0,0,0,0),a=p(a,e),(n=new Date(0)).setUTCFullYear(r,0,i),n.setUTCHours(0,0,0,0),i=p(n,e),t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1;throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively")}function J(t,e){S(1,arguments);t=N(t),t=p(t,e).getTime()-function(t,e){S(1,arguments);var n=null==(n=(n=(r=e||{}).locale)&&n.options&&n.options.firstWeekContainsDate)?1:Y(n),n=null==r.firstWeekContainsDate?n:Y(r.firstWeekContainsDate),r=v(t,e),t=new Date(0);return t.setUTCFullYear(r,0,n),t.setUTCHours(0,0,0,0),p(t,e)}(t,e).getTime();return Math.round(t/6048e5)+1}function V(t,e){var n=0<t?"-":"+",t=Math.abs(t),r=Math.floor(t/60),t=t%60;return 0==t?n+String(r):(e=e||"",n+String(r)+e+b(t,2))}function tt(t,e){return t%60==0?(0<t?"-":"+")+b(Math.abs(t)/60,2):C(t,e)}function C(t,e){var e=e||"",n=0<t?"-":"+",t=Math.abs(t);return n+b(Math.floor(t/60),2)+e+b(t%60,2)}var et={G:function(t,e,n){var r=0<t.getUTCFullYear()?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){var r;return"yo"===e?(r=t.getUTCFullYear(),n.ordinalNumber(0<r?r:1-r,{unit:"year"})):G(t,e)},Y:function(t,e,n,r){t=v(t,r),r=0<t?t:1-t;return"YY"===e?b(r%100,2):"Yo"===e?n.ordinalNumber(r,{unit:"year"}):b(r,e.length)},R:function(t,e){return b($(t),e.length)},u:function(t,e){return b(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return b(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return b(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return X(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return b(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){t=J(t,r);return"wo"===e?n.ordinalNumber(t,{unit:"week"}):b(t,e.length)},I:function(t,e,n){t=_(t);return"Io"===e?n.ordinalNumber(t,{unit:"week"}):b(t,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):j(t,e)},D:function(t,e,n){t=function(t){S(1,arguments);var t=N(t),e=t.getTime(),t=(t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t.getTime());return Math.floor((e-t)/864e5)+1}(t);return"Do"===e?n.ordinalNumber(t,{unit:"dayOfYear"}):b(t,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return b(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return b(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),a=0===r?7:r;switch(e){case"i":return String(a);case"ii":return b(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=1<=t.getUTCHours()/12?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var t=t.getUTCHours(),r=12===t?"noon":0===t?"midnight":1<=t/12?"pm":"am";switch(e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var t=t.getUTCHours(),r=17<=t?"evening":12<=t?"afternoon":4<=t?"morning":"night";switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){var r;return"ho"===e?(r=t.getUTCHours()%12,n.ordinalNumber(r=0===r?12:r,{unit:"hour"})):B(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):z(t,e)},K:function(t,e,n){t=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(t,{unit:"hour"}):b(t,e.length)},k:function(t,e,n){t=t.getUTCHours();return 0===t&&(t=24),"ko"===e?n.ordinalNumber(t,{unit:"hour"}):b(t,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):A(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Z(t,e)},S:function(t,e){return K(t,e)},X:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();if(0===a)return"Z";switch(e){case"X":return tt(a);case"XXXX":case"XX":return C(a);default:return C(a,":")}},x:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return tt(a);case"xxxx":case"xx":return C(a);default:return C(a,":")}},O:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V(a,":");default:return"GMT"+C(a,":")}},z:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V(a,":");default:return"GMT"+C(a,":")}},t:function(t,e,n,r){r=r._originalDate||t;return b(Math.floor(r.getTime()/1e3),e.length)},T:function(t,e,n,r){return b((r._originalDate||t).getTime(),e.length)}};function nt(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}}function rt(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}}var at={p:rt,P:function(t,e){var n,r=t.match(/(P+)(p+)?/),a=r[1],r=r[2];if(!r)return nt(t,e);switch(a){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",nt(a,e)).replace("{{time}}",rt(r,e))}},it=["D","DD"],ot=["YY","YYYY"];function ut(t){return-1!==it.indexOf(t)}function st(t){return-1!==ot.indexOf(t)}function q(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var ct=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lt=/^'([^]*?)'?$/,ft=/''/g,ht=/[a-zA-Z]/;function M(t,e,n){S(2,arguments);var n=n||{},r=n.locale,r=r&&r.options&&r.options.weekStartsOn,r=null==r?0:Y(r),r=null==n.weekStartsOn?r:Y(n.weekStartsOn);if(0<=r&&r<=6)return n=N(t),e=((7+(t=Y(e))%7)%7<r?7:0)+t-n.getUTCDay(),n.setUTCDate(n.getUTCDate()+e),n;throw new RangeError("weekStartsOn must be between 0 and 6 inclusively")}var mt=/^(1[0-2]|0?\d)/,wt=/^(3[0-1]|[0-2]?\d)/,gt=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,yt=/^(5[0-3]|[0-4]?\d)/,bt=/^(2[0-3]|[0-1]?\d)/,Tt=/^(2[0-4]|[0-1]?\d)/,pt=/^(1[0-1]|0?\d)/,vt=/^(1[0-2]|0?\d)/,Ct=/^[0-5]?\d/,Mt=/^[0-5]?\d/,xt=/^\d/,Dt=/^\d{1,2}/,kt=/^\d{1,3}/,Ut=/^\d{1,4}/,Yt=/^-?\d+/,St=/^-?\d/,Nt=/^-?\d{1,2}/,Pt=/^-?\d{1,3}/,qt=/^-?\d{1,4}/,Ht=/^([+-])(\d{2})(\d{2})?|Z/,Et=/^([+-])(\d{2})(\d{2})|Z/,Ot=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Ft=/^([+-])(\d{2}):(\d{2})|Z/,Wt=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function x(t,e,n){var r,t=e.match(t);return t?(r=parseInt(t[0],10),{value:n?n(r):r,rest:e.slice(t[0].length)}):null}function D(t,e){t=e.match(t);return t?"Z"===t[0]?{value:0,rest:e.slice(1)}:{value:("+"===t[1]?1:-1)*(36e5*(t[2]?parseInt(t[2],10):0)+6e4*(t[3]?parseInt(t[3],10):0)+1e3*(t[5]?parseInt(t[5],10):0)),rest:e.slice(t[0].length)}:null}function Lt(t,e){return x(Yt,t,e)}function k(t,e,n){switch(t){case 1:return x(xt,e,n);case 2:return x(Dt,e,n);case 3:return x(kt,e,n);case 4:return x(Ut,e,n);default:return x(new RegExp("^\\d{1,"+t+"}"),e,n)}}function Qt(t,e,n){switch(t){case 1:return x(St,e,n);case 2:return x(Nt,e,n);case 3:return x(Pt,e,n);case 4:return x(qt,e,n);default:return x(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function U(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Rt(t,e){var n=0<e,e=n?e:1-e;return e=e<=50?t||100:(e=e+50,t+100*Math.floor(e/100)-(e%100<=t?100:0)),n?e:1-e}var It=[31,28,31,30,31,30,31,31,30,31,30,31],Gt=[31,29,31,30,31,30,31,31,30,31,30,31];function Xt(t){return t%400==0||t%4==0&&t%100!=0}var jt={G:{priority:140,parse:function(t,e,n,r){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,r){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,r){function a(t){return{year:t,isTwoDigitYear:"yy"===e}}switch(e){case"y":return k(4,t,a);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:a});default:return k(e.length,t,a)}},validate:function(t,e,n){return e.isTwoDigitYear||0<e.year},set:function(t,e,n,r){var a=t.getUTCFullYear();return n.isTwoDigitYear?(a=Rt(n.year,a),t.setUTCFullYear(a,0,1),t.setUTCHours(0,0,0,0)):(a="era"in e&&1!==e.era?1-n.year:n.year,t.setUTCFullYear(a,0,1),t.setUTCHours(0,0,0,0)),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,r){function a(t){return{year:t,isTwoDigitYear:"YY"===e}}switch(e){case"Y":return k(4,t,a);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:a});default:return k(e.length,t,a)}},validate:function(t,e,n){return e.isTwoDigitYear||0<e.year},set:function(t,e,n,r){var a=v(t,r);return n.isTwoDigitYear?(a=Rt(n.year,a),t.setUTCFullYear(a,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0)):(a="era"in e&&1!==e.era?1-n.year:n.year,t.setUTCFullYear(a,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0)),p(t,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,r){return Qt("R"===e?4:e.length,t)},set:function(t,e,n,r){var a=new Date(0);return a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0),T(a)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,r){return Qt("u"===e?4:e.length,t)},set:function(t,e,n,r){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,r){switch(e){case"Q":case"QQ":return k(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return 1<=e&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,r){switch(e){case"q":case"qq":return k(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return 1<=e&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,r){function a(t){return t-1}switch(e){case"M":return x(mt,t,a);case"MM":return k(2,t,a);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:a});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return 0<=e&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,r){function a(t){return t-1}switch(e){case"L":return x(mt,t,a);case"LL":return k(2,t,a);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:a});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return 0<=e&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,r){switch(e){case"w":return x(yt,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return k(e.length,t)}},validate:function(t,e,n){return 1<=e&&e<=53},set:function(t,e,n,r){return p(function(t,e,n){S(2,arguments);t=N(t),e=Y(e),n=J(t,n)-e;return t.setUTCDate(t.getUTCDate()-7*n),t}(t,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,r){switch(e){case"I":return x(yt,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return k(e.length,t)}},validate:function(t,e,n){return 1<=e&&e<=53},set:function(t,e,n,r){return T(function(t,e){S(2,arguments);t=N(t),e=Y(e),e=_(t)-e;return t.setUTCDate(t.getUTCDate()-7*e),t}(t,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"d":return x(wt,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return k(e.length,t)}},validate:function(t,e,n){var r=Xt(t.getUTCFullYear()),t=t.getUTCMonth();return r?1<=e&&e<=Gt[t]:1<=e&&e<=It[t]},set:function(t,e,n,r){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"D":case"DD":return x(gt,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return k(e.length,t)}},validate:function(t,e,n){return Xt(t.getUTCFullYear())?1<=e&&e<=366:1<=e&&e<=365},set:function(t,e,n,r){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,r){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return 0<=e&&e<=6},set:function(t,e,n,r){return(t=M(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,r){function a(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e}switch(e){case"e":case"ee":return k(e.length,t,a);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:a});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return 0<=e&&e<=6},set:function(t,e,n,r){return(t=M(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,r){function a(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e}switch(e){case"c":case"cc":return k(e.length,t,a);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:a});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return 0<=e&&e<=6},set:function(t,e,n,r){return(t=M(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,r){function a(t){return 0===t?7:t}switch(e){case"i":case"ii":return k(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(t,{width:"short",context:"formatting",valueCallback:a})||n.day(t,{width:"narrow",context:"formatting",valueCallback:a});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:a});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:a})||n.day(t,{width:"narrow",context:"formatting",valueCallback:a});default:return n.day(t,{width:"wide",context:"formatting",valueCallback:a})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(t,{width:"short",context:"formatting",valueCallback:a})||n.day(t,{width:"narrow",context:"formatting",valueCallback:a})}},validate:function(t,e,n){return 1<=e&&e<=7},set:function(t,e,n,r){return(t=function(t,e){S(2,arguments);e=Y(e),e%7==0&&(e-=7),t=N(t),e=((e%7+7)%7<1?7:0)+e-t.getUTCDay();return t.setUTCDate(t.getUTCDate()+e),t}(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,r){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(U(n),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,n,r){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(U(n),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,n,r){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(U(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,r){switch(e){case"h":return x(vt,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return k(e.length,t)}},validate:function(t,e,n){return 1<=e&&e<=12},set:function(t,e,n,r){var a=12<=t.getUTCHours();return a&&n<12?t.setUTCHours(n+12,0,0,0):a||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,r){switch(e){case"H":return x(bt,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return k(e.length,t)}},validate:function(t,e,n){return 0<=e&&e<=23},set:function(t,e,n,r){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,r){switch(e){case"K":return x(pt,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return k(e.length,t)}},validate:function(t,e,n){return 0<=e&&e<=11},set:function(t,e,n,r){return 12<=t.getUTCHours()&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,r){switch(e){case"k":return x(Tt,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return k(e.length,t)}},validate:function(t,e,n){return 1<=e&&e<=24},set:function(t,e,n,r){return t.setUTCHours(n<=24?n%24:n,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,r){switch(e){case"m":return x(Ct,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return k(e.length,t)}},validate:function(t,e,n){return 0<=e&&e<=59},set:function(t,e,n,r){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,r){switch(e){case"s":return x(Mt,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return k(e.length,t)}},validate:function(t,e,n){return 0<=e&&e<=59},set:function(t,e,n,r){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,r){return k(e.length,t,function(t){return Math.floor(t*Math.pow(10,3-e.length))})},set:function(t,e,n,r){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,r){switch(e){case"X":return D(Ht,t);case"XX":return D(Et,t);case"XXXX":return D(Ot,t);case"XXXXX":return D(Wt,t);default:return D(Ft,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,r){switch(e){case"x":return D(Ht,t);case"xx":return D(Et,t);case"xxxx":return D(Ot,t);case"xxxxx":return D(Wt,t);default:return D(Ft,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,r){return Lt(t)},set:function(t,e,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,r){return Lt(t)},set:function(t,e,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},Bt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,At=/^'([^]*?)'?$/,Zt=/''/g,Kt=/\S/,$t=/[a-zA-Z]/;function _t(t,e){return e.timestampIsSet?t:((e=new Date(0)).setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e)}var H={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Vt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,te=/^([+-])(\d{2})(?::?(\d{2}))?$/;function E(t){return t?parseInt(t):1}function O(t){return t&&parseFloat(t.replace(",","."))||0}var ee=[31,null,31,30,31,30,31,31,30,31,30,31];function ne(t){return t%400==0||t%4==0&&t%100}let re={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};F._adapters._date.override({_id:"date-fns",formats:function(){return re},parse:function(t,e){var n;return null!=t&&("number"==(n=typeof t)||t instanceof Date?t=N(t):"string"==n&&(t="string"==typeof e?function(t,e,n,r){S(3,arguments);var a=String(t),i=String(e),o=r||{},u=o.locale||R;if(!u.match)throw new RangeError("locale must contain match property");e=u.options&&u.options.firstWeekContainsDate,r=null==e?1:Y(e),e=null==o.firstWeekContainsDate?r:Y(o.firstWeekContainsDate);if(!(1<=e&&e<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");r=u.options&&u.options.weekStartsOn,r=null==r?0:Y(r),r=null==o.weekStartsOn?r:Y(o.weekStartsOn);if(!(0<=r&&r<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===i)return""===a?N(n):new Date(NaN);for(var s={firstWeekContainsDate:e,weekStartsOn:r,locale:u},c=[{priority:10,subPriority:-1,set:_t,index:0}],d=i.match(zt).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,at[e])(t,u.formatLong,s):t}).join("").match(Bt),l=[],f=0;f<d.length;f++){var h=d[f],m=(!o.useAdditionalWeekYearTokens&&st(h)&&q(h,i,t),!o.useAdditionalDayOfYearTokens&&ut(h)&&q(h,i,t),h[0]),w=jt[m];if(w){var g=w.incompatibleTokens;if(Array.isArray(g)){for(var y=void 0,b=0;b<l.length;b++){var T=l[b].token;if(-1!==g.indexOf(T)||T===m){y=l[b];break}}if(y)throw new RangeError("The format string mustn't contain `".concat(y.fullToken,"` and `").concat(h,"` at the same time"))}else if("*"===w.incompatibleTokens&&l.length)throw new RangeError("The format string mustn't contain `".concat(h,"` and any other token at the same time"));l.push({token:m,fullToken:h});var p=w.parse(a,h,u.match,s);if(!p)return new Date(NaN);c.push({priority:w.priority,subPriority:w.subPriority||0,set:w.set,validate:w.validate,value:p.value,index:c.length}),a=p.rest}else{if(m.match($t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");if("''"===h?h="'":"'"===m&&(h=h.match(At)[1].replace(Zt,"'")),0!==a.indexOf(h))return new Date(NaN);a=a.slice(h.length)}}if(0<a.length&&Kt.test(a))return new Date(NaN);var v=c.map(function(t){return t.priority}).sort(function(t,e){return e-t}).filter(function(t,e,n){return n.indexOf(t)===e}).map(function(e){return c.filter(function(t){return t.priority===e}).sort(function(t,e){return e.subPriority-t.subPriority})}).map(function(t){return t[0]}),e=N(n);if(isNaN(e))return new Date(NaN);var C=I(e,P(e)),M={};for(f=0;f<v.length;f++){var x=v[f];if(x.validate&&!x.validate(C,x.value,s))return new Date(NaN);x=x.set(C,M,x.value,s);if(x[0]){C=x[0];{D=void 0;k=void 0;U=void 0;var D=M;var k=x[1];if(null==D)throw new TypeError("assign requires that input parameter not be null or undefined");for(var U in k=k||{})k.hasOwnProperty(U)&&(D[U]=k[U])}}else C=x}return C}(t,e,new Date,this.options):function(t,e){S(1,arguments);var n,r,a,i,o,u,s,c,e=e||{},e=null==e.additionalDigits?2:Y(e.additionalDigits);if(2!==e&&1!==e&&0!==e)throw new RangeError("additionalDigits must be 0, 1 or 2");return"string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t)||(a={},2<(c=(t=t).split(H.dateTimeDelimiter)).length||(/:/.test(c[0])?(a.date=null,r=c[0]):(a.date=c[0],r=c[1],H.timeZoneDelimiter.test(a.date)&&(a.date=t.split(H.timeZoneDelimiter)[0],r=t.substr(a.date.length,t.length))),r&&((c=H.timezone.exec(r))?(a.time=r.replace(c[1],""),a.timezone=c[1]):a.time=r)),(t=a).date&&(c=t.date,r=e,r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=(r=c.match(r))?(a=r[1]&&parseInt(r[1]),{year:null==(e=r[2]&&parseInt(r[2]))?a:100*e,restDateString:c.slice((r[1]||r[2]).length)}):{year:null},e=a.restDateString,n=null!==(c=a.year)&&(e=e.match(Jt))?(a=!!e[4],o=E(e[1]),i=E(e[2])-1,u=E(e[3]),s=E(e[4]),e=E(e[5])-1,a?1<=s&&s<=53&&0<=e&&e<=6?(a=c,(n=new Date(0)).setUTCFullYear(a,0,4),a=7*(s-1)+e+1-(n.getUTCDay()||7),n.setUTCDate(n.getUTCDate()+a),n):new Date(NaN):(s=new Date(0),0<=i&&i<=11&&1<=u&&u<=(ee[i]||(ne(c)?29:28))&&1<=o&&o<=(ne(c)?366:365)?(s.setUTCFullYear(c,i,Math.max(o,u)),s):new Date(NaN))):null),isNaN(n))||!n||(e=n.getTime(),a=0,t.time&&(a=(c=(c=t.time).match(Vt))?(i=O(c[1]),o=O(c[2]),c=O(c[3]),(24===i?0===o&&0===c:0<=c&&c<60&&0<=o&&o<60&&0<=i&&i<25)?36e5*i+6e4*o+1e3*c:NaN):null,isNaN(a)||null===a))?new Date(NaN):t.timezone?(t="Z"!==(u=t.timezone)&&(u=u.match(te))?(s="+"===u[1]?-1:1,c=parseInt(u[2]),0<=(u=u[3]&&parseInt(u[3])||0)&&u<=59?s*(36e5*c+6e4*u):NaN):0,isNaN(t)?new Date(NaN):new Date(e+a+t)):(c=new Date(e+a),(t=new Date(0)).setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),t.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),t)}(t,this.options)),d(t))?t.getTime():null},format:function(t,e){return function(r,a,t){S(2,arguments);var e=String(a),i=t||{},o=i.locale||R,t=o.options&&o.options.firstWeekContainsDate,t=null==t?1:Y(t),t=null==i.firstWeekContainsDate?t:Y(i.firstWeekContainsDate);if(!(1<=t&&t<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var n=o.options&&o.options.weekStartsOn,n=null==n?0:Y(n),n=null==i.weekStartsOn?n:Y(i.weekStartsOn);if(!(0<=n&&n<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var u,s,c=N(r);if(d(c))return u=I(c,P(c)),s={firstWeekContainsDate:t,weekStartsOn:n,locale:o,_originalDate:c},e.match(dt).map(function(t){var e=t[0];return"p"===e||"P"===e?(0,at[e])(t,o.formatLong,s):t}).join("").match(ct).map(function(t){if("''"===t)return"'";var e=t[0];if("'"===e)return t.match(lt)[1].replace(ft,"'");var n=et[e];if(n)return!i.useAdditionalWeekYearTokens&&st(t)&&q(t,a,r),!i.useAdditionalDayOfYearTokens&&ut(t)&&q(t,a,r),n(u,t,o.localize,s);if(e.match(ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return t}).join("");throw new RangeError("Invalid time value")}(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return i(t,e);case"second":return function(t,e){return S(2,arguments),i(t,1e3*Y(e))}(t,e);case"minute":return function(t,e){return S(2,arguments),i(t,6e4*Y(e))}(t,e);case"hour":return function(t,e){return S(2,arguments),i(t,36e5*Y(e))}(t,e);case"day":return r(t,e);case"week":return function(t,e){return S(2,arguments),r(t,7*Y(e))}(t,e);case"month":return a(t,e);case"quarter":return function(t,e){return S(2,arguments),a(t,3*Y(e))}(t,e);case"year":return function(t,e){return S(2,arguments),a(t,12*Y(e))}(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return f(t,e);case"second":return function(t,e){S(2,arguments);t=f(t,e)/1e3;return 0<t?Math.floor(t):Math.ceil(t)}(t,e);case"minute":return function(t,e){S(2,arguments);t=f(t,e)/6e4;return 0<t?Math.floor(t):Math.ceil(t)}(t,e);case"hour":return function(t,e){S(2,arguments);t=f(t,e)/36e5;return 0<t?Math.floor(t):Math.ceil(t)}(t,e);case"day":return l(t,e);case"week":return function(t,e){S(2,arguments);t=l(t,e)/7;return 0<t?Math.floor(t):Math.ceil(t)}(t,e);case"month":return w(t,e);case"quarter":return function(t,e){S(2,arguments);t=w(t,e)/3;return 0<t?Math.floor(t):Math.ceil(t)}(t,e);case"year":return function(t,e){S(2,arguments);var t=N(t),e=N(e),n=s(t,e),r=Math.abs(function(t,e){return S(2,arguments),t=N(t),e=N(e),t.getFullYear()-e.getFullYear()}(t,e));t.setFullYear("1584"),e.setFullYear("1584");r=n*(r-(s(t,e)===-n));return 0==r?0:r}(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return function(t){S(1,arguments);t=N(t);return t.setMilliseconds(0),t}(t);case"minute":return function(t){S(1,arguments);t=N(t);return t.setSeconds(0,0),t}(t);case"hour":return function(t){S(1,arguments);t=N(t);return t.setMinutes(0,0,0),t}(t);case"day":return u(t);case"week":return o(t);case"isoWeek":return o(t,{weekStartsOn:+n});case"month":return function(t){S(1,arguments);t=N(t);return t.setDate(1),t.setHours(0,0,0,0),t}(t);case"quarter":return function(t){S(1,arguments);var t=N(t),e=t.getMonth();return t.setMonth(e-e%3,1),t.setHours(0,0,0,0),t}(t);case"year":return function(t){S(1,arguments);var t=N(t),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}(t);default:return t}},endOf:function(t,e){switch(e){case"second":return function(t){S(1,arguments);t=N(t);return t.setMilliseconds(999),t}(t);case"minute":return function(t){S(1,arguments);t=N(t);return t.setSeconds(59,999),t}(t);case"hour":return function(t){S(1,arguments);t=N(t);return t.setMinutes(59,59,999),t}(t);case"day":return h(t);case"week":return function(t){S(1,arguments);var e={},n=e.locale,n=n&&n.options&&n.options.weekStartsOn,n=null==n?0:Y(n),n=null==e.weekStartsOn?n:Y(e.weekStartsOn);if(0<=n&&n<=6)return t=6+((t=(e=N(t)).getDay())<n?-7:0)-(t-n),e.setDate(e.getDate()+t),e.setHours(23,59,59,999),e;throw new RangeError("weekStartsOn must be between 0 and 6 inclusively")}(t);case"month":return m(t);case"quarter":return function(t){S(1,arguments);var t=N(t),e=t.getMonth();return t.setMonth(e-e%3+3,0),t.setHours(23,59,59,999),t}(t);case"year":return function(t){S(1,arguments);var t=N(t),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}(t);default:return t}}})});
((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("chart.js"),require("chart.js/helpers")):"function"==typeof define&&define.amd?define(["exports","chart.js","chart.js/helpers"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["chartjs-chart-matrix"]={},t.Chart,t.Chart.helpers)})(this,function(t,e,h){class r extends e.DatasetController{static id="matrix";static version="2.0.1";static defaults={dataElementType:"matrix",animations:{numbers:{type:"number",properties:["x","y","width","height"]}}};static overrides={interaction:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}}};initialize(){this.enableOptionSharing=!0,super.initialize()}update(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(d,t,e,u){let c=this,g="reset"===u,{xScale:p,yScale:x}=c._cachedMeta,r=c.resolveDataElementOptions(t,u),i=c.getSharedOptions(u,d[t],r);for(let l=t;l<t+e;l++){let t=!g&&c.getParsed(l),e=g?p.getBasePixel():p.getPixelForValue(t.x),r=g?x.getBasePixel():x.getPixelForValue(t.y),i=c.resolveDataElementOptions(l,u),{width:a,height:o,anchorX:n,anchorY:h}=i,s={x:(y=e,b=a,"left"===(f=n)||"start"===f?y:"right"===f||"end"===f?y-b:y-b/2),y:(f=r,y=o,"top"===(b=h)||"start"===b?f:"bottom"===b||"end"===b?f-y:f-y/2),width:a,height:o,options:i};c.updateElement(d[l],l,s,u)}var f,y,b;c.updateSharedOptions(i,u)}draw(){var t=this.getMeta().data||[];let e,r;for(e=0,r=t.length;e<r;++e)t[e].draw(this._ctx)}}function n(t,e){var{x:t,y:e,width:r,height:i}=t.getProps(["x","y","width","height"],e);return{left:t,top:e,right:t+r,bottom:e+i}}function s(t,e,r){return Math.max(Math.min(t,r),e)}function o(t){var e=n(t),r=e.right-e.left,i=e.bottom-e.top,t=((t,e,r)=>{t=t.options.borderWidth;let i,a,o,n;return h.isObject(t)?(i=+t.top||0,a=+t.right||0,o=+t.bottom||0,n=+t.left||0):i=a=o=n=+t||0,{t:s(i,0,r),r:s(a,0,e),b:s(o,0,r),l:s(n,0,e)}})(t,r/2,i/2);return{outer:{x:e.left,y:e.top,w:r,h:i},inner:{x:e.left+t.l,y:e.top+t.t,w:r-t.l-t.r,h:i-t.t-t.b}}}function i(t,e,r,i){var a=null===e,o=null===r,t=!(!t||a&&o)&&n(t,i);return t&&(a||e>=t.left&&e<=t.right)&&(o||r>=t.top&&r<=t.bottom)}class a extends e.Element{static id="matrix";static defaults={backgroundColor:void 0,borderColor:void 0,borderWidth:void 0,borderRadius:0,anchorX:"center",anchorY:"center",width:20,height:20};constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){var e=this.options,{inner:r,outer:i}=o(this),a=h.toTRBLCorners(e.borderRadius);t.save(),i.w!==r.w||i.h!==r.h?(t.beginPath(),h.addRoundedRectPath(t,{x:i.x,y:i.y,w:i.w,h:i.h,radius:a}),h.addRoundedRectPath(t,{x:r.x,y:r.y,w:r.w,h:r.h,radius:a}),t.fillStyle=e.backgroundColor,t.fill(),t.fillStyle=e.borderColor,t.fill("evenodd")):(t.beginPath(),h.addRoundedRectPath(t,{x:r.x,y:r.y,w:r.w,h:r.h,radius:a}),t.fillStyle=e.backgroundColor,t.fill()),t.restore()}inRange(t,e,r){return i(this,t,e,r)}inXRange(t,e){return i(this,t,null,e)}inYRange(t,e){return i(this,null,t,e)}getCenterPoint(t){var{x:t,y:e,width:r,height:i}=this.getProps(["x","y","width","height"],t);return{x:t+r/2,y:e+i/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}(400<e.Chart.version.replace(/\./g,"")?e.Chart:e.Chart.plugins).register(r,a),t.MatrixController=r,t.MatrixElement=a});
jQuery(document).ready(function(){let n=jQuery(".js-date-range-picker-btn"),o=jQuery(".js-date-range-picker-input"),l=jQuery(".js-date-range-picker-form");var e=jQuery(".wps-js-calendar-field"),s=wps_js.isset(wps_js.global,"options","wp_timezone")?wps_js.global.options.wp_timezone:null;let c=s;function t(e,t){var a;return(t&&(t.startsWith("UTC")||t.startsWith("+")||t.startsWith("-"))?(a=t.startsWith("UTC")?t.replace("UTC",""):t,moment(e).utcOffset(a)):moment.tz.zone(t)?moment(e).tz(t):moment(e).utc()).startOf("day")}if(n.length&&moment.updateLocale("en",{week:{dow:parseInt(wps_js._("start_of_week"))}}),n.length&&o.length&&l.length){n.on("click",function(){o.trigger("click")}),s&&(s.startsWith("+")||s.startsWith("-"))?c="UTC"+s:moment.tz.zone(c)||(c="UTC");var s=(()=>{if(c){var e;if(c.startsWith("UTC")||c.startsWith("+")||c.startsWith("-"))return e=c.startsWith("UTC")?c.replace("UTC",""):c,moment().utcOffset(e);if(moment.tz.zone(c))return moment().tz(c)}return moment().utc()})(),a={[wps_js._("str_today")]:[t(s.clone(),c),t(s.clone(),c)],[wps_js._("str_yesterday")]:[t(s.clone().subtract(1,"days"),c),t(s.clone().subtract(1,"days"),c)],[wps_js._("str_this_week")]:[t(s.clone().startOf("week"),c),t(s.clone().endOf("week"),c)],[wps_js._("str_last_week")]:[t(s.clone().subtract(1,"week").startOf("week"),c),t(s.clone().subtract(1,"week").endOf("week"),c)],[wps_js._("str_this_month")]:[t(s.clone().startOf("month"),c),t(s.clone().endOf("month"),c)],[wps_js._("str_last_month")]:[t(s.clone().subtract(1,"month").startOf("month"),c),t(s.clone().subtract(1,"month").endOf("month"),c)],[wps_js._("str_7days")]:[t(s.clone().subtract(6,"days"),c),t(s.clone(),c)],[wps_js._("str_28days")]:[t(s.clone().subtract(27,"days"),c),t(s.clone(),c)],[wps_js._("str_30days")]:[t(s.clone().subtract(29,"days"),c),t(s.clone(),c)],[wps_js._("str_90days")]:[t(s.clone().subtract(89,"days"),c),t(s.clone(),c)],[wps_js._("str_6months")]:[t(s.clone().subtract(6,"months"),c),t(s.clone(),c)],[wps_js._("str_year")]:[t(s.clone().startOf("year"),c),t(s.clone().endOf("year"),c)]};function r(){return new URLSearchParams(window.location.search).get("post_id")}if(n.hasClass("js-date-range-picker-all-time")){let e=moment(0);e=r()?wps_js.global.post_creation_date?t(moment(wps_js.global.post_creation_date),c):t(moment(0),c):wps_js.global.initial_post_date?t(moment(wps_js.global.initial_post_date),c):t(moment(0),c),a[wps_js._("all_time")]=[e,t(moment(),c)]}var s=(e=>{let t={d:"DD",j:"D",S:"Do",n:"M",m:"MM",F:"MMMM",M:"MMM",y:"YY",Y:"YYYY"};return e.replace(/([a-zA-Z])/g,e=>t[e]||e)})(n.attr("data-date-format")?n.attr("data-date-format"):"MM/DD/YYYY"),i=moment(wps_js.global.user_date_range.from).format("YYYY-MM-DD"),d=moment(wps_js.global.user_date_range.to).format("YYYY-MM-DD");if(n.length&&o.length&&l.length&&!o.data("daterangepicker")&&o.daterangepicker({autoApply:!0,ranges:a,locale:{customRangeLabel:wps_js._("custom_range")},startDate:i,endDate:d}),wps_js.isset(wps_js.global,"request_params","from")&&wps_js.isset(wps_js.global,"request_params","to")){let t=wps_js.global.request_params.from;if(r()&&t&&wps_js.global.post_creation_date){var m=new Date(wps_js.global.post_creation_date),p=new Date(t),_=new Date(p.getFullYear(),p.getMonth(),p.getDate());if(_<m){let e=!1;for(var g in a){var g=a[g],f=new Date(g[0]),g=new Date(g[1]),f=new Date(f.getFullYear(),f.getMonth(),f.getDate()),g=new Date(g.getFullYear(),g.getMonth(),g.getDate());if(f<=_&&_<=g){e=!0;break}}e||(t=wps_js.global.post_creation_date)}}var p=wps_js.global.request_params.to,m=(o.data("daterangepicker").setStartDate(moment(t).format("MM/DD/YYYY")),o.data("daterangepicker").setEndDate(moment(p).format("MM/DD/YYYY")),o.data("daterangepicker").updateCalendars(),o.data("daterangepicker").chosenLabel),u=moment(t),p=moment(p);let e;e=u.year()===p.year()?(Y=s.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,""),u.format(Y)+" - "+p.format(s)):u.format(s)+" - "+p.format(s),"Custom Range"!==m&&("All time"!==m?(e=`<span class="wps-date-range">${m}</span>`+e,document.querySelector(".js-date-range-picker-btn").classList.add("custom-range")):e=m),n.find("span").html(e)}else{var Y=moment(i),u=moment(d);o.data("daterangepicker").setStartDate(moment(i).format("MM/DD/YYYY")),o.data("daterangepicker").setEndDate(moment(d).format("MM/DD/YYYY")),o.data("daterangepicker").updateCalendars();let e,a=(e=Y.year()===u.year()?(p=s.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,""),Y.format(p)+" - "+u.format(s)):Y.format(s)+" - "+u.format(s),o.data("daterangepicker").container.find(".ranges li.active").text());o.data("daterangepicker").container.find(".ranges li.active").removeClass("active"),o.data("daterangepicker").container.find('.ranges li[data-range-key="'+a+'"]').addClass("active"),"Custom Range"!==a&&("All time"!==a?(e=`<span class="wps-date-range">${a}</span>`+e,document.querySelector(".js-date-range-picker-btn").classList.add("custom-range")):e=e),n.find("span").html(e),o.on("show.daterangepicker",function(e,t){o.data("daterangepicker").container.find(".ranges li.active").removeClass("active"),o.data("daterangepicker").container.find('.ranges li[data-range-key="'+a+'"]').addClass("active")})}o.on("show.daterangepicker",function(e,t){t=t.container;jQuery(t).addClass(e.target.className)}),o.on("apply.daterangepicker",function(e,t){var a=l.find(".js-date-range-picker-input-from").first(),s=l.find(".js-date-range-picker-input-to").first(),r=t.startDate.startOf("day").utcOffset(c,!0).format("YYYY-MM-DD"),t=t.endDate.startOf("day").utcOffset(c,!0).format("YYYY-MM-DD"),a=(a.val(r),s.val(t),o.data("daterangepicker").chosenLabel);n.find("span").html(a),"All time"!==a?jQuery.ajax({url:wps_js.global.ajax_url,method:"POST",data:{wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_store_date_range",date:{from:r,to:t}},beforeSend:function(){n.addClass("wps-disabled")},complete:function(e){l.submit()}}):l.submit()})}e.length&&(e.daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1998,maxYear:parseInt((new Date).getFullYear()+1),locale:{format:"YYYY-MM-DD"}}),e.on("show.daterangepicker",function(e,t){t=t.container;jQuery(t).addClass(e.target.className)}),e.on("apply.daterangepicker",function(e,t){jQuery(".wps-today-datepicker").submit()}))});
(t=>{"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)})(function(y){function t(){this.__$emitterPrivate=y({}),this.__$emitterPublic=y({}),this.__instancesLatestArr=[],this.__plugins={},this._env=b}var a={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:null,plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},n="undefined"!=typeof window?window:null,b={hasTouchCapability:!(!n||!("ontouchstart"in n||n.DocumentTouch&&n.document instanceof n.DocumentTouch||n.navigator.maxTouchPoints)),hasTransitions:(()=>{if(n){var t=(n.document.body||n.document.documentElement).style,i="transition",o=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[i])return!0;i=i.charAt(0).toUpperCase()+i.substr(1);for(var e=0;e<o.length;e++)if("string"==typeof t[o[e]+i])return!0}return!1})(),IE:!1,semVer:"4.2.8",window:n};function i(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function s(o,e){var n=!0;return y.each(o,function(t,i){if(void 0===e[t]||o[t]!==e[t])return n=!1}),n}function l(t){var i=t.attr("id"),i=i?b.window.document.getElementById(i):null;return i?i===t[0]:y.contains(b.window.document.body,t[0])}t.prototype={__bridge:function(t,o,e){var i,n;return o[e]||((i=function(){}).prototype=t,(n=new i).__init&&n.__init(o),y.each(t,function(t,i){0!=t.indexOf("__")&&(o[t]?a.debug&&console.log("The "+t+" method of the "+e+" plugin conflicts with another plugin or native methods"):(o[t]=function(){return n[t].apply(n,Array.prototype.slice.apply(arguments))},o[t].bridged=n))}),o[e]=n),this},__setWindow:function(t){return b.window=t,this},_getRuler:function(t){return new i(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(t){var o,e,i=this;if("string"==typeof t)return e=null,0<(o=t).indexOf(".")?e=i.__plugins[o]:y.each(i.__plugins,function(t,i){if(i.name.substring(i.name.length-o.length-1)=="."+o)return e=i,!1}),e;if(t.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return(i.__plugins[t.name]=t).core&&i.__bridge(t.core,i,t.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(t){var e=[];return y(t||".tooltipstered").each(function(){var o=y(this),t=o.data("tooltipster-ns");t&&y.each(t,function(t,i){e.push(o.data(i))})}),e},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(t){return y((t?t+" ":"")+".tooltipstered").toArray()},setDefaults:function(t){return y.extend(a,t),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},y.tooltipster=new t,y.Tooltipster=function(t,i){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__$emitterPrivate=y({}),this.__$emitterPublic=y({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(t,i)},y.Tooltipster.prototype={__init:function(t,i){var o,e=this;e._$origin=y(t),e.__options=y.extend(!0,{},a,i),e.__optionsFormat(),!b.IE||b.IE>=e.__options.IEmin?(t=null,void 0===e._$origin.data("tooltipster-initialTitle")&&(t=e._$origin.attr("title"),e._$origin.data("tooltipster-initialTitle",t=void 0===t?null:t)),null!==e.__options.content?e.__contentSet(e.__options.content):(o=(i=e._$origin.attr("data-tooltip-content"))?y(i):o)&&o[0]?e.__contentSet(o.first()):e.__contentSet(t),e._$origin.removeAttr("title").addClass("tooltipstered"),e.__prepareOrigin(),e.__prepareGC(),y.each(e.__options.plugins,function(t,i){e._plug(i)}),b.hasTouchCapability&&y(b.window.document.body).on("touchmove."+e.__namespace+"-triggerOpen",function(t){e._touchRecordEvent(t)}),e._on("created",function(){e.__prepareTooltip()})._on("repositioned",function(t){e.__lastPosition=t.position})):e.__options.disabled=!0},__contentInsert:function(){var t=this,i=t._$tooltip.find(".tooltipster-content"),o=t.__Content;return t._trigger({type:"format",content:t.__Content,format:function(t){o=t}}),"string"!=typeof(o=t.__options.functionFormat?t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content):o)||t.__options.contentAsHTML?i.empty().append(o):i.text(o),t},__contentSet:function(t){return t instanceof y&&this.__options.contentCloning&&(t=t.clone(!0)),this.__Content=t,this._trigger({type:"updated",content:t}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var t=this,i=t._$origin,o=t._$origin.is("area"),e=(o&&(e=t._$origin.parent().attr("name"),i=y('img[usemap="#'+e+'"]')),i[0].getBoundingClientRect()),n=y(b.window.document),s=y(b.window),r=i,_={available:{document:null,window:null},document:{size:{height:n.height(),width:n.width()}},window:{scroll:{left:b.window.scrollX||b.window.document.documentElement.scrollLeft,top:b.window.scrollY||b.window.document.documentElement.scrollTop},size:{height:s.height(),width:s.width()}},origin:{fixedLineage:!1,offset:{},size:{height:e.bottom-e.top,width:e.right-e.left},usemapImage:o?i[0]:null,windowOffset:{bottom:e.bottom,left:e.left,right:e.right,top:e.top}}};if(o){var n=t._$origin.attr("shape"),a=t._$origin.attr("coords");if(a&&(a=a.split(","),y.map(a,function(t,i){a[i]=parseInt(t)})),"default"!=n)switch(n){case"circle":var l=a[0],p=a[1],c=a[2],p=p-c,l=l-c;_.origin.size.height=2*c,_.origin.size.width=_.origin.size.height,_.origin.windowOffset.left+=l,_.origin.windowOffset.top+=p;break;case"rect":var c=a[0],l=a[1],p=a[2],h=a[3];_.origin.size.height=h-l,_.origin.size.width=p-c,_.origin.windowOffset.left+=c,_.origin.windowOffset.top+=l;break;case"poly":for(var d=0,u=0,g=0,f=0,m="even",w=0;w<a.length;w++)var v=a[w],m="even"==m?(v<(d=g<v&&(g=v,0===w)?g:d)&&(d=v),"odd"):(v<(u=f<v&&(f=v,1==w)?f:u)&&(u=v),"even");_.origin.size.height=f-u,_.origin.size.width=g-d,_.origin.windowOffset.left+=d,_.origin.windowOffset.top+=u}}for(t._trigger({type:"geometry",edit:function(t){_.origin.size.height=t.height,_.origin.windowOffset.left=t.left,_.origin.windowOffset.top=t.top,_.origin.size.width=t.width},geometry:{height:_.origin.size.height,left:_.origin.windowOffset.left,top:_.origin.windowOffset.top,width:_.origin.size.width}}),_.origin.windowOffset.right=_.origin.windowOffset.left+_.origin.size.width,_.origin.windowOffset.bottom=_.origin.windowOffset.top+_.origin.size.height,_.origin.offset.left=_.origin.windowOffset.left+_.window.scroll.left,_.origin.offset.top=_.origin.windowOffset.top+_.window.scroll.top,_.origin.offset.bottom=_.origin.offset.top+_.origin.size.height,_.origin.offset.right=_.origin.offset.left+_.origin.size.width,_.available.document={bottom:{height:_.document.size.height-_.origin.offset.bottom,width:_.document.size.width},left:{height:_.document.size.height,width:_.origin.offset.left},right:{height:_.document.size.height,width:_.document.size.width-_.origin.offset.right},top:{height:_.origin.offset.top,width:_.document.size.width}},_.available.window={bottom:{height:Math.max(_.window.size.height-Math.max(_.origin.windowOffset.bottom,0),0),width:_.window.size.width},left:{height:_.window.size.height,width:Math.max(_.origin.windowOffset.left,0)},right:{height:_.window.size.height,width:Math.max(_.window.size.width-Math.max(_.origin.windowOffset.right,0),0)},top:{height:Math.max(_.origin.windowOffset.top,0),width:_.window.size.width}};"html"!=r[0].tagName.toLowerCase();){if("fixed"==r.css("position")){_.origin.fixedLineage=!0;break}r=r.parent()}return _},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),null===this.__options.parent?this.__options.parent=y(b.window.document.body):"string"==typeof this.__options.parent&&(this.__options.parent=y(this.__options.parent)),"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var t=this;return t.__options.selfDestruction?t.__garbageCollector=setInterval(function(){var o=(new Date).getTime();t.__touchEvents=y.grep(t.__touchEvents,function(t,i){return 6e4<o-t.time}),l(t._$origin)||t.close(function(){t.destroy()})},2e4):clearInterval(t.__garbageCollector),t},__prepareOrigin:function(){var t,i=this;return i._$origin.off("."+i.__namespace+"-triggerOpen"),b.hasTouchCapability&&i._$origin.on("touchstart."+i.__namespace+"-triggerOpen touchend."+i.__namespace+"-triggerOpen touchcancel."+i.__namespace+"-triggerOpen",function(t){i._touchRecordEvent(t)}),(i.__options.triggerOpen.click||i.__options.triggerOpen.tap&&b.hasTouchCapability)&&(t="",i.__options.triggerOpen.click&&(t+="click."+i.__namespace+"-triggerOpen "),i.__options.triggerOpen.tap&&b.hasTouchCapability&&(t+="touchend."+i.__namespace+"-triggerOpen"),i._$origin.on(t,function(t){i._touchIsMeaningfulEvent(t)&&i._open(t)})),(i.__options.triggerOpen.mouseenter||i.__options.triggerOpen.touchstart&&b.hasTouchCapability)&&(t="",i.__options.triggerOpen.mouseenter&&(t+="mouseenter."+i.__namespace+"-triggerOpen "),i.__options.triggerOpen.touchstart&&b.hasTouchCapability&&(t+="touchstart."+i.__namespace+"-triggerOpen"),i._$origin.on(t,function(t){!i._touchIsTouchEvent(t)&&i._touchIsEmulatedEvent(t)||(i.__pointerIsOverOrigin=!0,i._openShortly(t))})),(i.__options.triggerClose.mouseleave||i.__options.triggerClose.touchleave&&b.hasTouchCapability)&&(t="",i.__options.triggerClose.mouseleave&&(t+="mouseleave."+i.__namespace+"-triggerOpen "),i.__options.triggerClose.touchleave&&b.hasTouchCapability&&(t+="touchend."+i.__namespace+"-triggerOpen touchcancel."+i.__namespace+"-triggerOpen"),i._$origin.on(t,function(t){i._touchIsMeaningfulEvent(t)&&(i.__pointerIsOverOrigin=!1)})),i},__prepareTooltip:function(){var o=this,t=o.__options.interactive?"auto":"";return o._$tooltip.attr("id",o.__namespace).css({"pointer-events":t,zIndex:o.__options.zIndex}),y.each(o.__previousThemes,function(t,i){o._$tooltip.removeClass(i)}),y.each(o.__options.theme,function(t,i){o._$tooltip.addClass(i)}),o.__previousThemes=y.merge([],o.__options.theme),o},__scrollHandler:function(t){var s,r,i,o,e=this;return e.__options.triggerClose.scroll?e._close(t):l(e._$origin)&&l(e._$tooltip)&&(s=null,t.target===b.window.document?e.__Geometry.origin.fixedLineage||e.__options.repositionOnScroll&&e.reposition(t):(s=e.__geometry(),r=!1,"fixed"!=e._$origin.css("position")&&e.__$originParents.each(function(t,i){var o=y(i),e=o.css("overflow-x"),n=o.css("overflow-y");if("visible"!=e||"visible"!=n){i=i.getBoundingClientRect();if("visible"!=e&&(s.origin.windowOffset.left<i.left||s.origin.windowOffset.right>i.right))return!(r=!0);if("visible"!=n&&(s.origin.windowOffset.top<i.top||s.origin.windowOffset.bottom>i.bottom))return!(r=!0)}if("fixed"==o.css("position"))return!1}),r?e._$tooltip.css("visibility","hidden"):(e._$tooltip.css("visibility","visible"),e.__options.repositionOnScroll?e.reposition(t):(i=s.origin.offset.left-e.__Geometry.origin.offset.left,o=s.origin.offset.top-e.__Geometry.origin.offset.top,e._$tooltip.css({left:e.__lastPosition.coord.left+i,top:e.__lastPosition.coord.top+o})))),e._trigger({type:"scroll",event:t,geo:s})),e},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,y.each(this.__timeouts.close,function(t,i){clearTimeout(i)}),this.__timeouts.close=[],this},__trackerStart:function(){var o=this,e=o._$tooltip.find(".tooltipster-content");return o.__options.trackTooltip&&(o.__contentBcr=e[0].getBoundingClientRect()),o.__tracker=setInterval(function(){var t,i;l(o._$origin)&&l(o._$tooltip)?(o.__options.trackOrigin&&(t=!1,s((i=o.__geometry()).origin.size,o.__Geometry.origin.size)&&(o.__Geometry.origin.fixedLineage?s(i.origin.windowOffset,o.__Geometry.origin.windowOffset)&&(t=!0):s(i.origin.offset,o.__Geometry.origin.offset)&&(t=!0)),t||(o.__options.triggerClose.mouseleave?o._close():o.reposition())),!o.__options.trackTooltip||(i=e[0].getBoundingClientRect()).height===o.__contentBcr.height&&i.width===o.__contentBcr.width||(o.reposition(),o.__contentBcr=i)):o._close()},o.__options.trackerInterval),o},_close:function(o,t,i){var e,n=this,s=!0;return n._trigger({type:"close",event:o,stop:function(){s=!1}}),(s||i)&&(t&&n.__callbacks.close.push(t),n.__callbacks.open=[],n.__timeoutsClear(),e=function(){y.each(n.__callbacks.close,function(t,i){i.call(n,n,{event:o,origin:n._$origin[0]})}),n.__callbacks.close=[]},"closed"!=n.__state?(i=!0,t=(new Date).getTime()+n.__options.animationDuration[1],(i="disappearing"==n.__state&&t>n.__closingTime&&0<n.__options.animationDuration[1]?!1:i)&&(n.__closingTime=t,"disappearing"!=n.__state&&n.__stateSet("disappearing"),i=function(){clearInterval(n.__tracker),n._trigger({type:"closing",event:o}),n._$tooltip.off("."+n.__namespace+"-triggerClose").removeClass("tooltipster-dying"),y(b.window).off("."+n.__namespace+"-triggerClose"),n.__$originParents.each(function(t,i){y(i).off("scroll."+n.__namespace+"-triggerClose")}),n.__$originParents=null,y(b.window.document.body).off("."+n.__namespace+"-triggerClose"),n._$origin.off("."+n.__namespace+"-triggerClose"),n._off("dismissable"),n.__stateSet("closed"),n._trigger({type:"after",event:o}),n.__options.functionAfter&&n.__options.functionAfter.call(n,n,{event:o,origin:n._$origin[0]}),e()},b.hasTransitions?(n._$tooltip.css({"-moz-animation-duration":n.__options.animationDuration[1]+"ms","-ms-animation-duration":n.__options.animationDuration[1]+"ms","-o-animation-duration":n.__options.animationDuration[1]+"ms","-webkit-animation-duration":n.__options.animationDuration[1]+"ms","animation-duration":n.__options.animationDuration[1]+"ms","transition-duration":n.__options.animationDuration[1]+"ms"}),n._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),0<n.__options.animationDuration[1]&&n._$tooltip.delay(n.__options.animationDuration[1]),n._$tooltip.queue(i)):n._$tooltip.stop().fadeOut(n.__options.animationDuration[1],i))):e()),n},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(t,i){var o,e,n,s,r,_=this;return _.__destroying||l(_._$origin)&&_.__enabled&&!(o=!0)!==(o="closed"==_.__state&&(_._trigger({type:"before",event:t,stop:function(){o=!1}}),o)&&_.__options.functionBefore?_.__options.functionBefore.call(_,_,{event:t,origin:_._$origin[0]}):o)&&null!==_.__Content&&(i&&_.__callbacks.open.push(i),_.__callbacks.close=[],_.__timeoutsClear(),n=function(){"stable"!=_.__state&&_.__stateSet("stable"),y.each(_.__callbacks.open,function(t,i){i.call(_,_,{origin:_._$origin[0],tooltip:_._$tooltip[0]})}),_.__callbacks.open=[]},"closed"!==_.__state?(e=0,"disappearing"===_.__state?(_.__stateSet("appearing"),b.hasTransitions?(_._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),0<_.__options.animationDuration[0]&&_._$tooltip.delay(_.__options.animationDuration[0]),_._$tooltip.queue(n)):_._$tooltip.stop().fadeIn(n)):"stable"==_.__state&&n()):(_.__stateSet("appearing"),e=_.__options.animationDuration[0],_.__contentInsert(),_.reposition(t,!0),b.hasTransitions?(_._$tooltip.addClass("tooltipster-"+_.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":_.__options.animationDuration[0]+"ms","-ms-animation-duration":_.__options.animationDuration[0]+"ms","-o-animation-duration":_.__options.animationDuration[0]+"ms","-webkit-animation-duration":_.__options.animationDuration[0]+"ms","animation-duration":_.__options.animationDuration[0]+"ms","transition-duration":_.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=_.__state&&(_._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),0<_.__options.animationDuration[0]&&_._$tooltip.delay(_.__options.animationDuration[0]),_._$tooltip.queue(n))},0)):_._$tooltip.css("display","none").fadeIn(_.__options.animationDuration[0],n),_.__trackerStart(),y(b.window).on("resize."+_.__namespace+"-triggerClose",function(t){var i=y(document.activeElement);(i.is("input")||i.is("textarea"))&&y.contains(_._$tooltip[0],i[0])||_.reposition(t)}).on("scroll."+_.__namespace+"-triggerClose",function(t){_.__scrollHandler(t)}),_.__$originParents=_._$origin.parents(),_.__$originParents.each(function(t,i){y(i).on("scroll."+_.__namespace+"-triggerClose",function(t){_.__scrollHandler(t)})}),(_.__options.triggerClose.mouseleave||_.__options.triggerClose.touchleave&&b.hasTouchCapability)&&(_._on("dismissable",function(t){t.dismissable?t.delay?(r=setTimeout(function(){_._close(t.event)},t.delay),_.__timeouts.close.push(r)):_._close(t):clearTimeout(r)}),i=_._$origin,s=t="",r=null,_.__options.interactive&&(i=i.add(_._$tooltip)),_.__options.triggerClose.mouseleave&&(t+="mouseenter."+_.__namespace+"-triggerClose ",s+="mouseleave."+_.__namespace+"-triggerClose "),_.__options.triggerClose.touchleave&&b.hasTouchCapability&&(t+="touchstart."+_.__namespace+"-triggerClose",s+="touchend."+_.__namespace+"-triggerClose touchcancel."+_.__namespace+"-triggerClose"),i.on(s,function(t){var i;!_._touchIsTouchEvent(t)&&_._touchIsEmulatedEvent(t)||(i="mouseleave"==t.type?_.__options.delay:_.__options.delayTouch,_._trigger({delay:i[1],dismissable:!0,event:t,type:"dismissable"}))}).on(t,function(t){!_._touchIsTouchEvent(t)&&_._touchIsEmulatedEvent(t)||_._trigger({dismissable:!1,event:t,type:"dismissable"})})),_.__options.triggerClose.originClick&&_._$origin.on("click."+_.__namespace+"-triggerClose",function(t){_._touchIsTouchEvent(t)||_._touchIsEmulatedEvent(t)||_._close(t)}),(_.__options.triggerClose.click||_.__options.triggerClose.tap&&b.hasTouchCapability)&&setTimeout(function(){var t,i;"closed"!=_.__state&&(t="",i=y(b.window.document.body),_.__options.triggerClose.click&&(t+="click."+_.__namespace+"-triggerClose "),_.__options.triggerClose.tap&&b.hasTouchCapability&&(t+="touchend."+_.__namespace+"-triggerClose"),i.on(t,function(t){_._touchIsMeaningfulEvent(t)&&(_._touchRecordEvent(t),_.__options.interactive&&y.contains(_._$tooltip[0],t.target)||_._close(t))}),_.__options.triggerClose.tap)&&b.hasTouchCapability&&i.on("touchstart."+_.__namespace+"-triggerClose",function(t){_._touchRecordEvent(t)})},0),_._trigger("ready"),_.__options.functionReady&&_.__options.functionReady.call(_,_,{origin:_._$origin[0],tooltip:_._$tooltip[0]})),0<_.__options.timer)&&(r=setTimeout(function(){_._close()},_.__options.timer+e),_.__timeouts.close.push(r)),_},_openShortly:function(t){var i,o=this,e=!0;return"stable"==o.__state||"appearing"==o.__state||o.__timeouts.open||(o._trigger({type:"start",event:t,stop:function(){e=!1}}),e&&((i=0==t.type.indexOf("touch")?o.__options.delayTouch:o.__options.delay)[0]?o.__timeouts.open=setTimeout(function(){o.__timeouts.open=null,o.__pointerIsOverOrigin&&o._touchIsMeaningfulEvent(t)?(o._trigger("startend"),o._open(t)):o._trigger("startcancel")},i[0]):(o._trigger("startend"),o._open(t)))),o},_optionsExtract:function(t,i){var e=this,o=y.extend(!0,{},i),n=e.__options[t];return n||(n={},y.each(i,function(t,i){var o=e.__options[t];void 0!==o&&(n[t]=o)})),y.each(o,function(t,i){void 0!==n[t]&&("object"!=typeof i||i instanceof Array||null==i||"object"!=typeof n[t]||n[t]instanceof Array||null==n[t]?o[t]=n[t]:y.extend(o[t],n[t]))}),o},_plug:function(t){var i=y.tooltipster._plugin(t);if(i)return i.instance&&y.tooltipster.__bridge(i.instance,this,i.name),this;throw new Error('The "'+t+'" plugin is not defined')},_touchIsEmulatedEvent:function(t){for(var i=!1,o=(new Date).getTime(),e=this.__touchEvents.length-1;0<=e;e--){var n=this.__touchEvents[e];if(!(o-n.time<500))break;n.target===t.target&&(i=!0)}return i},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var i=!1,o=this.__touchEvents.length-1;0<=o;o--){var e=this.__touchEvents[o];if("touchmove"==e.type){i=!0;break}if("touchstart"==e.type&&t===e.target)break}return i},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),t[0].instance=this,t[0].origin=this._$origin?this._$origin[0]:null,t[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),y.tooltipster._trigger.apply(y.tooltipster,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},_unplug:function(o){var t,e=this;return e[o]&&((t=y.tooltipster._plugin(o)).instance&&y.each(t.instance,function(t,i){e[t]&&e[t].bridged===e[o]&&delete e[t]}),e[o].__destroy&&e[o].__destroy(),delete e[o]),e},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var i,o=this;return void 0===t?o.__Content:(o.__destroyed?o.__destroyError():(o.__contentSet(t),null!==o.__Content?"closed"!==o.__state&&(o.__contentInsert(),o.reposition(),o.__options.updateAnimation)&&(b.hasTransitions?(i=o.__options.updateAnimation,o._$tooltip.addClass("tooltipster-update-"+i),setTimeout(function(){"closed"!=o.__state&&o._$tooltip.removeClass("tooltipster-update-"+i)},1e3)):o._$tooltip.fadeTo(200,.5,function(){"closed"!=o.__state&&o._$tooltip.fadeTo(200,1)})):o._close()),o)},destroy:function(){var t,i,o=this;return o.__destroyed?o.__destroyError():("closed"!=o.__state?o.option("animationDuration",0)._close(null,null,!0):o.__timeoutsClear(),o._trigger("destroy"),o.__destroyed=!0,o._$origin.removeData(o.__namespace).off("."+o.__namespace+"-triggerOpen"),y(b.window.document.body).off("."+o.__namespace+"-triggerOpen"),(t=o._$origin.data("tooltipster-ns"))&&(1===t.length?(i=null,"previous"==o.__options.restoration?i=o._$origin.data("tooltipster-initialTitle"):"current"==o.__options.restoration&&(i="string"==typeof o.__Content?o.__Content:y("<div></div>").append(o.__Content).html()),i&&o._$origin.attr("title",i),o._$origin.removeClass("tooltipstered"),o._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(t=y.grep(t,function(t,i){return t!==o.__namespace}),o._$origin.data("tooltipster-ns",t))),o._trigger("destroyed"),o._off(),o.off(),o.__Content=null,o.__$emitterPrivate=null,o.__$emitterPublic=null,o.__options.parent=null,o._$origin=null,o._$tooltip=null,y.tooltipster.__instancesLatestArr=y.grep(y.tooltipster.__instancesLatestArr,function(t,i){return o!==t}),clearInterval(o.__garbageCollector)),o},disable:function(){return this.__destroyed?this.__destroyError():(this._close(),this.__enabled=!1),this},elementOrigin:function(){if(!this.__destroyed)return this._$origin[0];this.__destroyError()},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed?this.__destroyError():this._open(null,t),this},option:function(t,i){return void 0===i?this.__options[t]:(this.__destroyed?this.__destroyError():(this.__options[t]=i,this.__optionsFormat(),0<=y.inArray(t,["trigger","triggerClose","triggerOpen"])&&this.__prepareOrigin(),"selfDestruction"===t&&this.__prepareGC()),this)},reposition:function(t,i){var o=this;return o.__destroyed?o.__destroyError():"closed"!=o.__state&&l(o._$origin)&&(i||l(o._$tooltip))&&(i||o._$tooltip.detach(),o.__Geometry=o.__geometry(),o._trigger({type:"reposition",event:t,helper:{geo:o.__Geometry}})),o},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},y.fn.tooltipster=function(){var o,n,t,i,e,s,r=Array.prototype.slice.apply(arguments),_="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";return 0===this.length?this:"string"==typeof r[0]?(o="#*$~&",this.each(function(){var t=y(this).data("tooltipster-ns"),t=t?y(this).data(t[0]):null;if(!t)throw new Error("You called Tooltipster's \""+r[0]+'" method on an uninitialized element');if("function"!=typeof t[r[0]])throw new Error('Unknown method "'+r[0]+'"');1<this.length&&"content"==r[0]&&(r[1]instanceof y||"object"==typeof r[1]&&null!=r[1]&&r[1].tagName)&&!t.__options.contentCloning&&t.__options.debug&&console.log(_);var i=t[r[0]](r[1],r[2]);if(i!==t||"instance"===r[0])return o=i,!1}),"#*$~&"!==o?o:this):(y.tooltipster.__instancesLatestArr=[],t=r[0]&&void 0!==r[0].multiple,n=t&&r[0].multiple||!t&&a.multiple,t=(t=r[0]&&void 0!==r[0].content)&&r[0].content||!t&&a.content,i=(i=r[0]&&void 0!==r[0].contentCloning)&&r[0].contentCloning||!i&&a.contentCloning,e=r[0]&&void 0!==r[0].debug,s=e&&r[0].debug||!e&&a.debug,1<this.length&&(t instanceof y||"object"==typeof t&&null!=t&&t.tagName)&&!i&&s&&console.log(_),this.each(function(){var t=!1,i=y(this),o=i.data("tooltipster-ns"),e=null;!o||n?t=!0:s&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)),t&&(e=new y.Tooltipster(this,r[0]),(o=o||[]).push(e.__namespace),i.data("tooltipster-ns",o),i.data(e.__namespace,e),e.__options.functionInit&&e.__options.functionInit.call(e,e,{origin:this}),e._trigger("init")),y.tooltipster.__instancesLatestArr.push(e)}),this)},i.prototype={__init:function(t){this.__$tooltip=t,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=y('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo(b.window.document.body)},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,i){return this.constraints={width:t,height:i},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t,i,o,e=this.__$tooltip[0].getBoundingClientRect(),n={size:{height:e.height||e.bottom-e.top,width:e.width||e.right-e.left}};return this.constraints&&(t=this.__$tooltip.find(".tooltipster-content"),o=this.__$tooltip.outerHeight(),i=t[0].getBoundingClientRect(),o={height:o<=this.constraints.height,width:e.width<=this.constraints.width&&i.width>=t[0].scrollWidth-1},n.fits=o.height&&o.width),b.IE&&b.IE<=11&&n.size.width!==b.window.document.documentElement.clientWidth&&(n.size.width=Math.ceil(n.size.width)+1),n}};var o=navigator.userAgent.toLowerCase();-1!=o.indexOf("msie")?b.IE=parseInt(o.split("msie")[1]):-1!==o.toLowerCase().indexOf("trident")&&-1!==o.indexOf(" rv:11")?b.IE=11:-1!=o.toLowerCase().indexOf("edge/")&&(b.IE=parseInt(o.toLowerCase().split("edge/")[1]));var e="tooltipster.sideTip";return y.tooltipster._plugin({name:e,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var i=this;i.__instance=t,i.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),i.__previousState="closed",i.__options,i.__optionsFormat(),i.__instance._on("state."+i.__namespace,function(t){"closed"==t.state?i.__close():"appearing"==t.state&&"closed"==i.__previousState&&i.__create(),i.__previousState=t.state}),i.__instance._on("options."+i.__namespace,function(){i.__optionsFormat()}),i.__instance._on("reposition."+i.__namespace,function(t){i.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof y&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var t=y('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||t.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&t.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&t.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=t,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var t=this;t.__options=t.__instance._optionsExtract(e,t.__defaults()),t.__options.position&&(t.__options.side=t.__options.position),"object"!=typeof t.__options.distance&&(t.__options.distance=[t.__options.distance]),t.__options.distance.length<4&&(void 0===t.__options.distance[1]&&(t.__options.distance[1]=t.__options.distance[0]),void 0===t.__options.distance[2]&&(t.__options.distance[2]=t.__options.distance[0]),void 0===t.__options.distance[3])&&(t.__options.distance[3]=t.__options.distance[1]),t.__options.distance={top:t.__options.distance[0],right:t.__options.distance[1],bottom:t.__options.distance[2],left:t.__options.distance[3]},"string"==typeof t.__options.side&&(t.__options.side=[t.__options.side,{top:"bottom",right:"left",bottom:"top",left:"right"}[t.__options.side]],"left"==t.__options.side[0]||"right"==t.__options.side[0]?t.__options.side.push("top","bottom"):t.__options.side.push("right","left")),6===y.tooltipster._env.IE&&!0!==t.__options.arrow&&(t.__options.arrow=!1)},__reposition:function(a,l){var i,p=this,c=p.__targetFind(l),h=[],o=(p.__instance._$tooltip.detach(),p.__instance._$tooltip.clone()),d=y.tooltipster._getRuler(o),u=!1,t=p.__instance.option("animation");switch(t&&o.removeClass("tooltipster-"+t),y.each(["window","document"],function(t,n){var s=null;if(p.__instance._trigger({container:n,helper:l,satisfied:u,takeTest:function(t){s=t},results:h,type:"positionTest"}),1==s||0!=s&&0==u&&("window"!=n||p.__options.viewportAware))for(t=0;t<p.__options.side.length;t++){var r={horizontal:0,vertical:0},_=p.__options.side[t];"top"==_||"bottom"==_?r.vertical=p.__options.distance[_]:r.horizontal=p.__options.distance[_],p.__sideChange(o,_),y.each(["natural","constrained"],function(t,i){if(s=null,p.__instance._trigger({container:n,event:a,helper:l,mode:i,results:h,satisfied:u,side:_,takeTest:function(t){s=t},type:"positionTest"}),1==s||0!=s&&0==u){var o={container:n,distance:r,fits:null,mode:i,outerSize:null,side:_,size:null,target:c[_],whole:null},e=("natural"==i?d.free():d.constrain(l.geo.available[n][_].width-r.horizontal,l.geo.available[n][_].height-r.vertical)).measure();if(o.size=e.size,o.outerSize={height:e.size.height+r.vertical,width:e.size.width+r.horizontal},"natural"==i?l.geo.available[n][_].width>=o.outerSize.width&&l.geo.available[n][_].height>=o.outerSize.height?o.fits=!0:o.fits=!1:o.fits=e.fits,"window"==n&&(o.whole=!!o.fits&&("top"==_||"bottom"==_?l.geo.origin.windowOffset.right>=p.__options.minIntersection&&l.geo.window.size.width-l.geo.origin.windowOffset.left>=p.__options.minIntersection:l.geo.origin.windowOffset.bottom>=p.__options.minIntersection&&l.geo.window.size.height-l.geo.origin.windowOffset.top>=p.__options.minIntersection)),h.push(o),o.whole)u=!0;else if("natural"==o.mode&&(o.fits||o.size.width<=l.geo.available[n][_].width))return!1}})}}),p.__instance._trigger({edit:function(t){h=t},event:a,helper:l,results:h,type:"positionTested"}),h.sort(function(t,i){var o,e;return t.whole&&!i.whole?-1:!t.whole&&i.whole?1:t.whole&&i.whole?(o=p.__options.side.indexOf(t.side))<(e=p.__options.side.indexOf(i.side))||!(e<o)&&"natural"==t.mode?-1:1:t.fits&&!i.fits?-1:!t.fits&&i.fits?1:t.fits&&i.fits?(o=p.__options.side.indexOf(t.side))<(e=p.__options.side.indexOf(i.side))||!(e<o)&&"natural"==t.mode?-1:1:"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),(i=h[0]).coord={},i.side){case"left":case"right":i.coord.top=Math.floor(i.target-i.size.height/2);break;case"bottom":case"top":i.coord.left=Math.floor(i.target-i.size.width/2)}switch(i.side){case"left":i.coord.left=l.geo.origin.windowOffset.left-i.outerSize.width;break;case"right":i.coord.left=l.geo.origin.windowOffset.right+i.distance.horizontal;break;case"top":i.coord.top=l.geo.origin.windowOffset.top-i.outerSize.height;break;case"bottom":i.coord.top=l.geo.origin.windowOffset.bottom+i.distance.vertical}"window"==i.container?"top"==i.side||"bottom"==i.side?i.coord.left<0?0<=l.geo.origin.windowOffset.right-this.__options.minIntersection?i.coord.left=0:i.coord.left=l.geo.origin.windowOffset.right-this.__options.minIntersection-1:i.coord.left>l.geo.window.size.width-i.size.width&&(l.geo.origin.windowOffset.left+this.__options.minIntersection<=l.geo.window.size.width?i.coord.left=l.geo.window.size.width-i.size.width:i.coord.left=l.geo.origin.windowOffset.left+this.__options.minIntersection+1-i.size.width):i.coord.top<0?0<=l.geo.origin.windowOffset.bottom-this.__options.minIntersection?i.coord.top=0:i.coord.top=l.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:i.coord.top>l.geo.window.size.height-i.size.height&&(l.geo.origin.windowOffset.top+this.__options.minIntersection<=l.geo.window.size.height?i.coord.top=l.geo.window.size.height-i.size.height:i.coord.top=l.geo.origin.windowOffset.top+this.__options.minIntersection+1-i.size.height):(i.coord.left>l.geo.window.size.width-i.size.width&&(i.coord.left=l.geo.window.size.width-i.size.width),i.coord.left<0&&(i.coord.left=0)),p.__sideChange(o,i.side),l.tooltipClone=o[0],l.tooltipParent=p.__instance.option("parent").parent[0],l.mode=i.mode,l.whole=i.whole,l.origin=p.__instance._$origin[0],l.tooltip=p.__instance._$tooltip[0],delete i.container,delete i.fits,delete i.mode,delete i.outerSize,delete i.whole,i.distance=i.distance.horizontal||i.distance.vertical;var e,t=y.extend(!0,{},i);p.__instance._trigger({edit:function(t){i=t},event:a,helper:l,position:t,type:"position"}),p.__options.functionPosition&&(t=p.__options.functionPosition.call(p,p.__instance,l,t))&&(i=t),d.destroy(),t="top"==i.side||"bottom"==i.side?(e={prop:"left",val:i.target-i.coord.left},i.size.width-this.__options.minIntersection):(e={prop:"top",val:i.target-i.coord.top},i.size.height-this.__options.minIntersection),e.val<this.__options.minIntersection?e.val=this.__options.minIntersection:e.val>t&&(e.val=t),t=l.geo.origin.fixedLineage?l.geo.origin.windowOffset:{left:l.geo.origin.windowOffset.left+l.geo.window.scroll.left,top:l.geo.origin.windowOffset.top+l.geo.window.scroll.top},i.coord={left:t.left+(i.coord.left-l.geo.origin.windowOffset.left),top:t.top+(i.coord.top-l.geo.origin.windowOffset.top)},p.__sideChange(p.__instance._$tooltip,i.side),l.geo.origin.fixedLineage?p.__instance._$tooltip.css("position","fixed"):p.__instance._$tooltip.css("position",""),p.__instance._$tooltip.css({left:i.coord.left,top:i.coord.top,height:i.size.height,width:i.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(e.prop,e.val),p.__instance._$tooltip.appendTo(p.__instance.option("parent")),p.__instance._trigger({type:"repositioned",event:a,position:i})},__sideChange:function(t,i){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+i)},__targetFind:function(t){var i={},o=this.__instance._$origin[0].getClientRects();return 1<o.length&&1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),o=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1)),o.length<2?(i.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),i.bottom=i.top,i.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),i.right=i.left):(t=o[0],i.top=Math.floor(t.left+(t.right-t.left)/2),t=2<o.length?o[Math.ceil(o.length/2)-1]:o[0],i.right=Math.floor(t.top+(t.bottom-t.top)/2),t=o[o.length-1],i.bottom=Math.floor(t.left+(t.right-t.left)/2),t=2<o.length?o[Math.ceil((o.length+1)/2)-1]:o[o.length-1],i.left=Math.floor(t.top+(t.bottom-t.top)/2)),i}}}),y});
var wps_js={};wps_js.global="undefined"!=typeof wps_global?wps_global:[],wps_js._=function(s){return s in this.global.i18n?this.global.i18n[s]:""},wps_js.is_active=function(s){return 1===wps_js.global.options[s]};
wps_js.ajax_queue={key:"wp-statistics",time:400},wps_js.ajaxQ=function(a,t,s,o,e="GET",p=!0){!1!==a&&"metabox"!==a||(a=wps_js.global.meta_box_api),t.wps_nonce=wps_js.global.rest_api_nonce;e={url:a,type:e,dataType:"json",crossDomain:!0,cache:!1,data:t,success:function(e){a===wps_js.global.meta_box_api&&!0===p?(e.no_data?jQuery(wps_js.meta_box_inner(t.name)).empty().html(wps_js.no_meta_box_data()):(jQuery(wps_js.meta_box_inner(t.name)).empty().html(wps_js[s].view(e)),wps_js[s].meta_box_init&&setTimeout(function(){wps_js[s].meta_box_init(e)},150)),!wps_js.is_active("overview_page")&&"index.php"!==wps_js.global.page.file||wps_js.meta_box_footer(t.name,e)):wps_js[s](e)},error:function(e,s,_){a===wps_js.global.meta_box_api&&!0===p?jQuery(wps_js.meta_box_inner(t.name)).empty().html(wps_js[o](e.responseText)):wps_js[o](e.responseText)}};a===wps_js.global.meta_box_api&&(e.beforeSend=function(e){e.setRequestHeader("Access-Control-Allow-Origin","*")}),jQuery.ajaxq(wps_js.ajax_queue.key,e)};
wps_js.placeholder=function(s=!1){return`
<div class="wps-ph-item">
    <div class="wps-ph-col-12">
        ${wps_js.placeholder_content("picture")}
        ${wps_js.placeholder_content("line")}
    </div>
    `+(!1!==s?s:"")+`
</div>
`},wps_js.line_placeholder=function(p=1){let i='<div class="wps-ph-item">';for(let s=0;s<p;s++)i+=`
                <div class="wps-ph-col-12">
                   <div class="wps-ph-row">
                    <div class="wps-ph-col-6 big"></div>
                    <div class="wps-ph-col-4 empty big"></div>
                    <div class="wps-ph-col-4"></div>
                    <div class="wps-ph-col-8 empty"></div>
                    <div class="wps-ph-col-6"></div>
                    <div class="wps-ph-col-6 empty"></div>
                    <div class="wps-ph-col-12"></div>
                     </div>
                </div>
            `;return i+="</div>"},wps_js.rectangle_placeholder=function(s=""){return`
<div class="wps-ph-item`+(0<s.length?" "+s:"")+`">
    <div class="wps-ph-col-12">
        ${wps_js.placeholder_content("picture")}
    </div>
</div>
`},wps_js.placeholder_content=function(s="line"){let p="";switch(s){case"picture":p='<div class="wps-ph-picture"></div>';break;case"line":p=`<div class="wps-ph-row">
                    <div class="wps-ph-col-6 big"></div>
                    <div class="wps-ph-col-4 empty big"></div>
                    <div class="wps-ph-col-2 big"></div>
                    <div class="wps-ph-col-4"></div>
                    <div class="wps-ph-col-8 empty"></div>
                    <div class="wps-ph-col-6"></div>
                    <div class="wps-ph-col-6 empty"></div>
                    <div class="wps-ph-col-12"></div>
                     </div>`;break;case"circle":p=`<div class="wps-ph-col-2"></div>
                    <div class="wps-ph-col-8">
                        <div class="wps-ph-avatar"></div>
                    </div>`}return p};
wps_js.exist_tag=function(e){return jQuery(e).length},wps_js.loading_button=function(e){e.classList.add("wps-loading-button")},wps_js.date_picker=function(){var e=jQuery("input[data-wps-date-picker]");e.length&&(e.daterangepicker({singleDatePicker:!0,showDropdowns:!0,minYear:1998,drops:"up",opens:document.getElementById("TB_window")?"center":"right",maxYear:parseInt((new Date).getFullYear()+1),locale:{format:"YYYY-MM-DD"}}),e.on("show.daterangepicker",function(e,t){t=t.container;jQuery(t).addClass(e.target.className)}))},wps_js.formatNumber=function(e,t=0){if(null===e)return null;if(e=parseFloat(e.toString().trim().replace(/[, ]/g,"")),isNaN(e))return null;if(0===e)return"0";t=!t||t<0?0:t;var s=parseInt(e).toPrecision(2).split("e"),s=1===s.length?0:Math.floor(Math.min(s[1].slice(1),14)/3),e=s<1?e.toFixed(0+t):(e/Math.pow(10,3*s)).toFixed(1+t);return(e<0?e:Math.abs(e))+["","K","M","B","T"][s]},wps_js.select2=function(){jQuery("select[data-type-show=select2]").select2()};let wpsSelect2=jQuery(".wps-select2"),wpsBody=jQuery("body"),wpsDropdown=jQuery(".wps-dropdown");if(wpsSelect2.length){let e=jQuery(".wps-filter-page"),t=jQuery(".wps-filter-visitor"),n=wpsBody.hasClass("rtl")?"rtl":"ltr",s=e.length?e:t,o=(e,s)=>{wpsSelect2.select2({dropdownParent:e,dir:n,dropdownAutoWidth:!0,dropdownCssClass:"wps-select2-filter-dropdown",minimumInputLength:1,ajax:{delay:500,url:wps_js.global.ajax_url,dataType:"json",data:function(e){var t,e={wps_nonce:wps_js.global.rest_api_nonce,search:e.term,action:s,paged:e.page||1};return wps_js.isset(wps_js.global,"request_params")&&((t=wps_js.global.request_params).author_id&&(e.author_id=t.author_id),t.page&&(e.page=t.page),t.pt&&(e.post_type=t.pt),t.pid)&&(e.post_id=t.pid),e},processResults:function(e){return e&&Array.isArray(e.results)?{results:e.results.map(e=>({id:e.id,text:e.text})),pagination:{more:!1}}:(console.error("Expected an array of results but got:",e),{results:[]})},error:function(e,t,s){console.error("AJAX request error:",t,s)}}})};wpsSelect2.select2({dropdownParent:s,dir:n,dropdownAutoWidth:!0,dropdownCssClass:"wps-select2-filter-dropdown"}),wpsSelect2.on("select2:open",()=>wpsDropdown.addClass("active")),wpsSelect2.on("select2:close",()=>wpsDropdown.removeClass("active")),wpsSelect2.on("change",function(){var e=jQuery(this).find("option:selected").val();e&&(window.location.href=e)}),e.length&&(o(e,"wp_statistics_get_page_filter_items"),e.on("click",()=>wpsSelect2.select2("open"))),t.length&&(o(t,"wp_statistics_search_visitors"),t.on("click",()=>wpsSelect2.select2("open")))}wps_js.tooltip=function(){jQuery(".wps-tooltip").tooltipster({theme:"tooltipster-shadow",contentCloning:!0}),jQuery("body").on("mouseenter touchstart",".wps-tooltip:not(.tooltipstered)",function(){$(this).tooltipster({theme:"tooltipster-shadow"}).tooltipster("open")})},wps_js.tooltip(),wps_js.redirect=function(e){window.location.replace(e)},wps_js.horizontal_bar=function(e,s,n,o){e=document.getElementById(e);if(e){var t=e.parentNode,r=e.nextSibling,a=(t.removeChild(e),n.reduce((e,t)=>e+t,0)),i=document.createElement("div");i.classList.add("wps-horizontal-bar");for(let t=0;t<n.length;t++){var l=a?n[t]/a*100:0;let e=l%1==0?l.toFixed(0):l.toFixed(1);e.endsWith(".0")&&(e=e.slice(0,-2));var d=document.createElement("div"),p=(d.classList.add("wps-horizontal-bar__item"),document.createElement("div")),c=(p.classList.add("wps-horizontal-bar__label-image-container"),o&&o[t]&&"undefined"!==o[t]&&((c=document.createElement("img")).src=o[t],c.alt=s[t],c.classList.add("wps-horizontal-bar__image"),p.appendChild(c)),document.createElement("div")),p=(c.innerHTML=s[t],c.setAttribute("title",s[t]),c.classList.add("wps-horizontal-bar__label"),p.appendChild(c),d.appendChild(p),document.createElement("div")),u=(p.classList.add("wps-horizontal-bar__data-percent-container"),document.createElement("div")),u=(u.innerHTML=`<span>${wps_js.formatNumber(n[t])}</span><span>${e}%</span>`,u.classList.add("wps-horizontal-bar__data"),p.appendChild(u),d.appendChild(p),document.createElement("div"));u.classList.add("wps-horizontal-bar__background"),u.style.width=l+"%",d.appendChild(u),i.appendChild(d)}r?t.insertBefore(i,r):t.appendChild(i)}},window.renderHorizontalBar=(e,t,s,n)=>{wps_js.horizontal_bar(e,t,s,n)},wps_js.chart_id=function(e){return"wp-statistics-"+e+"-meta-box-chart"},wps_js.wordpress_postbox_ajax=function(e="enable"){var t=jQuery(".postbox .hndle, .postbox .handlediv");"enable"===e?t.on("click",window.postboxes.handle_click):t.off("click",window.postboxes.handle_click)},wps_js.isset=function(t){var s=Array.prototype.slice.call(arguments,1);for(let e=0;e<s.length;e++){if(!t||!t.hasOwnProperty(s[e]))return!1;t=t[s[e]]}return!0},wps_js.number_format=function(e,t,s,n){var o;if(null!=e&&isFinite(e))return t||(t=1<(o=e.toString().split(".").length)?o:0),s=s||".",n=n||",",(o=(e=(e=parseFloat(e).toFixed(t)).replace(".",s)).split(s))[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,n),o.join(s);throw new TypeError("number is not valid")},wps_js.set_equal_height=function(e,t){var s=jQuery(e).height(),n=jQuery(t).height();let o=t,r=s;s<n&&(o=e,r=n),jQuery(o).css("height",r+"px")},wps_js.Create_Half_PostBox=function(e,t){return`<div class="postbox-container wps-postbox-half ${e}"><div class="metabox-holder"><div class="meta-box-sortables"> <div class="postbox" id="${t}"> <div class="inside"></div></div></div></div></div>`},wps_js.isIP=function(e){var t="(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]?|0)";return new RegExp(`^${t}\\.${t}\\.${t}\\.${t}$`).test(e)},wps_js.getLinkParams=function(e,t=!1){t=(t=t||window.location.href).match(new RegExp("(?:[?&]"+e+"=)([^&]+)"));return t?t[1]:null},wps_js.sum=function(e){return e.reduce(function(e,t){return e+t},0)},wps_js.no_results=function(){return'<div class="o-wrap o-wrap--no-data wps-center">'+wps_js._("no_result")+"</div>"},jQuery(document).ready(function(){var e=document.querySelectorAll(".wps-head-filters__item"),t=(e.forEach(function(s){s.classList.remove("loading"),s.addEventListener("click",function(e){var t=s.querySelector(".dropdown-content");t&&!e.target.classList.contains("disabled")&&t.classList.toggle("show")})}),jQuery(".wps-search-dropdown"));t.on("click",function(e){e.stopPropagation()}),t.on("input",function(){let e=jQuery(this).val().toLowerCase();jQuery(this).parent().find(".dropdown-item").each(function(){-1<(jQuery(this).text()||jQuery(this).innerText).toLowerCase().indexOf(e)?jQuery(this).show():jQuery(this).hide()})}),window.addEventListener("click",function(s){e.forEach(function(e){var t=e.querySelector(".dropdown-content");t&&!e.contains(s.target)&&t.classList.remove("show")})})}),jQuery(document).ready(function(){var e=document.querySelector(".wp-header-end"),t=document.querySelector(".notice.notice-warning.update-nag");e&&t&&e.parentNode.insertBefore(t,e.nextSibling)}),window.renderFormatNum=function(e){return wps_js.formatNumber(e)};
wps_js.hex_to_rgba=function(e,t){e=(e=4===(e="string"!=typeof e||"#"!==e[0]||7!==e.length&&4!==e.length?"#3288D7":e).length?"#"+e[1].repeat(2)+e[2].repeat(2)+e[3].repeat(2):e).replace("#","");var a=parseInt(e.substring(0,2),16),o=parseInt(e.substring(2,4),16),e=parseInt(e.substring(4,6),16);return wps_js.rgba_to_hex(a,o,e,t)},wps_js.rgba_to_hex=function(e,t,a,o){return"#"+e.toString(16).padStart(2,"0")+t.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+Math.round(255*o).toString(16).padStart(2,"0")};let wpsBuildTicks=e=>{var t,a;e.getTicks().length>e.options.ticks.maxTicksLimit?(a=e.max-e.min,t=e.options.ticks.maxTicksLimit||1e3,a=Math.ceil(a/t),e.options.ticks.stepSize=Math.max(1,a)):(!e.options.ticks.stepSize||e.options.ticks.stepSize<1)&&(e.options.ticks.stepSize=1)},chartColors={total:"#27A765",views:"#7362BF",visitors:"#3288D7","user-visitors":"#3288D7","anonymous-visitors":"#7362BF",published:"#8AC3D0","published-contents":"#8AC3D0","published-products":"#8AC3D0","published-pages":"#8AC3D0","published-posts":"#8AC3D0",posts:"#8AC3D0",downloads:"#3288D7",clicks:"#3288D7",Other1:"#3288D7",Other2:"#7362BF",Other3:"#8AC3D0"},chartTensionValues=[.1,.3,.5,.7],getOrCreateTooltip=e=>{let t=e.canvas.parentNode.querySelector("div");var a;return t||((t=document.createElement("div")).classList.add("wps-chart-tooltip"),t.style.opacity=1,t.style.pointerEvents="none",t.style.position="absolute",t.style.transition="all .1s ease",(a=document.createElement("table")).style.margin="0px",t.appendChild(a),e.canvas.parentNode.appendChild(t)),t},externalTooltipHandler=(wps_js.setTooltipPosition=function(e,t,a){var{offsetLeft:t,offsetTop:o,clientWidth:r,clientHeight:s}=t.canvas,{caretX:a,caretY:i}=a,l=e.offsetWidth,n=e.offsetHeight,d=16;let c=t+a+d,p=o+i-n/2;(c=c+l+d>t+r?t+a-l-d:c)<t+d&&(c=t+d),(p=p<o+d?o+d:p)+n+d>o+s&&(p=o+s-n-d),e.style.opacity=1,e.style.left=c+"px",e.style.top=p+"px"},(e,l,n,d,c,p)=>{let{chart:h,tooltip:t}=e,u=h.options.plugins.tooltip.unitTime;e=getOrCreateTooltip(h);if(0===t.opacity)e.style.opacity=0;else if(t.body){var a=t.title||[];let r=t.dataPoints[0].dataIndex,s=h.data.datasets,i="<div>";a.forEach(e=>{var t,a,o;"day"===u?({date:t,day:a}=(l.data||l).labels[r],o=wps_js.isset(wps_js.global,"options","wp_date_format")?wps_js.global.options.wp_date_format:"MM/DD/YYYY",o=phpToMomentFormat(o),i+=`<div class="chart-title">${moment(t).format(o)} (${a})</div>`):"month"===u?i+=`<div class="chart-title">${c[r]}</div>`:i+=`<div class="chart-title">${n[r]}</div>`}),s.forEach((t,a)=>{var a=h.getDatasetMeta(a),o=t.label.includes("(Previous)"),o=(a.hidden||o||(a=t.data[r],i+=`
                <div class="current-data">
                    <div>
                        <span class="current-data__color" style="background-color: ${t.hoverPointBackgroundColor};"></span>
                        ${t.label}
                    </div>
                    <span class="current-data__value">${a.toLocaleString()}</span>
                </div>`),s.find(e=>e.label===t.label+" (Previous)"));if(o){var a=h.getDatasetMeta(s.indexOf(o)),e=document.querySelector(".wps-postbox-chart--previousPeriod"),e=e&&e.classList.contains("wps-line-through");if(!a.hidden&&!e){a=o.data[r]||0;let e=null;void 0===(e=("day"!==u&&"month"===u?p:d)[r])&&(e="N/A"),i+=`
                    <div class="previous-data">
                        <div>
                            <span class="previous-data__colors">
                                <span class="previous-data__color" style="background-color: ${t.hoverPointBackgroundColor};"></span>
                                <span class="previous-data__color" style="background-color: ${t.hoverPointBackgroundColor};"></span>
                            </span>
                            ${e}
                        </div>
                        <span class="previous-data__value"> ${a.toLocaleString()}</span>
                    </div>`}}}),i+="</div>",e.innerHTML=i,wps_js.setTooltipPosition(e,h,t)}}),drawVerticalLinePlugin={id:"drawVerticalLine",beforeDatasetDraw(e){var{ctx:e,scales:{},tooltip:t,chartArea:{top:a,bottom:o}}=e;t&&t._active&&t._active.length&&(t=t._active[0].element.x,e.beginPath(),e.strokeStyle="#A9AAAE",e.lineWidth=1,e.setLineDash([6,6]),e.moveTo(t,a),e.lineTo(t,o),e.stroke(),e.setLineDash([]))}},phpToMomentFormat=e=>{let t={d:"DD",j:"D",S:"Do",n:"M",m:"MM",F:"MMM",M:"MMM",y:"YY",Y:"YYYY"};return e.replace(/([a-zA-Z])/g,e=>t[e]||e)},formatDateRange=(e,t,a,o,r)=>{var s=o.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,"");return"month"===a?(a=o.replace(/D+/g,"").replace(/\/\//g,"/").replace(/^\//,"").replace(/\/$/,"").replace(/\s*,/,"").replace(/-$/,"").trim(),moment(e).format(a)):moment(e).year()===moment(t).year()?moment(e).format(s)+" to "+moment(t).format(o):moment(e).format(o)+" to "+moment(t).format(o)},setMonthDateRange=(e,t,a)=>{var o=a.replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,"");return moment(e).year()===moment(t).year()?moment(e).format(o)+" to "+moment(t).format(a):moment(e).format(a)+" to "+moment(t).format(a)},aggregateData=(l,n,d,c,p)=>{if(!(l&&l.length&&n&&n.length))return console.error("Invalid input: labels or datasets are empty."),{aggregatedLabels:[],aggregatedData:n?n.map(()=>[]):[],monthTooltipTitle:[]};let a=[],t=moment();if("day"===d)return l.forEach(e=>{e=moment(e.date);a.push(e.isSameOrAfter(t,"day"))}),{aggregatedLabels:l.map(e=>e.formatted_date),aggregatedData:n.map(e=>e.data),monthTooltipTitle:[],isIncompletePeriod:a};let h=[],u=n.map(()=>[]),m=[],g={};if("week"===d){wps_js._("start_of_week")&&moment.updateLocale("en",{week:{dow:parseInt(wps_js._("start_of_week"))}});var e=moment(l[0].date),o=moment(l[l.length-1].date);let r=[],t=e.clone();for(;t.isSameOrBefore(o);){var s=t.clone().startOf("week").add(1,"week");let e=s.clone().subtract(1,"day");e.isAfter(o)&&(e=o.clone()),r.push({start:t.clone(),end:e,key:t.format("YYYY-[W]WW"),data:new Array(n.length).fill(0)}),t=s}l.forEach((e,o)=>{if(e.date){var t=moment(e.date);for(let a of r)if(t.isBetween(a.start,a.end,"day","[]")){n.forEach((e,t)=>{a.data[t]+=e.data[o]||0});break}}}),r.forEach(e=>{var t=formatDateRange(e.start,e.end,d,c,p);h.push(t),m.push(setMonthDateRange(e.start,e.end,c)),e.data.forEach((e,t)=>{u[t]||(u[t]=[]),u[t].push(e)})}),r.forEach(e=>{e=e.end.isSameOrAfter(moment(),"day");a.push(e)})}else if("month"===d){for(var e=moment(l[0].date),r=moment(l[l.length-1].date),i=e.clone();i.isSameOrBefore(r,"month");){var v=i.format("YYYY-MM");g[v]||(g[v]={startDate:i.clone().startOf("month"),endDate:i.clone().endOf("month"),indices:[]}),i.add(1,"month")}l.forEach((e,t)=>{e.date&&(e=moment(e.date).format("YYYY-MM"),g[e])&&g[e].indices.push(t)}),Object.keys(g).forEach(e=>{let{startDate:t,endDate:a,indices:o}=g[e];var r,s=moment.max(t,moment(l[0].date)),i=moment.min(a,moment(l[l.length-1].date));s.isValid()&&i.isValid()?0<o.length&&(r=formatDateRange(s,i,d,c,p),h.push(r),n.forEach((a,e)=>{var t=o.reduce((e,t)=>e+(a.data[t]||0),0);u[e].push(t)}),m.push(setMonthDateRange(s,i,c))):console.error("Invalid date range for monthKey "+e)}),Object.keys(g).forEach(e=>{e=g[e].endDate.isSameOrAfter(moment(),"day");a.push(e)})}return{aggregatedLabels:h,aggregatedData:u,monthTooltipTitle:m,isIncompletePeriod:a}},sortTotal=e=>{e.sort((e,t)=>"total"===e.slug?-1:"total"===t.slug?1:"total-previous"===e.slug?-1:"total-previous"===t.slug?1:0)},updateLegend=(c,p,e,h)=>{e=document.getElementById(e);let u=e.parentElement.parentElement.querySelector(".wps-postbox-chart--items");if(u){u.innerHTML="";let d=e.parentElement.parentElement.querySelector(".wps-postbox-chart--previousPeriod");d&&p.some(e=>e.label.includes("(Previous)"))&&(d.style.display="flex",d.style.cursor="pointer",d._clickHandler&&d.removeEventListener("click",d._clickHandler),d._clickHandler=function(e){e.stopPropagation();let a=d.classList.contains("wps-line-through");d.classList.toggle("wps-line-through"),p.forEach((e,t)=>{e.label.includes("(Previous)")&&(c.getDatasetMeta(t).hidden=!a)}),u.querySelectorAll(".previous-data").forEach(e=>{a?e.classList.remove("wps-line-through"):e.classList.add("wps-line-through")}),c.update()},d.addEventListener("click",d._clickHandler)),p.forEach((r,s)=>{if(!r.label.includes("(Previous)")){var i=r.data.reduce((e,t)=>Number(e)+Number(t),0);let e=null,a=null;0<h?.previousData?.datasets.length&&(l=h.previousData.datasets.find((e,t)=>e.label===r.label&&(a=t,!0)))&&l.data&&(e=l.data.reduce((e,t)=>Number(e)+Number(t),0));var l=document.createElement("div"),n=(l.className="wps-postbox-chart--item",null!==e?`
                <div class="previous-data">
                    <span>
                        <span class="wps-postbox-chart--item--color" style="border-color: ${r.borderColor}"></span>
                        <span class="wps-postbox-chart--item--color" style="border-color: ${r.borderColor}"></span>
                    </span>
                    ${e.toLocaleString()}
                </div>`:"");l.innerHTML=`
                <span>${r.label}</span>
                <div>
                    <div class="current-data">
                        <span class="wps-postbox-chart--item--color" style="border-color: ${r.borderColor}"></span>
                        ${i.toLocaleString()}
                    </div>
                    ${n}
                </div>`;let t=l.querySelector(".current-data"),o=(t.addEventListener("click",function(){var e=c.getDatasetMeta(s);e.hidden=!e.hidden,t.classList.toggle("wps-line-through"),c.update()}),l.querySelector(".previous-data"));o&&null!==a&&o.addEventListener("click",function(){var e=c.data.datasets.find((e,t)=>e.label===p[s].label+" (Previous)"&&c.getDatasetMeta(t));e&&(e=c.data.datasets.indexOf(e),(e=c.getDatasetMeta(e)).hidden=!e.hidden,o.classList.toggle("wps-line-through"),e=u.querySelectorAll(".previous-data"),e=Array.from(e).every(e=>e.classList.contains("wps-line-through")),d&&(e?d.classList.add("wps-line-through"):d.classList.remove("wps-line-through")),c.update())}),u.appendChild(l)}})}},deepCopy=e=>JSON.parse(JSON.stringify(e)),chartInstances={},getDisplayTextForUnitTime=(e,t)=>{t=document.querySelector("#"+t).closest(".o-wrap").querySelector(".js-unitTimeSelect");if(t){t=t.querySelector(`.wps-unit-time-chart__option[data-value="${e}"]`);if(t)return t.textContent.trim()}return e};wps_js.new_line_chart=function(l,n,e=null,d="line"){sortTotal(l.data.datasets);let c=deepCopy(l);var t=wps_js.isset(wps_js.global,"options","wp_date_format")?wps_js.global.options.wp_date_format:"MM/DD/YYYY",t=phpToMomentFormat(t);let p=null!==document.getElementById(n).closest("#dashboard-widgets");var a=l.data.labels.map(e=>e.formatted_date).length;let o=a<=("performance"===d?30:60)?"day":a<=180?"week":"month",s=[];var a=1===l.data.labels.length,r=document.querySelector("#"+n).closest(".o-wrap").querySelector(".js-unitTimeSelect");r&&((C=r.querySelector(".wps-unit-time-chart__selected-item"))&&(C.textContent=getDisplayTextForUnitTime(o,n)),r.querySelectorAll(".wps-unit-time-chart__option").forEach(e=>{e.getAttribute("data-value")===o?e.classList.add("selected"):e.classList.remove("selected")}));let h=aggregateData(c.data.labels,c.data.datasets,"day",t,p),u=aggregateData(c.data.labels,c.data.datasets,"week",t,p),m=aggregateData(c.data.labels,c.data.datasets,"month",t,p),g=c?.previousData?aggregateData(c.previousData.labels,c.previousData.datasets,"day",t,p):null,v=c.previousData?aggregateData(c.previousData.labels,c.previousData.datasets,"week",t,p):null,f=c.previousData?aggregateData(c.previousData.labels,c.previousData.datasets,"month",t,p):null,y=("day"==o?h:"week"==o?u:m).aggregatedLabels,b=("day"==o?h:"week"==o?u:m).monthTooltipTitle,w="day"==o?g?g.monthTooltipTitle:[]:"week"==o?v?v.monthTooltipTitle:[]:f?f.monthTooltipTitle:[],k=[],i=[];if(v)for(k=v.aggregatedLabels,i=v.aggregatedData;k.length<y.length;)k.push("N/A"),i.forEach(e=>e.push(0));else k=Array(y.length).fill("N/A"),s&&0<s.length&&Array.isArray(s)&&(i=s.map(()=>Array(y.length).fill(0)));function _(e){var t=getDisplayTextForUnitTime(e,n),a=document.getElementById(n).parentElement.parentElement.querySelector(".wps-postbox-chart--data")?.querySelector(".wps-postbox-chart--previousPeriod"),a=(a&&a.classList.remove("wps-line-through"),document.querySelector("#"+n).closest(".o-wrap").querySelector(".js-unitTimeSelect"));a&&(a=a.querySelector(".wps-unit-time-chart__selected-item"))&&(a.textContent=t);let o,r;switch(e){case"day":o=h,r=g;break;case"week":o=u,r=v;break;case"month":o=m,r=f;break;default:o=h,r=g}y=o.aggregatedLabels,b=o.monthTooltipTitle,k=r?r.aggregatedLabels:[],w=r?r.monthTooltipTitle:[],0===k.length&&0<y.length&&(k=Array(y.length).fill("N/A"));let s=l.data.datasets.map((e,t)=>{var a=e.type||("performance"===d&&2===t?"bar":"line");return{...e,type:a,data:o.aggregatedData[t],borderColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],backgroundColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],fill:!1,yAxisID:"bar"===a?"y1":"y",borderWidth:"line"===a?2:void 0,pointRadius:"line"===a?1===y.length?5:0:void 0,pointBorderColor:"line"===a?"transparent":void 0,pointBackgroundColor:"line"===a?chartColors[l.data.datasets[t].slug]||chartColors["Other"+t]:void 0,pointBorderWidth:"line"===a?2:void 0,hoverPointRadius:"line"===a?6:void 0,hoverPointBorderColor:"line"===a?"#fff":void 0,hoverPointBackgroundColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],hoverPointBorderWidth:"line"===a?4:void 0,tension:"line"===a?chartTensionValues[t%chartTensionValues.length]:void 0,hitRadius:10,meta:{incompletePeriods:o.isIncompletePeriod||[]},segment:"line"===a?{borderDash:e=>{var t=e.chart.data.datasets[e.datasetIndex]?.meta?.incompletePeriods||[];if(t[e.p1DataIndex]||t[e.p0DataIndex])return[5,5]}}:void 0}});r&&l.previousData.datasets.forEach((e,t)=>{s.push({...e,type:"line",label:e.label+" (Previous)",data:r.aggregatedData[t],borderColor:wps_js.hex_to_rgba(chartColors[e.slug]||chartColors["Other"+t],.7),hoverBorderColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],backgroundColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],fill:!1,yAxisID:"y",borderWidth:1,borderDash:[5,5],pointRadius:1===o.aggregatedLabels.length?5:0,pointBorderColor:"transparent",pointBackgroundColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],pointBorderWidth:2,hoverPointRadius:6,hoverPointBorderColor:"#fff",hoverPointBackgroundColor:chartColors[l.data.datasets[t].slug]||chartColors["Other"+t],hoverPointBorderWidth:4,tension:chartTensionValues[t%chartTensionValues.length],hitRadius:10})});var a=s.filter(e=>"y"===e.yAxisID).flatMap(e=>e.data).filter(e=>"number"==typeof e&&!isNaN(e)),t=s.filter(e=>"y1"===e.yAxisID).flatMap(e=>e.data).filter(e=>"number"==typeof e&&!isNaN(e)),a=0<a.length?Math.max(...a):0,t=0<t.length?Math.max(...t):0,i=p?4:7,a=0<a?Math.ceil(a/i):1,i=0<t?Math.ceil(t/7):1;D.options.scales.y.ticks.stepSize=Math.max(1,a),D.options.scales.y1&&(D.options.scales.y1.ticks.stepSize=Math.max(1,i)),D.data.labels=y,D.options.scales.x.offset=1===D.data.labels.length,D.data.datasets=s,D.options.scales.x.ticks.maxTicksLimit=p?"week"===e?2:4:"week"===e?3:"month"===e?7:9,D.options.plugins.tooltip.unitTime=e,D.options.plugins.tooltip.external=e=>externalTooltipHandler(e,c,y,k,b,w),updateLegend(D,s,n,l),D.update()}var C=document.getElementById(n).getContext("2d"),r=(Object.keys(l.data.datasets).forEach((e,t)=>{var a=chartColors[l.data.datasets[e].slug]||chartColors["Other"+(t+1)],o=chartTensionValues[t%chartTensionValues.length];let r="line";t={type:r="performance"===d&&2===t?"bar":r,label:l.data.datasets[e].label,data:l.data.datasets[e].data,backgroundColor:a,hoverBackgroundColor:a,hoverPointBackgroundColor:a,yAxisID:"bar"===r?"y1":"y"};"line"===r&&(t.borderColor=a,t.fill=!1,t.borderWidth=2,t.pointRadius=0,t.pointBorderColor="transparent",t.pointBackgroundColor=a,t.pointBorderWidth=2,t.hoverPointRadius=6,t.hoverPointBorderColor="#fff",t.hoverPointBorderWidth=4,t.tension=o,t.hitRadius=10),s.push(t)}),l?.previousData&&Object.keys(l.previousData.datasets).forEach((e,t)=>{var a=chartColors[l.previousData.datasets[e].slug]||chartColors["Other"+t],t=chartTensionValues[t%chartTensionValues.length];s.push({type:"line",label:l.previousData.datasets[e].label+" (Previous)",data:l.previousData.datasets[e].data,borderColor:wps_js.hex_to_rgba(a,.7),hoverBorderColor:a,backgroundColor:a,fill:!1,yAxisID:"y",borderWidth:1,borderDash:[5,5],pointRadius:0,pointBorderColor:"transparent",pointBackgroundColor:a,pointBorderWidth:2,hoverPointRadius:6,hoverPointBorderColor:"#fff",hoverPointBackgroundColor:a,hoverPointBorderWidth:4,tension:t,hitRadius:10})}),{maintainAspectRatio:!1,resizeDelay:200,animation:{duration:0},responsive:!0,interaction:{intersect:!1,mode:"index"},plugins:{legend:!1,tooltip:{enabled:!1,external:e=>externalTooltipHandler(e,c,y,k,b,w),unitTime:o}},scales:{x:{offset:a,grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0},ticks:{align:"inner",autoSkip:!0,maxTicksLimit:p?"week"==o?2:4:"week"==o?3:"month"==o?7:9,font:{color:"#898A8E",style:"italic",weight:"lighter",size:p?"week"==o?9:11:"week"==o?11:13},padding:8}},y:{min:0,suggestedMax:4,ticks:{autoSkip:!0,maxTicksLimit:p?4:7,fontColor:"#898A8E",fontSize:13,fontStyle:"italic",fontWeight:"lighter",padding:8,lineHeight:15,callback:renderFormatNum},afterBuildTicks:wpsBuildTicks,border:{color:"transparent",width:0},type:"linear",position:"right",grid:{display:!0,tickMarkLength:0,drawBorder:!1,tickColor:"#EEEFF1",color:"#EEEFF1"},gridLines:{drawTicks:!1},title:{display:!1}}}});"performance"===d&&2<l.data.datasets.length&&(r.scales.y1={type:"linear",position:"left",border:{color:"transparent",width:0},grid:{display:!1,drawBorder:!1,tickLength:0},ticks:{autoSkip:!0,maxTicksLimit:7,fontColor:"#898A8E",fontSize:13,fontStyle:"italic",fontFamily:'"Roboto",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',fontWeight:"lighter",padding:8,lineHeight:15,callback:renderFormatNum},afterBuildTicks:wpsBuildTicks,title:{display:!0,text:wps_js._("published")+" Posts",color:"#898A8E",fontSize:13}},r.scales.y={border:{color:"transparent",width:0},ticks:{autoSkip:!0,maxTicksLimit:9,fontColor:"#898A8E",fontSize:13,fontStyle:"italic",fontFamily:'"Roboto",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif',fontWeight:"lighter",padding:8,lineHeight:15,callback:renderFormatNum},position:"right",grid:{display:!0,borderDash:[5,5],tickColor:"#EEEFF1",color:"#EEEFF1"},title:{display:!0,text:wps_js._("visits"),color:"#898A8E",fontSize:13}});let D=new Chart(C,{type:"performance"===d&&2<l.data.datasets.length?"bar":"line",data:{labels:[],datasets:[]},plugins:[drawVerticalLinePlugin],options:Object.assign({},r,e)});return _(o),chartInstances[n]={chart:D,updateChart:_},chartInstances[n]},document.body.addEventListener("click",function(t){let a=t.target.closest(".wps-unit-time-chart__selected-item");var o=t.target.closest(".wps-unit-time-chart__option");if(a)o||(document.querySelectorAll(".js-unitTimeSelect.open").forEach(e=>{e!==a&&e.parentElement.classList.remove("open")}),a.parentElement.classList.toggle("open")),t.stopImmediatePropagation();else if(o){let e=o.closest(".js-unitTimeSelect");var r,s=o.getAttribute("data-value");e&&((r=e.querySelector(".wps-unit-time-chart__selected-item"))&&(r.textContent=o.textContent.trim()),e.querySelectorAll(".wps-unit-time-chart__option").forEach(e=>e.classList.remove("selected")),o.classList.add("selected"),e.classList.remove("open"),r=e.closest(".o-wrap").querySelector(".wps-postbox-chart--container").querySelector("canvas").getAttribute("id"),chartInstances[r])&&chartInstances[r].updateChart(s),t.stopImmediatePropagation()}else document.querySelectorAll(".js-unitTimeSelect.open").forEach(e=>{e.classList.remove("open")})}),window.renderWPSLineChart=function(e,t,a){var o,r;document.getElementById(e)&&(o=jQuery("#"+e).parent(),r=wps_js.rectangle_placeholder(),o.append(r),t?.data?.datasets&&0!==t.data.datasets.length?(wps_js.new_line_chart(t,e,a),jQuery(".wps-ph-item").remove(),jQuery(".wps-postbox-chart--data").removeClass("c-chart__wps-skeleton--legend"),o.removeClass("c-chart__wps-skeleton")):(o.html(wps_js.no_results()),jQuery(".wps-ph-item").remove()))};
function FilterGenerator(e){if(this.container=document.querySelector(e),!this.container)throw new Error(`Container ${e} not found`)}FilterGenerator.prototype.elementExists=function(e){return!!this.container.querySelector(`[name="${e}"]`)},FilterGenerator.prototype.ensureFooterExists=function(){let e=this.container.querySelector(".wps-filter-footer");return e||((e=document.createElement("div")).classList.add("wps-filter-footer"),this.container.appendChild(e)),e},FilterGenerator.prototype.createWrapper=function(e,t=!1){var r=document.createElement("div");return t?r.classList.add(e):r.classList.add("wps-filter-item","wps-filter-"+e),r},FilterGenerator.prototype.createLabel=function(e){var t=document.createElement("span");return t.className="wps-filter-label",t.textContent=e,t},FilterGenerator.prototype.createSelect=function({name:e,label:t,classes:r="",attributes:a={},placeholder:n=""},o=null){if(this.elementExists(e))return null;let l=null;o&&(l=a["data-type"],this.container=document.querySelector(`#wps-filter-${l} .wps-dropdown`));var s,i,c=this.createWrapper(e),t=this.createLabel(t),p=document.createElement("select");p.name=e,p.className=r;for([s,i]of Object.entries(a))p.setAttribute(s,i);return c.appendChild(t),c.appendChild(p),(o||a["data-searchable"])&&(r=p.getAttribute("data-default"),this.createOptions(p,{},n,r)),this.container.appendChild(c),this.enableSearchableSelect(p,e,a,o,l),"undefined"==typeof jQuery||!jQuery.fn.select2||o||a["data-searchable"]||jQuery(p).select2({width:"100%"}),p},FilterGenerator.prototype.enableSearchableSelect=function(n,o,l,s,i){if(l["data-searchable"]&&"undefined"!=typeof jQuery&&jQuery.fn.select2){let r=o,e=(r=l["data-type"]||"",l["data-source"]&&(r=l["data-source"]),{}),a=(s&&(e={dropdownParent:jQuery("#wps-filter-"+i),dropdownAutoWidth:!0,dropdownCssClass:"wps-select2-filter-dropdown"}),window.location.search),t=jQuery(n).select2({ajax:{delay:500,url:wps_js.global.ajax_url,dataType:"json",data:function(e){var t,e={wps_nonce:wps_js.global.rest_api_nonce,search:e.term,source:r,action:"wp_statistics_search_filter",paged:e.page||1,queryString:a};return wps_js.isset(wps_js.global,"request_params")&&((t=wps_js.global.request_params).page&&(e.page=t.page),t.author_id&&(e.author_id=t.author_id),t.pt&&(e.post_type=t.pt),t.pt)&&(e.post_id=t.pid),e},processResults:function(e){return{results:e.map(e=>({id:e.id,text:e.text}))}},error:function(e,t,r){console.error("AJAX request error:",t,r)}},minimumInputLength:1,allowClear:!0,placeholder:wps_js._("all"),...e});s&&(t.on("select2:open",()=>jQuery(`#wps-filter-${i} .wps-dropdown`).addClass("active")),t.on("select2:close",()=>jQuery(`#wps-filter-${i} .wps-dropdown`).removeClass("active")),jQuery("#wps-filter-"+i).on("click",()=>t.select2("open")),t.on("change",function(){var e=jQuery("#wps-filter-"+i).find("option:selected").val();e&&(window.location.href=e)}))}},FilterGenerator.prototype.createOptions=function(r,e=[],a=null,t=null){if(!(r instanceof HTMLSelectElement))throw new Error("Invalid <select> element provided.");var n;a&&((n=document.createElement("option")).value=t||"",n.textContent=a,n.selected=!0,r.appendChild(n)),0<e.length&&e.forEach(e=>{var t=document.createElement("option");t.value=e.value||"",t.textContent=e.label||"",null!==a&&e.value===a&&(t.selected=!0),r.appendChild(t)}),"undefined"!=typeof jQuery&&jQuery.fn.select2&&0<e.length&&jQuery(r).select2({width:"100%"})},FilterGenerator.prototype.createInput=function({name:e,label:t,type:r="text",classes:a="",placeholder:n="",attributes:o={}}){if(this.elementExists(e))return null;var l,s,i=this.createWrapper(e),t=this.createLabel(t),c=document.createElement("input");c.name=e,c.type=r,c.className=a,c.placeholder=n;for([l,s]of Object.entries(o))c.setAttribute(l,s);i.appendChild(t),i.appendChild(c),this.container.appendChild(i)},FilterGenerator.prototype.createButton=function({name:e,label:t,classes:r="",onClick:a,attributes:n={}}){var o="button-"+e.replace(/\s+/g,"-").toLowerCase();if(!this.container.querySelector("#"+o)){var l,s,e=this.createWrapper(e),i=document.createElement("button");i.textContent=t,i.className=r,i.id=o;for([l,s]of Object.entries(n))i.setAttribute(l,s);"function"==typeof a&&i.addEventListener("click",a),e.appendChild(i),this.ensureFooterExists().appendChild(e)}},FilterGenerator.prototype.createDropdown=function(l,s){if(l&&l.containerSelector){var i=document.querySelector(l.containerSelector);if(i){let{baseUrl:e,selectedOption:a,lockCustomPostTypes:n,args:t}=s,r=wps_js._("all"),o=(l.attributes.hasOwnProperty("data-default")&&(r=l.attributes["data-default"]),`
        <div class="wps-dropdown">
            <label class="selectedItemLabel">${l.label||"Post Type"}: </label>
            <button type="button" class="dropbtn">
                <span>${a?this.getFilterName(s,r):r}</span>
            </button>
            <div class="dropdown-content"><div class="dropdown-scroll">
    `);l.searchable&&(o+='<input type="text" class="wps-search-dropdown">'),!l.selected&&r&&(o+=`<a href="${e}" data-index="0" class="${a?"":"selected"}">${r}</a>`),t&&t.forEach((e,t)=>{var r=[];a===e.slug&&r.push("selected"),n&&"post"!==e.slug&&"page"!==e.slug&&r.push("disabled"),o+=e.premium?`
                <a data-target="wp-statistics-data-plus" title="${e.name}" 
                   class="js-wps-openPremiumModal ${r.join(" ")}">
                    ${e.name}
                </a>`:`
                <a href="${e.url}" data-index="${t}" title="${e.name}" class="${r.join(" ")}">
                    ${e.name}
                </a>`}),o+="</div></div></div>",i.innerHTML=o,l.searchable&&this.enableSearchableDropdown()}else console.warn(`Container ${l.containerSelector} not found.`)}else console.warn("Invalid filter configuration provided for dropdown.")},FilterGenerator.prototype.getFilterName=function(e,t){let{selectedOption:r,args:a}=e;e=a.find(e=>e.slug===r);return e?e.name:t},FilterGenerator.prototype.enableSearchableDropdown=function(){document.querySelectorAll(".wps-search-dropdown").forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation()}),e.addEventListener("input",function(){let r=this.value.toLowerCase();this.parentElement.querySelectorAll("a").forEach(e=>{var t=e.textContent.toLowerCase();e.style.display=t.includes(r)?"block":"none"})})})};
function FilterModal(e){this.settings={modalSelector:"#wps-modal-filter",formSelector:"#wp_statistics_visitors_filter_form",resetSelector:".wps-modal-reset-filter",filterWrapperSelector:".wps-modal-filter-form",filterContainerSelector:".filter-select, .filter-input",width:430,height:510,onSubmit:null,onOpen:null,onLoadFilter:null,fields:{},...e},this.formSelector=this.settings.formSelector,this.memoryCache=null,this.filterWrapperSelector=this.settings.filterWrapperSelector,this.filterContainerSelector=this.settings.filterContainerSelector,this.onlySearchableFields=!1,this.fieldTypes=Object.fromEntries(Object.entries(this.settings.fields).map(([e,t])=>t.name&&"page"!==t.name?[t.name,{type:t.type,key:e}]:null).filter(Boolean)),this.fieldTypes=Object.keys(this.fieldTypes),this.initModal()}FilterModal.prototype.initModal=function(){var e,t,i=document.querySelector("#wps-modal-filter-popup");i||((i=document.createElement("div")).id="wps-modal-filter-popup",i.style.display="none",i.setAttribute("dir",document.documentElement.dir||"ltr"),(e=document.createElement("form")).id=this.settings.formSelector.replace("#",""),e.method="get",e.action=wps_js.global.admin_url+"admin.php",(t=document.createElement("div")).id=this.settings.filterWrapperSelector.replace("#",""),t.className="wps-modal-filter-form",e.appendChild(t),i.appendChild(e),document.body.appendChild(i)),this.init()},FilterModal.prototype.bindOnLoadFilter=function(){jQuery(document).ready(()=>{"function"==typeof this.settings.onLoadFilter?this.settings.onLoadFilter(this.filterWrapperSelector):this.generateFields()})},FilterModal.prototype.init=function(){jQuery(document).on("click",this.settings.modalSelector,this.onFilterButtonClick.bind(this)),jQuery(document).on("submit",this.settings.formSelector,this.onFormSubmit.bind(this)),jQuery(document).on("click",this.settings.resetSelector,this.onResetFilterClick.bind(this)),this.bindOnLoadFilter(),jQuery(document).on("tb_unload",()=>{this.cleanup()})},FilterModal.prototype.initializeSelect2Elements=function(e){e.each((e,t)=>{let i=jQuery(t),s=i.attr("name");let l=s?"agent"===(t=s.toLowerCase())?"browser":"platform"===t?"operating-system":"location"===t?"flags":null:null,r=i=>new Promise(e=>{var t=new Image;t.onload=()=>e(!0),t.onerror=()=>e(!1),t.src=i}),n=async e=>{var t,i;return e&&l?(t=`${wps_js.global.assets_url}/images/${l}/`+e,i=wps_js.global.assets_url+"/images/flags/000.svg","all"===e?i:(e=t+".svg",await r(e)?e:(e=t+".png",await r(e)?e:i))):wps_js.global.assets_url+"/images/flags/000.svg"},a=()=>{i.hasClass("select2-hidden-accessible")&&i.select2("destroy");var e={escapeMarkup:function(e){return e},templateResult:function(e){if(!e.id||e.loading)return e.text;var t=e.id.toLowerCase().replace(/ /g,"_");let i=jQuery(`
                        <span class="wps-modal-filter-icon">
                            <img src="${wps_js.global.assets_url}/images/flags/000.svg" alt="${e.text}"/>
                            ${e.text}
                        </span>
                    `);return n(t).then(e=>{i.find("img").attr("src",e)}),i},templateSelection:function(e){if(!e.id)return e.text;var t=e.id.toLowerCase().replace(/ /g,"_");let i=jQuery(`
                        <span class="wps-modal-filter-icon">
                            <img src="${wps_js.global.assets_url}/images/flags/000.svg" alt="${e.text}"/>
                            ${e.text}
                        </span>
                    `);return n(t).then(e=>{i.find("img").attr("src",e)}),i}};l?i.select2(e):i.select2(),i.find("option").length;i.trigger("change")};if(l)if(0<i.find("option").length)a(),i.data("select2Initialized",!0),i.data("select2Cleanup",()=>{i.hasClass("select2-hidden-accessible")&&i.select2("destroy"),i.removeData("select2Initialized")});else{let t=new MutationObserver(e=>{0<i.find("option").length&&(a(),i.data("select2Initialized",!0),t.disconnect())});t.observe(i[0],{childList:!0,subtree:!0}),i.data("observer",t)}})},FilterModal.prototype.cleanup=function(){jQuery(this.filterContainerSelector).filter("select").each((e,t)=>{var t=jQuery(t),i=t.data("select2Cleanup"),s=t.data("observer");i&&(i(),t.removeData("select2Cleanup")),s&&(s.disconnect(),t.removeData("observer"))})},FilterModal.prototype.onFilterButtonClick=function(t){if(t.preventDefault(),this.cleanup(),tb_show(wps_js._("filters"),`#TB_inline?&width=${this.settings.width}&height=${this.settings.height}&inlineId=wps-modal-filter-popup`),"function"==typeof this.settings.onOpen)this.settings.onOpen(),this.generateFields(),setTimeout(()=>{this.setSelectedValues()},300);else{let e=jQuery(this.filterWrapperSelector).find(".filter-select");t=new Spinner({container:this.filterWrapperSelector});this.memoryCache?this.populateVisitorsFilters(this.memoryCache,e):this.fetchFilters(t,e),setTimeout(()=>{this.setSelectedValues(),this.initializeSelect2Elements(e)},300)}},FilterModal.prototype.setSelectedValues=function(){jQuery(this.filterContainerSelector).each((e,t)=>{let i=jQuery(t);t=i.attr("name");let s=wps_js.getLinkParams(t);null!==s&&(i.is("select")?setTimeout(()=>{var e=s.replace(/[\+ ]/g," ");this.selectOptionWhenAvailable.bind(this)(i,e)},100):i.is("input")&&i.val(decodeURIComponent(s)))}),this.toggleResetButton(),"function"==typeof this.settings.onDataLoad&&this.settings.onDataLoad()},FilterModal.prototype.selectOptionWhenAvailable=function(t,i,s=20,e=200){let l=0,r=setInterval(()=>{var e=t.find(`option[value="${CSS.escape(i)}"]`);0<e.length&&(e.prop("selected",!0).trigger("change"),clearInterval(r)),++l>=s&&clearInterval(r)},e)},FilterModal.prototype.populateVisitorsFilters=function(s,e){let l=new FilterGenerator(this.filterWrapperSelector),r=this;e.each(function(){var e=jQuery(this),t=e.attr("data-type");let i=s[t];i&&(e.empty(),t=r.settings.fields[t].placeholder,l.createOptions(e[0],Object.keys(i).map(e=>({value:e,label:i[e]})),t))}),this.initializeSelect2Elements(e)},FilterModal.prototype.fetchFilters=function(e,i){if(!this.onlySearchableFields){e.show();let t=this;var s=window.location.search,s={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_get_filters",filters:Object.keys(t.settings.fields).filter(e=>"pageName"!==e&&!t.settings.fields[e]?.attributes?.["data-searchable"]),queryString:s},s=Object.assign(s,wps_js.global.request_params);jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:s,timeout:3e4,success:function(e){e&&(t.memoryCache=e,t.populateVisitorsFilters(e,i))},error:function(){jQuery("span.tb-close-icon").click()},complete:function(){e.hide()}})}},FilterModal.prototype.generateFields=function(){let t=new FilterGenerator(this.filterWrapperSelector);var e=Object.values(this.settings.fields).filter(e=>"hidden"!==e.type&&"button"!==e.type);this.onlySearchableFields=e.every(e=>!0===e?.attributes?.["data-searchable"]),Object.entries(this.settings.fields).forEach(e=>{switch(e[1].type){case"select":t.createSelect(e[1]);break;case"hidden":case"text":t.createInput(e[1]);break;case"button":t.createButton(e[1]);break;default:console.warn("Unsupported field type: "+e[1].type)}})},FilterModal.prototype.onFormSubmit=function(e){if(this.setLoading(),"function"!=typeof this.settings.onSubmit){let t=jQuery(e.target);Object.entries(this.settings.fields).forEach(([,e])=>{"button"!==(e?.type||"")&&""===(e=t.find(`*[name="${e.name}"]`)).val()?.trim()&&e.prop("disabled",!0)});var i=wps_js.getLinkParams("order");return i&&t.append('<input type="hidden" name="order" value="'+i+'">'),!0}this.settings.onSubmit(e)},FilterModal.prototype.onResetFilterClick=function(e){if(e.preventDefault(),this.setLoading("reset"),"function"==typeof this.settings.onReset)this.settings.onReset();else{let t=new URL(window.location.href);this.fieldTypes.forEach(e=>{t.searchParams.delete(e)}),window.location.href=t.toString(),this.toggleResetButton()}},FilterModal.prototype.toggleResetButton=function(){var e=jQuery(this.settings.resetSelector);if(e.length){let t=new URLSearchParams(window.location.search);this.fieldTypes.some(e=>t.has(e)&&""!==t.get(e).trim())?e.removeAttr("disabled"):e.attr("disabled","disabled")}},FilterModal.prototype.setLoading=function(e="submit"){("reset"===e?jQuery(this.formSelector+" .wps-modal-reset-filter"):jQuery(this.formSelector+" .button-primary")).html(wps_js._("loading")).addClass("loading")};
function FilterPanel(e){this.settings={fields:{},...e},this.sourceCache={},this.memoryCache=null,this.predefinedCache={},this.init()}FilterPanel.prototype.init=function(){this.settings.fields&&0!==Object.keys(this.settings.fields).length?setTimeout(()=>{this.createContainers(),this.fetchFilterOptions()},0):console.warn("No filters available for the panel.")},FilterPanel.prototype.createContainers=function(){Object.entries(this.settings.fields).forEach(([e,t])=>{var i,r=t?.attributes||{},s=r["data-type"],n=r["data-source"],r=r["data-searchable"],a=t?.predefined||!1;s?(s="wps-filter-"+s,(i=document.querySelector("#"+s))&&(i.classList.add("loading"),t.containerSelector="#"+s,a&&!this.predefinedCache[n]&&(i=t.containerSelector,this.predefinedCache[n]={...a,containerSelector:i}),!n||this.sourceCache[n]||r||a||(this.sourceCache[n]=!0))):console.warn(`Skipping filter ${e} - Missing data-type.`)})},FilterPanel.prototype.fetchFilterOptions=function(){if(this.memoryCache)this.renderFilters(this.memoryCache);else{let t=this,e=0<Object.keys(this.predefinedCache).length;var i;e?(this.renderFilters(this.predefinedCache),this.removeLoadingState(this.predefinedCache)):(i=window.location.search,i={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_get_filters",filters:Object.keys(this.sourceCache),queryString:i},i=Object.assign(i,wps_js.global.request_params),jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:i,timeout:3e4,success:function(e){e&&(t.memoryCache=e,this.renderFilters(e))}.bind(this),error:function(){console.error("Error fetching filter data.")},complete:function(){this.removeLoadingState()}.bind(this)}))}},FilterPanel.prototype.renderFilters=function(a){Object.entries(this.settings.fields).forEach(function([,e]){var t=e?.attributes||{},i=t["data-type"],t=t["data-source"],r=e.containerSelector;if(i&&r){var s=a[t]||{},n=new FilterGenerator(r);switch(e.type){case"select":n.createSelect(e,"dropdown-content");break;case"dropdown":n.createDropdown(e,s)}}}),FilterPanel.prototype.removeLoadingState=function(e=this.settings.fields){Object.values(e).forEach(function(e){e.containerSelector&&(e=document.querySelector(e.containerSelector))&&e.classList.remove("loading")})}};
jQuery(document).ready(function(){let e=document.querySelectorAll(".wps-admin-header__link--has-dropdown");e.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();e=this.nextElementSibling;e&&(e.classList.toggle("is-open"),n.classList.toggle("is-open"))})}),document.addEventListener("click",function(t){e.forEach(function(e){var n=e.nextElementSibling;!n||e.contains(t.target)||n.contains(t.target)||n.classList.remove("is-open")})});var n=document.querySelector(".wp-header-end"),t=document.querySelector(".notice.notice-warning.update-nag");n&&t&&n.parentNode.insertBefore(t,n.nextSibling)});
let skipButtons=document.querySelectorAll(".js-wps-premiumModalClose"),modal=document.querySelector(".js-wps-premiumModal"),welcomeContent=document.querySelector(".js-wps-premiumModalWelcomeContent"),premiumStepsContent=document.querySelector(".js-wps-premiumModalSteps"),premiumSteps=document.querySelectorAll(".js-wps-premiumModalStep"),premiumWelcomeSteps=document.querySelectorAll(".js-wps-premiumModal-welcome .js-wps-premiumModalStep"),exploreButton=document.querySelector(".js-wps-premiumModalExploreBtn"),premiumFeatures=document.querySelectorAll(".js-wps-premiumStepFeature"),upgradeButtonBox=document.querySelectorAll(".wps-premium-step__action-container"),premiumStepsTitle=document.querySelectorAll(".js-wps-premium-steps__title"),firstStepHeader=document.querySelectorAll(".js-wps-premium-first-step__head"),stepsHeader=document.querySelectorAll(".js-wps-premium-steps__head"),autoSlideInterval,currentStepIndex=1,closeModal=()=>{modal&&(modal.style.display="none",document.body.style.overflow="")},setMaxHeightForAllSteps=()=>{if(0!==premiumSteps.length){let o=0;premiumSteps.forEach(e=>{var t=e.style.display,s=(e.style.display="block",e.style.minHeight="auto",e.getBoundingClientRect().height);o=Math.max(o,s),e.style.display=t}),premiumSteps.forEach(e=>{e.style.minHeight=o+"px"})}},openModal=(window.addEventListener("resize",setMaxHeightForAllSteps),(t,e)=>{modal&&(modal.style.display="block",document.body.style.overflow="hidden");var s=Array.from(premiumFeatures).findIndex(e=>e.getAttribute("data-modal")===t);-1!==s&&(currentStepIndex=s,welcomeContent&&(welcomeContent.style.display="none"),loadModalImages(),showStep(currentStepIndex+1),premiumStepsContent.style.display="block",stopAutoSlide())}),loadModalImages=(document.addEventListener("click",e=>{var t=e.target.closest(".js-wps-openPremiumModal");t&&(e.preventDefault(),e.stopPropagation(),e=t.getAttribute("href"),t=t.getAttribute("data-target"),openModal(t,e))}),0<skipButtons.length&&skipButtons.forEach(e=>{e.addEventListener("click",closeModal)}),premiumSteps.forEach(e=>{e.classList.remove("wps-modal__premium-step--active")}),exploreButton&&exploreButton.addEventListener("click",function(){currentStepIndex=0,loadModalImages(),welcomeContent.style.display="none",premiumStepsContent.style.display="block",showStep(currentStepIndex),startAutoSlide()}),()=>{document.querySelectorAll(".wps-premium-step__image").forEach(e=>{e.src=e.dataset.src})}),showStep=e=>{var t;setTimeout(()=>{setMaxHeightForAllSteps()},100),e<0||e>=premiumSteps.length||(premiumSteps.forEach(e=>e.classList.remove("wps-modal__premium-step--active")),upgradeButtonBox&&0<upgradeButtonBox.length&&(upgradeButtonBox.forEach(e=>{e&&e.classList.remove("active")}),upgradeButtonBox[e-1])&&upgradeButtonBox[e-1].classList.add("active"),premiumStepsTitle&&0<premiumStepsTitle.length&&(premiumStepsTitle.forEach(e=>{e&&e.classList.remove("active")}),premiumStepsTitle[e-1])&&premiumStepsTitle[e-1].classList.add("active"),premiumFeatures.forEach(e=>e.classList.remove("active")),premiumSteps[e].classList.add("wps-modal__premium-step--active"),t=(e,t)=>{e.forEach(e=>{e.style.display=t})},0<e?(t(firstStepHeader,"none"),t(stepsHeader,"block"),premiumFeatures[e-1].classList.add("active")):(t(firstStepHeader,"block"),t(stepsHeader,"none")))},startAutoSlide=()=>{autoSlideInterval=setInterval(()=>{currentStepIndex=(currentStepIndex+1)%premiumWelcomeSteps.length,showStep(currentStepIndex)},5e3)},stopAutoSlide=()=>{clearInterval(autoSlideInterval)};0<premiumFeatures.length&&premiumFeatures.forEach((e,t)=>{e.addEventListener("click",function(){stopAutoSlide(),currentStepIndex=t+1,showStep(currentStepIndex)})});class ModalHandler{constructor(){this.init()}init(){document.addEventListener("click",e=>{var t=e.target.closest('[class*="js-openModal-"]'),t=(t&&(t=this.extractModalIdFromClass(t.classList))&&this.openModal(t),e.target.closest("button[data-action]"));t&&(e=t.getAttribute("data-action"))&&(t=t.closest(".wps-modal"),this.handleModalAction(t,e))}),this.attachOpenEvent(),this.attachCloseEvent()}attachOpenEvent(){document.addEventListener("click",e=>{var e=e.target.closest('[class*="js-openModal-"]');e&&(e=this.extractModalIdFromClass(e.classList))&&this.openModal(e)})}extractModalIdFromClass(e){for(var t of e)if(t.startsWith("js-openModal-"))return t.replace("js-openModal-","").toLowerCase();return null}openModal(e){var t=document.getElementById(e);t?t.classList.add("wps-modal--open"):console.error(`Modal with ID "${e}" not found.`)}attachCloseEvent(){document.addEventListener("click",e=>{var e=e.target.closest(".wps-modal__close");e&&(e=e.closest(".wps-modal"))&&e.classList.remove("wps-modal--open")})}handleModalAction(e,t){switch(t){case"resolve":break;case"closeModal":this.closeModal(e);break;default:console.warn("Unknown action:",t)}}closeModal(e){e.classList.remove("wps-modal--open")}}new ModalHandler;
jQuery(document).ready(function(){var i=document.querySelectorAll(".js-wps-open-notification");let t=document.querySelector(".wps-notification-sidebar"),e=document.querySelector(".wps-notification-sidebar__overlay"),s=document.body,a=document.querySelectorAll(".wps-notification-sidebar__tab");var n,o=document.querySelector(".wps-notification-sidebar__close");let c=document.querySelectorAll(".wps-notification-sidebar__tab-pane"),r=document.querySelector(".wps-notification-sidebar__dismiss-all"),d=(0<a.length&&0<c.length&&a.forEach(function(t){t.addEventListener("click",function(){a.forEach(function(i){i.classList.remove("wps-notification-sidebar__tab--active")}),c.forEach(function(i){i.classList.remove("wps-notification-sidebar__tab-pane--active")});var i=t.getAttribute("data-tab");t.classList.add("wps-notification-sidebar__tab--active"),document.getElementById(i).classList.add("wps-notification-sidebar__tab-pane--active")})}),0<i.length&&t&&e&&(n=window.innerWidth-document.documentElement.clientWidth,document.documentElement.style.setProperty("--scrollbar-width",n+"px"),i.forEach(function(i){i.addEventListener("click",function(){t.classList.toggle("is-active"),e.classList.toggle("is-active"),setTimeout(()=>{s.classList.toggle("wps-no-scroll")},250)})}),e.addEventListener("click",function(){t.classList.remove("is-active"),e.classList.remove("is-active"),setTimeout(()=>{s.classList.remove("wps-no-scroll")},250)}),o)&&o.addEventListener("click",function(){t.classList.remove("is-active"),e.classList.remove("is-active"),s.classList.remove("wps-no-scroll")}),()=>{var i=document.querySelector(".wps-notification-sidebar__tab--active");i&&("tab-2"===i.dataset.tab?r&&(r.style.display="none"):(i=0<document.querySelectorAll(".wps-notification-sidebar__cards--active .wps-notification-sidebar__card:not(.wps-notification-sidebar__no-card)").length,r&&(r.style.display=i?"inline-flex":"none")))}),l=()=>{var i=jQuery(".wps-notification-sidebar__tab-pane--active .wps-notification-sidebar__card:not(.wps-notification-sidebar__no-card)"),t=jQuery(".wps-notification-sidebar__tab-pane--active .wps-notification-sidebar__no-card"),e=t.first();0===i.length?e.css("display","flex"):e.hide(),1<t.length&&t.last().hide()};a.forEach(i=>{i.addEventListener("click",function(){a.forEach(i=>i.classList.remove("wps-notification-sidebar__tab--active")),this.classList.add("wps-notification-sidebar__tab--active"),d(),l()})}),d(),l(),jQuery(document).on("click","a.wps-notification-sidebar__dismiss, a.wps-notification-sidebar__dismiss-all",function(i){i.preventDefault();var i=jQuery(this);let t="";i.hasClass("wps-notification-sidebar__dismiss")&&(t=i.data("notification-id")),"all"===(t=i.hasClass("wps-notification-sidebar__dismiss-all")?"all":t)?jQuery(".wps-notification-sidebar__cards--active .wps-notification-sidebar__card:not(.wps-notification-sidebar__no-card)").each(function(){var i=jQuery(this);jQuery(".wps-notification-sidebar__cards--dismissed").prepend(i.clone().hide().fadeIn(300)),i.fadeOut(300,function(){jQuery(this).remove(),l()})}):(i=i.closest(".wps-notification-sidebar__card"),jQuery(".wps-notification-sidebar__cards--dismissed").prepend(i.clone().hide().fadeIn(300)),i.fadeOut(300,function(){jQuery(this).remove(),l()})),d(),jQuery(".wps-notification-sidebar__cards--dismissed .wps-notification-sidebar__no-card").remove();i={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_dismiss_notification",notification_id:t};jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:i,timeout:3e4,success:function({data:i,success:t}){t||console.log(i)},error:function(i,t,e){console.log(e)}})}),jQuery(document).on("click","a.wps-notifications--has-items",function(i){i.preventDefault();jQuery(this).removeClass("wps-notifications--has-items");i={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_update_notifications_status"};jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:i,timeout:3e4,success:function({data:i,success:t}){t||console.log(i)},error:function(i,t,e){console.log(e)}})})});
jQuery(document).ready(function(){jQuery(document).on("click","a.wps-option__updater",function(o){o.preventDefault();let e=jQuery(this);var o=e.data("option"),a=e.data("value"),o={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_option_updater",option:o,value:a};e.css("cursor","progress"),jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:o,timeout:3e4,success:function({data:o,success:a}){a?location.reload():(console.log(o),e.css("cursor","default"))},error:function(o,a,t){console.log(t),e.css("cursor","default")}})})});
function Spinner(n){this.container=n.container||"body",this.spinnerElement=null}Spinner.prototype.show=function(){this.spinnerElement||(this.spinnerElement=jQuery('<div class="spinner-overlay"></div>'),jQuery(this.container).append(this.spinnerElement)),this.spinnerElement.show()},Spinner.prototype.hide=function(){this.spinnerElement&&this.spinnerElement.hide()};
let unlockColumnExists=document.querySelector(".wps-admin-column__unlock"),tbodyElement=document.querySelector(".wp-list-table");unlockColumnExists&&tbodyElement&&tbodyElement.classList.add("wps-admin-mini-chart__unlock");
wps_js.sanitize_meta_box_name=function(t){return t.replace(new RegExp("-","g"),"_")},wps_js.get_meta_box_method=function(t){return this.sanitize_meta_box_name(t)+"_meta_box"},wps_js.getMetaBoxKey=function(t){return"wp-statistics-"+t+"-widget"},wps_js.no_meta_box_data=function(){return'<div class="o-wrap o-wrap--no-data">'+wps_js._("no_data")+"</div>"},wps_js.error_meta_box_data=function(e){if(void 0!==e)try{var t=JSON.parse(e);if(wps_js.isset(t,"message"))return'<div class="o-wrap o-wrap--no-data">'+t.message+"</div>"}catch(t){console.log("An unexpected error occurred: ",e,t)}return'<div class="o-wrap o-wrap--no-data">'+wps_js._("rest_connect")+"</div>"},wps_js.get_meta_box_info=function(t){return t in wps_js.global.meta_boxes?wps_js.global.meta_boxes[t]:[]},wps_js.meta_box_lang=function(t,e){return e in wps_js.global.meta_boxes[t].lang?wps_js.global.meta_boxes[t].lang[e]:""},wps_js.meta_box_inner=function(t){return"#"+wps_js.getMetaBoxKey(t)+" div.inside"},wps_js.meta_box_name_by_id=function(t){return t.split("statistics-").pop().split("-widget")[0]},wps_js.meta_box_button=function(t){var e="#"+wps_js.getMetaBoxKey(t)+" .handle-actions button:first";wps_js.get_meta_box_info(t);let s="right";wps_js.is_active("rtl")&&(s="left"),jQuery("#"+wps_js.getMetaBoxKey(t)+" button[class*=wps-refresh]").remove(),jQuery('<button class="handlediv wps-refresh"'+(wps_js.is_active("gutenberg")?` style="z-index: 9999;position: absolute;top: 1px;display:none;right: calc(44px + 3.24rem) !important;height: 44px !important;${s}: 3%;" `:'style="line-height: 28px;"')+' type="button" title="'+wps_js._("reload")+'"></button>').insertBefore(e),wps_js.is_active("gutenberg")&&jQuery("body").addClass("wps-gutenberg"),jQuery("#"+wps_js.getMetaBoxKey(t)+" .hndle, #"+wps_js.getMetaBoxKey(t)+" .handlediv").on("click",function(){jQuery(this).closest(".postbox").addClass("handle")})},wps_js.meta_box_tooltip=function(t){var e,s="#"+wps_js.getMetaBoxKey(t)+" h2.hndle",t=wps_js.get_meta_box_info(t);t.hasOwnProperty("description")&&(jQuery(s).text(),e='<a href="#" class="wps-tooltip" title="'+(t=t.description)+'"><i class="wps-tooltip-icon"></i></a>',t)&&jQuery(s).append(e)},wps_js.run_meta_box=function(e,s=!1,a=!0){if(wps_js.exist_tag("#"+wps_js.getMetaBoxKey(e))&&(wps_js.is_active("gutenberg")||!wps_js.is_active("gutenberg")&&jQuery("#"+wps_js.getMetaBoxKey(e)).is(":visible"))){var o=jQuery(wps_js.meta_box_inner(e)),r=wps_js.get_meta_box_method(e);if(wps_js.meta_box_tooltip(e),r in wps_js){"placeholder"in wps_js[r]?o.html(wps_js[r].placeholder()):o.html(wps_js.placeholder()),!0===a&&wps_js.meta_box_button(e);let t={name:e};!1!==s&&(t=Object.assign(s,t)),"params"in wps_js[r]&&(t=Object.assign(t,wps_js[r].params())),wps_js.ajaxQ("metabox",t,r,"error_meta_box_data")}}},wps_js.prepare_date_filter_data=function(t){var e={ago:""};return t.hasOwnProperty("footer_options")&&(t=t.footer_options.default_date_filter).length&&("filter"==(t=t.split("|"))[0]?e.ago=t[1]:(t=t[1].split(":"),e.ago="",e.from=t[1],e.to=t[2])),e},wps_js.run_meta_boxes=function(t=!1){(t=!1===t?Object.keys(wps_js.global.meta_boxes):t).forEach(function(t){var e=wps_js.global.meta_boxes[t],e=wps_js.prepare_date_filter_data(e);wps_js.run_meta_box(t,e)})},wps_js.meta_box_footer=function(s,e){let a={filter_by_date:!1,default_date_filter:"",display_more_link:!1,more_link_title:""};var o=wps_js.global.meta_boxes[s];o.hasOwnProperty("footer_options")&&Object.assign(a,o.footer_options);let r="",i=(e.hasOwnProperty("filter")?r=e.filter:void 0!==a.default_date_filter&&(r=a.default_date_filter),""),_=(e.hasOwnProperty("filter_start_date")&&(i=e.filter_start_date),""),n=(e.hasOwnProperty("filter_end_date")&&(_=e.filter_end_date),""),l=(e.hasOwnProperty("from")&&(n=e.from),"");if(e.hasOwnProperty("to")&&(l=e.to),a.filter_by_date||a.display_more_link){let t='<div class="c-footer"><div class="c-footer__filter js-widget-filters">';a.filter_by_date&&(t+=`
            <button class="c-footer__filter__btn js-filters-toggle">`+wps_js._("str_"+r)+`</button>
            <div class="c-footer__filters">
                <div class="c-footer__filters__current-filter">
                    <span class="c-footer__current-filter__title js-filter-title">Last 7 days</span>
                    <span class="c-footer__current-filter__date-range hs-filter-range">May 12,2020  -  May 20, 2020</span>
                </div>
                <div class="c-footer__filters__list">
                    <button data-metabox-key="${s}" data-filter="today" class="c-footer__filters__list-item">`+wps_js._("str_today")+`</button>
                    <button data-metabox-key="${s}" data-filter="yesterday" class="c-footer__filters__list-item">`+wps_js._("str_yesterday")+`</button>
                    <button data-metabox-key="${s}" data-filter="this_week" class="c-footer__filters__list-item">`+wps_js._("str_this_week")+`</button>
                    <button data-metabox-key="${s}" data-filter="last_week" class="c-footer__filters__list-item">`+wps_js._("str_last_week")+`</button>
                    <button data-metabox-key="${s}" data-filter="this_month" class="c-footer__filters__list-item">`+wps_js._("str_this_month")+`</button>
                    <button data-metabox-key="${s}" data-filter="last_month" class="c-footer__filters__list-item">`+wps_js._("str_last_month")+`</button>
                    <button class="c-footer__filters__list-item c-footer__filters__list-item--more" onclick="jQuery(this).closest('.c-footer__filters__list').find('.js-more-filters').addClass('is-open')">`+wps_js._("str_more")+`</button>
                    <div class="c-footer__filters__more-filters js-more-filters">
                        <button data-metabox-key="${s}" data-filter="7days" class="c-footer__filters__list-item">`+wps_js._("str_7days")+`</button>
                        <button data-metabox-key="${s}" data-filter="30days" class="c-footer__filters__list-item">`+wps_js._("str_30days")+`</button>
                        <button data-metabox-key="${s}" data-filter="90days" class="c-footer__filters__list-item">`+wps_js._("str_90days")+`</button>
                        <button data-metabox-key="${s}" data-filter="6months" class="c-footer__filters__list-item">`+wps_js._("str_6months")+`</button>
                        <button data-metabox-key="${s}" data-filter="this_year" class="c-footer__filters__list-item">`+wps_js._("str_this_year")+`</button>
                        <button class="c-footer__filters__close-more-filters" onclick="jQuery(this).closest('.js-more-fi' + 'lters').removeClass('is-open')">`+wps_js._("str_back")+`</button>
                    </div>
                    <input type="text" class="c-footer__filters__custom-date-input js-datepicker-input"/>
                    <button data-metabox-key="${s}" data-filter="custom" class="c-footer__filters__list-item c-footer__filters__list-item--custom js-custom-datepicker">`+wps_js._("str_custom")+`</button>
                </div>
            </div>
        `),t+='</div><div class="c-footer__more">',a.display_more_link&&(t+='<a class="c-footer__more__link" href="'+o.page_url+`">${a.more_link_title}<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.4191 7.98577L7.73705 5.22727L8.44415 4.5L12.3333 8.50003L8.44415 12.5L7.73705 11.7727L10.4191 9.01429H4.33325V7.98577H10.4191Z" fill="#56585A"/></svg></a>`),t+="</div></div>",jQuery(wps_js.meta_box_inner(s)).append(t);e=jQuery(wps_js.meta_box_inner(s)).find(".js-datepicker-input").first();e.daterangepicker({autoApply:!0}),e.on("apply.daterangepicker",function(t,e){wps_js.run_meta_box(s,{from:e.startDate.format("YYYY-MM-DD"),to:e.endDate.format("YYYY-MM-DD")})}),jQuery(".js-filters-toggle:not(.is-ready)").on("click",function(){jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox").removeClass("has-focus"),jQuery(this).closest(".js-widget-filters").toggleClass("is-active"),jQuery(this).closest(".postbox").toggleClass("has-focus"),jQuery(this).hasClass("is-active")||jQuery(this)[0].getBoundingClientRect().top<350&&jQuery(this).closest(".js-widget-filters").addClass("is-down")}),jQuery(".js-filters-toggle:not(.is-ready)").addClass("is-ready"),wps_js.set_date_filter_as_selected(s,r,i,_,n,l)}},wps_js.set_date_filter_as_selected=function(t,e="30days",s,a,o,r){var i=jQuery(wps_js.meta_box_inner(t)),_=jQuery(i).find(".c-footer__filter__btn"),n=jQuery(i).find(".c-footer__filters__list"),l=jQuery(i).find(".c-footer__current-filter__title"),i=jQuery(i).find(".c-footer__current-filter__date-range");(e=e||"30days").length&&(n.find("button[data-filter]").removeClass("is-selected"),n.find('button[data-filter="'+e+'"').addClass("is-selected"),_.text(wps_js._("str_"+e)),l.text(wps_js._("str_"+e)),"custom"==e)&&(_.text(s+" - "+a),(n=jQuery(wps_js.meta_box_inner(t)).find(".js-datepicker-input").first()).data("daterangepicker").setStartDate(moment(o).format("MM/DD/YYYY")),n.data("daterangepicker").setEndDate(moment(r).format("MM/DD/YYYY"))),s.length&&a.length&&i.text(s+" - "+a)},jQuery(document).on("click","button[data-filter]:not(.c-footer__filters__list-item--custom)",function(){wps_js.run_meta_box(jQuery(this).attr("data-metabox-key"),{ago:jQuery(this).attr("data-filter")})}),jQuery(document).on("mouseenter mouseleave",".wps-refresh, .wps-more",function(t){"mouseenter"===t.type?wps_js.wordpress_postbox_ajax("disable"):wps_js.wordpress_postbox_ajax("enable")}),jQuery(document).on("click",'input[type=checkbox][id^="wp-statistics-"][id$="-widget-hide"]',function(){var t;jQuery(this).is(":checked")&&(t=jQuery(this).attr("id"),t=wps_js.meta_box_name_by_id(t),wps_js.run_meta_box(t))}),wps_js.btn_group_chart=function(e,t=!1){let s={7:wps_js._("str_week"),30:wps_js._("str_month"),365:wps_js._("str_year")};var a;"ago"==t.type&&(a=parseInt(t.days));let o='<div class="wps-btn-group"><div class="btn-group" role="group">';return Object.keys(s).forEach(function(t){o+='<button type="button" class="btn '+(t==a?"btn-primary":"btn-default")+`" data-chart-time="${e}" data-time="${t}">${s[t]}</button>`}),o=(o=o+('<button type="button" class="btn '+("between"==t.type?"btn-primary":"btn-default")+`" data-custom-date-picker="${e}">${wps_js._("custom")}</button>`)+"</div></div>")+(`
    <div data-chart-date-picker="${e}"`+("ago"==t.type?' style="display:none;"':"")+`>
        <input type="text" size="18" name="date-from" data-wps-date-picker="from" value="${t.from}" placeholder="YYYY-MM-DD" autocomplete="off">
        `+wps_js._("to")+`
        <input type="text" size="18" name="date-to" data-wps-date-picker="to" value="${t.to}" placeholder="YYYY-MM-DD" autocomplete="off">
        <input type="submit" value="`+wps_js._("go")+`" data-between-chart-show="${e}" class="button-primary">
        <input type="hidden" name="" id="date-from" value="${t.from}">
        <input type="hidden" name="" id="date-to" value="${t.to}">
    </div>
    `)},jQuery(document).on("click",".wps-btn-group button",function(){jQuery(".wps-btn-group button").attr("class","btn btn-default"),jQuery(this).attr("class","btn btn-primary")}),jQuery(document).on("click","button[data-custom-date-picker]",function(){jQuery("div[data-chart-date-picker= "+jQuery(this).attr("data-custom-date-picker")+"]").slideDown()}),jQuery(document).on("click","button[data-chart-time]",function(){wps_js.run_meta_box(jQuery(this).attr("data-chart-time"),{ago:jQuery(this).attr("data-time"),"no-data":"no"})}),jQuery(document).on("click","input[data-between-chart-show]",function(){var t=jQuery(this).attr("data-between-chart-show");wps_js.run_meta_box(t,{from:jQuery("div[data-chart-date-picker="+t+"] input[id=date-from]").val(),to:jQuery("div[data-chart-date-picker="+t+"] input[id=date-to]").val(),"no-data":"no"})}),jQuery(document).on("click",function(t){var e;jQuery(t.target).closest(".js-widget-filters").length?(e=t.target.classList).contains("c-footer__filter__btn")&&e.contains("is-active")?(t.target.classList.remove("is-active"),jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus"),setTimeout(function(){jQuery(".js-widget-filters").removeClass("is-down")},500)):e.contains("c-footer__filter__btn")&&!e.contains("is-active")&&t.target.classList.add("is-active"):(jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus"),jQuery(".c-footer__filter__btn.is-active").removeClass("is-active"),setTimeout(function(){jQuery(".js-widget-filters").removeClass("is-down")},500))});let wpsAoutWidget=document.getElementById("wp-statistics-about-widget");!wpsAoutWidget||wpsAoutWidget.querySelector(".js-wps-widget-customization-empty")||wpsAoutWidget.querySelector(".wps-about-widget__premium")||wpsAoutWidget.classList.add("wp-statistics-about-widget__customize");
wps_js.countries_meta_box={view:function(t=[]){let a="";if(t.countries&&0<t.countries.length){a+=`<div class="o-table-wrapper"><table width="100%" class="o-table wps-new-table"><thead>
        <tr>
            <th class="wps-pd-l">${wps_js._("country")}</th>
            <th class="wps-pd-l"><span class="wps-order">${wps_js._("visitor_count")}</span></th>
        </tr></thead><tbody>`;let s=1;return t.countries.forEach(function(t){a+=`<tr>
 			<td class="wps-pd-l"><img src="${t.flag}" title="${t.name}" alt="${t.name}" class="wps-flag wps-flag--first"/> ${t.name}</td>
			<td class="wps-pd-l wps-middle-vertical"><a href="${t.link}" title="${t.name}" target="_blank">${wps_js.number_format(t.number)}</a></td>
			</tr>`,s++}),a+="</tbody></table></div>"}return wps_js.no_meta_box_data()}};
wps_js.horizontal_bar_metabox=function(s,_,t,a,r,e){s&&s.response&&(wps_js.metaBoxInner(_).html(s.response.output),wps_js.horizontal_bar(t,a,r,e),wps_js.initDatePickerHandlers())},wps_js.render_horizontal_bar_data=function(s,_){var t,_=_.replace(/_/g,"-");s.response?.data&&(t=s.response.data,wps_js.horizontal_bar_metabox(s,_,t.tag_id,t.labels,t.data,t.icons))},wps_js.render_wp_statistics_browsers_widget=function(s,_){wps_js.render_horizontal_bar_data(s,_)},wps_js.render_wp_statistics_platforms_widget=function(s,_){wps_js.render_horizontal_bar_data(s,_)},wps_js.render_wp_statistics_devices_widget=function(s,_){wps_js.render_horizontal_bar_data(s,_)},wps_js.render_wp_statistics_models_widget=function(s,_){wps_js.render_horizontal_bar_data(s,_)};
wps_js.render_line_chart=function(t,e){e=e.replace(/_/g,"-");if(t&&t.response){if(wps_js.metaBoxInner(e).html(t.response.output),t.response?.data){t=t.response.data,t={data:t.data,previousData:t.previousData};if("wp-statistics-quickstats-widget"!==e)wps_js.new_line_chart(t,e+"-chart");else{e={scales:{x:{offset:1,grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0},ticks:{align:"inner",autoSkip:!0,maxTicksLimit:3,font:{color:"#AAABAE",weight:"lighter",size:11},padding:8}},y:{min:0,ticks:{font:{color:"#AAABAE",weight:"lighter",size:12},fontColor:"#AAABAE",fontSize:12,fontWeight:"lighter ",padding:8,lineHeight:14.06,stepSize:1,callback:renderFormatNum},border:{color:"transparent",width:0},type:"linear",position:"left",grid:{display:!0,tickMarkLength:0,drawBorder:!1,tickColor:"#EEF1F7",color:"#EEF1F7"},gridLines:{drawTicks:!1},title:{display:!1}}}};let i=wps_js.new_line_chart(t,"wp-statistics-quickstats-widget-chart",e);document.querySelectorAll("#wp-statistics-quickstats-widget .wps-postbox-chart--items:nth-child(2) .wps-postbox-chart--item").forEach((t,e)=>{let s=t.querySelector(".current-data span:first-child");s&&t.addEventListener("click",()=>{var t;s.classList.toggle("wps-line-through"),t=e,(t=i.chart.getDatasetMeta(t)).hidden=!t.hidden,i.chart.update()})})}}wps_js.initDatePickerHandlers()}},wps_js.render_wp_statistics_search_widget=wps_js.render_line_chart,wps_js.render_wp_statistics_hits_widget=wps_js.render_line_chart,wps_js.render_wp_statistics_traffic_summary_widget=wps_js.render_line_chart,wps_js.render_wp_statistics_quickstats_widget=wps_js.render_line_chart;
wps_js.pages_meta_box={view:function(t=[]){let n="";if(t.pages&&0<t.pages.length){n+=`<div class="o-table-wrapper"><table width="100%" class="o-table wps-new-table">
        <thead>
            <tr>
                <th class="wps-pd-l">${wps_js._("title")}</th>
                <th class="wps-pd-l"><span class="wps-order">${wps_js._("views")}</span></th>
                <th></th>
            </tr>
        </thead>
        <tbody> `;wps_js.global.admin_url.replace("/wp-admin/","");let a=1;return t.pages.forEach(function(t){var s=document.getElementById("wp-statistics-pages-widget");let e=wps_js._("view");s&&(s=null!==s.closest("#dashboard-widgets"),e=s||window.innerWidth<=500?wps_js._("view"):wps_js._("view_content")),n+=`<tr>
			<td class="wps-pd-l"><div class="wps-ellipsis-parent" title="${t.title}"><span class="wps-ellipsis-text">${t.title}</span></div></td>
			<td class="wps-pd-l"><a href="${t.hits_page}">${t.number}</a></td>
		    <td class="wps-pd-l"><a target="_blank" class="wps-view-content" href="${t.link}">${e}</a></td>
			</tr>`,a++}),n+="</tbody></table></div>"}return wps_js.no_meta_box_data()}},window.addEventListener("resize",function(){window.addEventListener("resize",function(){var t=document.getElementById("wp-statistics-pages-widget");let s=null;t&&(s=null!==t.closest("#dashboard-widgets"));t=document.querySelectorAll(".wps-view-content");0<t.length&&t.forEach(function(t){t.textContent=s||window.innerWidth<=500?wps_js._("view"):wps_js._("view_content")})})});
wps_js.render_wp_statistics_post_summary_widget=function(t,e){t&&t.response&&(wps_js.metaBoxInner(e).html(t.response.output),t.response?.data&&((t,e=[])=>{let a=e.postChartData;let o="Visitors",i="#A5AAEA",s;null!=e.postChartSettings&&((e=e.postChartSettings).color&&(i=e.color),e.label)&&(o=e.label);var e={animation:!1,responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1,displayColors:!1,position:"nearest",intersect:!1,external:e=>{var{chart:e,tooltip:o}=e;let i=e.canvas.parentNode.querySelector("div");if(i||((i=document.createElement("div")).classList.add("c-wps-mini-chart-post-summary-tooltip"),e.canvas.parentNode.appendChild(i)),0===o.opacity)i.style.opacity=0;else if(o.body){var s=o.title||[],r=o.body.map(t=>t.lines);let a="<div>";s.forEach(t=>{a+=`<div class="chart-title">${t}</div>`}),r.forEach((t,e)=>{t=t.join(": ");a+=`<div>${t}</div>`}),i.innerHTML=a;var{offsetLeft:s,offsetTop:e,offsetWidth:n,offsetHeight:l}=e.canvas,r=(i.style.opacity=0===r[0].length?0:1,i.offsetWidth);let t=s+o.caretX-r/2;o=e+l;(t=t<s?s:t)+r>s+n&&(t=s+n-r),i.style.left=t+"px",i.style.top=o+"px"}},callbacks:{title:t=>a[t[0].label].fullDate,label:t=>{t=t.formattedValue;return`<div class="content-itemss"> <div class="content-item"><span>${o}</span> <span>${t}</span></div>`}}}},scales:{x:{offset:!0,grid:{display:!1},border:{color:"transparent",width:0},ticks:{align:"inner",maxTicksLimit:3,fontColor:"#898A8E",fontSize:10,padding:5}},y:{position:"right",beginAtZero:!0,grid:{display:!1},border:{color:"transparent",width:0},ticks:{align:"inner",maxTicksLimit:5,fontColor:"#898A8E",fontSize:10,padding:8,stepSize:1,callback:renderFormatNum}}},layout:{padding:{left:0,right:0,top:0,bottom:0}}},t=jQuery("#"+t)[0].getContext("2d"),r=Object.entries(a).map(([,t])=>t.hits),n=r.length<=30?"bar":"line";"line"==n&&((s=t.createLinearGradient(0,0,0,t.canvas.height-10)).addColorStop(0,wps_js.hex_to_rgba(i,1)),s.addColorStop(.5,wps_js.hex_to_rgba(i,.25)),s.addColorStop(.75,wps_js.hex_to_rgba(i,0)),s.addColorStop(1,wps_js.hex_to_rgba(i,0)));new Chart(t,{type:n,data:{labels:Object.entries(a).map(([t])=>t),datasets:[{data:r,backgroundColor:"line"==n?s:Object.entries(a).map(([,t])=>0===t.hits?"#000000b3":wps_js.hex_to_rgba(i,.5)),hoverBackgroundColor:"line"==n?s:Object.entries(a).map(([,t])=>0===t.hits?"#000000b3":i),pointBackgroundColor:i,fill:"line"==n,barPercentage:.9,categoryPercentage:1,tension:.5,minBarLength:1,borderWidth:"line"==n?1:0,pointRadius:"line"==n?0:void 0,pointHoverRadius:"line"==n?5:void 0,borderColor:i}]},options:e})})("postSummaryChart",t.response.data),wps_js.initDatePickerHandlers())};
wps_js.post_meta_box={params:function(){return{ID:wps_js.global.page.ID}},view:function(t=[]){return t.hasOwnProperty("content")?' <div class="wps-center" style="padding: 15px;"> '+t.content+"</div>":' <div class="wps-wrap"> '+t.visitors+"</div>"},meta_box_init:function(t=[]){t.hasOwnProperty("content")&&jQuery("#"+wps_js.getMetaBoxKey("post")+" button[onclick]").remove()}};
wps_js.set_content=function(e,s){e&&e.response&&(wps_js.metaBoxInner(s.replace(/_/g,"-")).html(e.response),wps_js.initDatePickerHandlers())},wps_js.render_table_content=wps_js.set_content,wps_js.render_wp_statistics_countries_widget=wps_js.render_table_content,wps_js.render_wp_statistics_traffic_summary_widget=wps_js.render_table_content,wps_js.render_wp_statistics_referring_widget=wps_js.render_table_content,wps_js.render_wp_statistics_pages_widget=wps_js.render_table_content,wps_js.render_wp_statistics_top_visitors_widget=wps_js.render_table_content,wps_js.render_wp_statistics_recent_widget=wps_js.render_table_content,wps_js.render_wp_statistics_useronline_widget=wps_js.render_table_content,wps_js.render_wp_statistics_go_premium_widget=wps_js.render_table_content,wps_js.render_wp_statistics_about_metabox=wps_js.render_table_content,wps_js.render_wp_statistics_weekly_performance_widget=wps_js.render_table_content,wps_js.render_wp_statistics_post_visitors_widget=wps_js.render_table_content;
wps_js.render_wp_statistics_hourly_usage_widget=function(a,e){if(a&&a.response&&wps_js.metaBoxInner(e).html(a.response.output),a.response?.data){e=a.response.data;let i={data:e.data,previousData:e.previousData};a=document.getElementById("hourly-usage-chart").getContext("2d");let r={Views:"#7362BF",Visitors:"#3288D7"},l=[];Object.keys(i.data.datasets).forEach((a,e)=>{var t=r[i.data.datasets[a].label];l.push({type:"bar",label:i.data.datasets[a].label,data:i.data.datasets[a].data,backgroundColor:wps_js.hex_to_rgba(t,.5),fill:!1,yAxisID:"y",hitRadius:10})}),i?.previousData&&Object.keys(i.previousData.datasets).forEach((a,e)=>{var t,s=i.previousData.datasets[a].label;l.push({type:"bar",label:i.previousData.datasets[a].label+" (Previous)",data:i.previousData.datasets[a].data,backgroundColor:(a=wps_js.hex_to_rgba(r[s],.5),s=document.createElement("canvas"),t=s.getContext("2d"),s.width=5,s.height=5,t.fillStyle=a,t.fillRect(0,0,s.width,s.height),t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(s.width,0),t.lineTo(0,s.height),t.stroke(),t.createPattern(s,"repeat")),fill:!1,yAxisID:"y",pointRadius:0,hitRadius:10})});var e={maintainAspectRatio:!1,resizeDelay:200,animation:{duration:0},responsive:!0,interaction:{intersect:!1,mode:"index"},plugins:{legend:!1,tooltip:{enabled:!1,external:a=>((a,e,t)=>{let{chart:d,tooltip:s}=a;a=getOrCreateTooltip(d);if(0===s.opacity)a.style.opacity=0;else if(s.body){let r=s.dataPoints[0].dataIndex,l=d.data.datasets,o="<div>";var i=l.filter(a=>!a.label.includes("(Previous)")),n=l.filter(a=>a.label.includes("(Previous)")),c=(new Date).getHours(),p=t.data.labels[r].hour,u=parseInt(p.match(/\d+/)[0]),p=p.includes("PM"),p=12===u?p?12:0:p?u+12:u,u=i.some(a=>0<a.data[r]),h=n.some(a=>0<a.data[r]),p=p<=c,c=p&&(u||!u&&!h)?t.data.labels[r].formatted_date+" ("+t.data.labels[r].hour+")":t.previousData.labels[r].formatted_date+" ("+t.data.labels[r].hour+")";if(o+=`<div class="chart-title">${c}</div>`,p&&(u||!u&&!h)&&i.forEach(a=>{var e;d.getDatasetMeta(l.indexOf(a)).hidden||(e=a.data[r],o+=`
                        <div class="current-data">
                            <div>
                                <span class="current-data__color" style="background-color: ${a.backgroundColor};"></span>
                                ${a.label}
                            </div>
                            <span class="current-data__value">${e.toLocaleString()}</span>
                        </div>`)}),!p||h){let i=Object.values(e);n.forEach((a,e)=>{var t=d.getDatasetMeta(l.indexOf(a)),s=a.label.replace(" (Previous)","");t.hidden||(t=a.data[r],o+=`
                        <div class="previous-data">
                            <div>
                                 <span class="previous-data__colors">
                                    <span class="previous-data__color" style="background-color:${wps_js.hex_to_rgba(i[e],.5)};"></span>
                                    <span class="previous-data__color" style="background-color: ${wps_js.hex_to_rgba(i[e],.5)}"></span>
                                 </span>
                                 ${s} 
                            </div>
                            <span class="current-data__value">${t.toLocaleString()}</span>
                        </div>`)})}o+="</div>",a.innerHTML=o,wps_js.setTooltipPosition(a,d,s)}})(a,(l,r),i),callbacks:{title:a=>a[0].label,label:a=>a.formattedValue}}},scales:{x:{offset:!0,grid:{display:!1,drawBorder:!1,tickLength:0,drawTicks:!1},border:{color:"transparent",width:0},ticks:{align:"inner",autoSkip:!1,maxRotation:90,minRotation:90,callback:function(a,e){return" "+this.getLabelForValue(a)},font:{color:"#898A8E",style:"italic",size:window.innerWidth<768?8:13},padding:window.innerWidth<768?3:8}},y:{min:0,ticks:{maxTicksLimit:7,font:{color:"#898A8E",style:"italic",size:window.innerWidth<768?8:13},padding:window.innerWidth<768?2:8,lineHeight:window.innerWidth<768?10:15,stepSize:1,callback:renderFormatNum},border:{color:"transparent",width:0},type:"linear",position:"right",grid:{display:!0,tickMarkLength:0,drawBorder:!1,tickColor:"#EEEFF1",color:"#EEEFF1"},gridLines:{drawTicks:!1},title:{display:!1}}}},t=i.data.labels.map(a=>a.hour);let o=new Chart(a,{type:"bar",data:{labels:t,datasets:l},options:e});{let i=document.getElementById("hourly-usage-chart").parentElement.parentElement.querySelector(".wps-postbox-chart--items");if(i){i.innerHTML="",l.sort((a,e)=>"Total"===a.label?-1:"Total"===e.label?1:"Total (Previous)"===a.label?-1:"Total (Previous)"===e.label?1:0);a=document.querySelectorAll(".wps-postbox-chart--previousPeriod");if(0<a.length){let e=!1;l.forEach(a=>{a.label.includes("(Previous)")&&(e=!0)}),e&&a.forEach(a=>{a.style.display="flex"})}l.forEach((a,t)=>{if(!a.label.includes("(Previous)")){a.data.reduce((a,e)=>Number(a)+Number(e),0);var s=document.createElement("div");s.className="wps-postbox-chart--item",s.innerHTML=`
                            <span class="current-data">
                                 <span class="wps-postbox-chart--item--color" style="border-color: ${a.backgroundColor}"></span> ${a.label}
                            </span>
                           `;let e=s.querySelector(".current-data");e.addEventListener("click",function(){var a=o.getDatasetMeta(t);a.hidden=!a.hidden,e.classList.toggle("wps-line-through"),o.update()}),i.appendChild(s)}})}}}wps_js.initDatePickerHandlers()};
wps_js.render_wp_statistics_hitsmap_widget=function(a,t){if(a?.response){t=t.replace(/_/g,"-");let{output:s,data:r}=a.response,l=Array(),d={};if(wps_js.metaBoxInner(t).html(s),0<r?.codes?.length){let i={},o=(r.codes.forEach((s,a)=>{var t=Number(r.raw_data[a])||0,e=r.data[a];i[s.toLowerCase()]={label:r.labels[a],flag:r.flags[a],visitors_raw:t,visitors:e}}),Math.max(1,...Object.values(i).map(s=>s.visitors_raw)));Object.keys(i).forEach(s=>{var a=i[s],t=a.visitors_raw/o,e=Math.round(235-185*t),r=Math.round(245-109*t),t=Math.round(255-40*t);d[s]=`rgb(${e}, ${r}, ${t})`,l[s]=`<div class='map-html-marker'>
                    <div class="map-country-header">
                        <img src='${a.flag}' 
                            alt="${a.label}" 
                            title='${a.label}' 
                            class='log-tools wps-flag'/> 
                            <span>${a.label}  </span>
                    </div>
                    <div class="map-country-content">
                        <div>${wps_js._("visitors")}</div>
                        <div>${a.visitors}</div>
                    </div>
                </div>`})}jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#fff",borderOpacity:.6,color:"#e6e6e6",selectedColor:"#596773",hoverColor:"#596773",colors:d,onLabelShow:function(s,e,r){r=r.toLowerCase();if(l[r])e.html(l[r]);else{let a=wps_js.global.assets_url+`/images/flags/${r}.svg`,t=e.text();fetch(a).then(s=>{s=s.ok?`<img src='${a}' alt="${t}" title="${t}" class='log-tools wps-flag'/>`:"";e.html(`
                <div class='map-html-marker'>
                    <div class="map-country-header">
                        ${s}
                        <span>${t}</span>
                    </div>
                    <div class="map-country-content">
                        <div>${wps_js._("visitors")}</div>
                        <div>0</div>
                    </div>
                </div>
            `)}).catch(s=>{console.error("Error fetching the image:",s),e.html(`
                <div class='map-html-marker'>
                    <div class="map-country-header">
                        <span>${t}</span>
                    </div>
                    <div class="map-country-content">
                        <div>${wps_js._("visitors")}</div>
                        <div>0</div>
                    </div>
                </div>
            `)})}}}),wps_js.initDatePickerHandlers()}};
wps_js.isset(wps_js.global,"request_params","page")&&"plugins"===wps_js.global.request_params.page&&jQuery(document).ready(function(){var e=document.querySelectorAll(".js-addon-show-more"),t=document.querySelectorAll(".js-wps-addon-license-button");let n=document.querySelectorAll(".js-wps-addon-check-box");var s=document.querySelectorAll(".js-addon-retry-btn");let a=document.querySelector(".js-wps-addon-select-all"),o=document.querySelector(".js-addon-active-license"),l=document.querySelector(".js-addon-download-button"),d=document.querySelector(".wps-addon__step__active-license input"),i=document.querySelector(".js-addon_active-all"),r=document.querySelectorAll(".js-addon-active-plugin-btn"),c=[],p=[],u={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_check_license"},_=("plugins"===(u=Object.assign(u,wps_js.global.request_params)).page&&"downloads"===u?.tab&&l&&0===n.length&&(l.textContent=wps_js._("continue_to_next_step"),l.classList.remove("disabled"),l.href="admin.php?page=wps_plugins_page&tab=get-started&license_key="+u.license_key),()=>{r&&0<r.length&&i&&i.classList.remove("wps-hide")}),m=(_(),e=>{e=e.parentElement.parentElement.querySelector(".wps-alert");e&&e.remove()}),g=()=>{c=[],n.forEach(function(e){e.checked&&c.push(e.getAttribute("data-slug"))})},w=(e,t,s,n,a)=>{var o;s<e.length?(o=e[s],o={...u,action:t,plugin_slug:o},a&&wps_js.loading_button(a),v(o,a,()=>w(e,t,s+1,n,a))):n()};if(0<n.length){a&&(a.addEventListener("click",function(e){e.stopPropagation(),n.forEach(function(e){e.checked=!0,e.parentElement.parentElement.parentElement.classList.add("wps-has-checkbox")}),l.classList.remove("disabled"),g()}),a.click());let t=()=>{let t=!1;n.forEach(function(e){e.checked&&(t=!0)}),t?l.classList.remove("disabled"):l.classList.add("disabled"),g()};n.forEach(function(e){e.addEventListener("change",t)})}else a&&a.classList.add("wps-hide");var E=(e,s,n)=>{0<e.length&&e.forEach(function(t){t.addEventListener("click",function(e){e.stopPropagation();e=t.getAttribute("data-slug"),e={...u,action:s,[n]:e};v(e,t)})})};E(s,"wp_statistics_download_plugin","plugin_slug"),E(r,"wp_statistics_activate_plugin","plugin_slug"),document.addEventListener("click",function(e){var t,s;e.target.classList.contains("js-addon-retry-btn")?(e.stopPropagation(),t=e.target.getAttribute("data-slug"),t={...u,action:"wp_statistics_download_plugin",plugin_slug:t},v(t,e.target)):e.target.classList.contains("js-addon-active-plugin-btn")?(e.stopPropagation(),t=e.target.getAttribute("data-slug"),t={...u,action:"wp_statistics_activate_plugin",plugin_slug:t},v(t,e.target)):e.target.classList.contains("js-addon_active-all")&&(e.stopPropagation(),i.classList.add("wps-hide"),r=document.querySelectorAll(".js-addon-active-plugin-btn"),p=[],r.forEach(function(e){p.push(e.getAttribute("data-slug"))}),r)&&0<r.length&&(s=0,r.forEach(function(e,t){s<t&&((t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status"))&&t.remove(),(t=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--waiting"),t.textContent=wps_js._("waiting"),e.parentElement.parentElement.insertBefore(t,e.parentElement.parentElement.firstChild),e.parentElement.classList.add("wps-hide"))}),w(p,"wp_statistics_activate_plugin",s,()=>{r.forEach(function(e,t){e.parentElement.classList.remove("wps-hide")}),r=document.querySelectorAll(".js-addon-active-plugin-btn"),_()}))}),l&&l.addEventListener("click",function(e){var s;l.classList.contains("disable")||(e.stopPropagation(),n.forEach(function(e){e.checked||(e.disabled=!0)}),s=0,a.classList.add("wps-hide"),n.forEach(function(e,t){e.checked&&s<t&&((t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status"))&&t.remove(),(t=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--waiting"),t.textContent=wps_js._("waiting"),e.parentElement.parentElement.insertBefore(t,e.parentElement.parentElement.firstChild),e.parentElement.classList.add("wps-hide"))}),w(c,"wp_statistics_download_plugin",s,()=>{l.classList.add("redirecting"),l.textContent=wps_js._("redirecting");let t=new URLSearchParams;c.forEach(e=>t.append("addons[]",e)),window.location.href=`admin.php?page=wps_plugins_page&tab=get-started&license_key=${u.license_key}&`+t.toString()},l))}),0<e.length&&(e.forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation();e=this.parentElement.classList.contains("active");document.querySelectorAll(".js-addon-show-more").forEach(function(e){e.parentElement.classList.remove("active")}),e||this.parentElement.classList.add("active")})}),document.body.addEventListener("click",function(){document.querySelectorAll(".js-addon-show-more").forEach(function(e){e.parentElement.classList.remove("active")})})),0<t.length&&t.forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation();e=this.classList.contains("active");if(document.querySelectorAll(".js-wps-addon-license-button").forEach(function(e){e.classList.remove("active"),e.closest(".wps-postbox-addon__item").classList.remove("active")}),!e){this.classList.add("active");e=this.closest(".wps-postbox-addon__item");if(e){e.classList.add("active");let s=e.querySelector(".wps-addon__item__update_license input"),n=e.querySelector(".wps-addon__item__update_license button");function t(){s.classList.remove("wps-danger","wps-warning"),m(n),""===s.value.trim()?(n.classList.add("disabled"),n.disabled=!0):(n.classList.remove("disabled"),n.disabled=!1)}s&&n&&(t(),s.addEventListener("input",function(){t()})),n&&n.addEventListener("click",function(e){e.stopPropagation();var e=s.value.trim(),t=s.dataset.addonSlug;e&&t&&(e={license_key:e,addon_slug:t,...u},v(e,n))})}}})});let b=(t,s,n)=>{if("wp_statistics_check_license"===t.action){m(s);var a=document.createElement("div");n?.data?.message?.toLowerCase().includes("domain")?(s.parentElement.querySelector("input").classList.add("wps-warning"),a.classList.add("wps-alert","wps-alert--warning")):(s.parentElement.querySelector("input").classList.add("wps-danger"),a.classList.add("wps-alert","wps-alert--danger")),a.innerHTML=`
                                <span class="icon"></span>
                                <div>
                                    <p>${n?.data?.message}</p>
                                </div>
                                `;let e;(e=t.tab?document.querySelector(".wps-addon__step__active-license"):s.parentElement)&&e.parentNode.insertBefore(a,e.nextSibling)}"wp_statistics_download_plugin"===t.action&&(n=document.querySelector(`[data-slug="${t.plugin_slug}"]`))&&((s=n.parentElement.parentElement.querySelector(".wps-postbox-addon__status"))&&s.remove(),(a=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--danger"),a.textContent=wps_js._("failed"),n.parentElement.parentElement.insertBefore(a,n.parentElement.parentElement.firstChild),"get-started"===t.tab)&&((s=document.createElement("a")).classList.add("wps-postbox-addon__button","button-retry-addon-download","js-addon-retry-btn"),s.textContent=wps_js._("retry"),s.setAttribute("data-slug",t.plugin_slug),n.parentElement.parentElement.insertBefore(s,a.nextSibling)),"wp_statistics_activate_plugin"===t.action&&(n=document.querySelector(`[data-slug="${t.plugin_slug}"]`))&&((s=n.parentElement.parentElement.querySelector(".wps-postbox-addon__status"))&&s.remove(),(a=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--danger"),a.textContent=wps_js._("failed"),n.parentElement.parentElement.insertBefore(a,n.parentElement.parentElement.firstChild),n.style.display="flex")},v=(a,o,l)=>{var e,t;o&&wps_js.loading_button(o),"wp_statistics_download_plugin"===a.action&&(t=document.querySelector(`[data-slug="${a.plugin_slug}"]`))&&((e=t.parentElement.parentElement.querySelector(".wps-postbox-addon__status"))&&e.remove(),(e=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--purple"),e.textContent=wps_js._("downloading"),t)&&t.parentElement.parentElement&&(t.parentElement.parentElement.insertBefore(e,t.parentElement.parentElement.firstChild),t.style.display="none"),"wp_statistics_activate_plugin"===a.action&&(e=document.querySelector(`[data-slug="${a.plugin_slug}"]`))&&((t=e.parentElement.parentElement.querySelector(".wps-postbox-addon__status"))&&t.remove(),(t=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--purple"),t.textContent=wps_js._("activating"),e)&&e.parentElement.parentElement&&(e.parentElement.parentElement.insertBefore(t,e.parentElement.parentElement.firstChild),e.style.display="none"),jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:a,timeout:3e4,success:function(e){var t,s,n;o&&o.classList.remove("wps-loading-button"),e.success?(o&&o.classList.add("disabled"),"wp_statistics_check_license"===a.action&&(wps_js.global.request_params?.tab?(o.classList.add("redirecting"),o.textContent=wps_js._("redirecting"),window.location.href="admin.php?page=wps_plugins_page&tab=downloads&license_key="+a.license_key):(m(o),o.parentElement.querySelector("input").classList.remove("wps-danger"),(n=o.parentElement.parentElement.parentElement.querySelector(".wps-postbox-addon__status")).classList.contains("wps-postbox-addon__status--danger")&&(n.classList.add("wps-postbox-addon__status--success"),n.classList.remove("wps-postbox-addon__status--danger"),n.textContent=wps_js._("activated")),(n=document.createElement("div")).classList.add("wps-alert","wps-alert--success"),n.innerHTML=`
                                <span class="icon"></span>
                                <div>
                                    <p>${e?.data?.message}</p>
                                </div>
                                `,(t=o.parentElement)&&t.parentNode.insertBefore(n,t.nextSibling))),"wp_statistics_download_plugin"===a.action&&(n=document.querySelector(`[data-slug="${a.plugin_slug}"]`))&&(t=n.parentElement.parentElement.querySelector(".wps-postbox-addon__status--purple"),s=n.parentElement.parentElement.querySelector(".wps-postbox-addon__label--updated"),t&&t.remove(),s&&s.remove(),(t=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--installed"),t.textContent=wps_js._("already_installed"),n&&n.parentElement.parentElement&&n.parentElement.parentElement.insertBefore(t,n.parentElement.parentElement.firstChild),"downloads"===a.tab&&t.parentElement.parentElement.classList.add("wps-addon__download__item--disabled"),"get-started"===a.tab&&((s=document.createElement("a")).classList.add("wps-postbox-addon__button","button-activate-addon","js-addon-active-plugin-btn"),s.textContent=wps_js._("active"),s.setAttribute("data-slug",a.plugin_slug),n.parentElement.insertBefore(s,t.nextSibling),s=document.querySelector(".js-addon-show-more"),r=document.querySelectorAll(".js-addon-active-plugin-btn"),_(),s)&&s.classList.remove("wps-hide"),n.remove()),"wp_statistics_activate_plugin"===a.action&&(t=document.querySelector(`[data-slug="${a.plugin_slug}"]`))&&((s=t.parentElement.parentElement.querySelector(".wps-postbox-addon__status--purple"))&&s.remove(),(n=document.createElement("span")).classList.add("wps-postbox-addon__status","wps-postbox-addon__status--success"),n.textContent=wps_js._("activated"),t.parentElement.parentElement.insertBefore(n,t.parentElement.parentElement.firstChild),t.remove())):b(a,o,e),l&&l()},error:function(e,t,s){o&&o.classList.remove("wps-loading-button"),l&&l(),b(a,o,s)}})};function f(){d.classList.remove("wps-danger","wps-warning"),m(o),""===d.value.trim()?(o.classList.add("disabled"),o.disabled=!0):(o.classList.remove("disabled"),o.disabled=!1)}d&&o&&(f(),d.addEventListener("input",function(){f()})),o&&o.addEventListener("click",function(e){e.stopPropagation();var e=d.value.trim();e&&(e={license_key:e,...u},v(e,o))})});
if(wps_js.isset(wps_js.global,"request_params","page")&&"author-analytics"===wps_js.global.request_params.page){let t={init:function(){"undefined"==typeof Wp_Statistics_Author_Analytics_Object?console.log("Variable Wp_Statistics_Author_Analytics_Object not found."):this.generateCharts()},generateCharts:function(){this.generatePublishingOverviewChart(),this.generateViewsPerPostsChart(),this.generateOperatingSystemChart(),this.generateBrowsersChartData()},generateBrowsersChartData:function(){var t;wps_js.isset(Wp_Statistics_Author_Analytics_Object,"browser_chart_data")&&((t=Wp_Statistics_Author_Analytics_Object.browser_chart_data).data&&0!=t.data.length?wps_js.horizontal_bar("wps-browsers",t.labels,t.data,t.icons):jQuery("#wps-browsers").parent().html(wps_js.no_results()))},generateOperatingSystemChart:function(){var t;wps_js.isset(Wp_Statistics_Author_Analytics_Object,"os_chart_data")&&((t=Wp_Statistics_Author_Analytics_Object.os_chart_data).data&&0!=t.labels.length&&0!=t.data.length?wps_js.horizontal_bar("wps-operating-systems",t.labels,t.data,t.icons):jQuery("#wps-operating-systems").parent().html(wps_js.no_results()))},generateViewsPerPostsChart:function(){if(wps_js.isset(Wp_Statistics_Author_Analytics_Object,"views_per_posts_chart_data")){var t=Wp_Statistics_Author_Analytics_Object.views_per_posts_chart_data;let l=t.datasets.map(t=>t.img).map(t=>{var a=new Image;return a.src=t,a});var a={id:"afterRenderPlugin",afterDraw:function(o,t,a){let n=document.getElementById("publishedChart").getContext("2d");o.data.datasets.forEach((t,a)=>{t.data.forEach((t,a)=>{var a=l[a%l.length],e=o.scales.x.getPixelForValue(t.x),t=o.scales.y.getPixelForValue(t.y),s=15,r=e-s,i=t-s;n.beginPath(),n.arc(e,t,17,0,2*Math.PI),n.lineWidth=4,n.strokeStyle="rgba(81,0,253,20%)",n.stroke(),n.closePath(),n.save(),n.beginPath(),n.arc(e,t,s,0,2*Math.PI),n.clip(),n.drawImage(a,r,i,30,30),n.restore()})})}},e=((400<Chart.version.replace(/\./g,"")?Chart:Chart.plugins).register(a),Chart.Tooltip.positioners.top=function(t,a){var{chartArea:{},scales:{x:e,y:s}}=this.chart;return{x:e.getPixelForValue(e.getValueForPixel(a.x)),y:s.getPixelForValue(s.getValueForPixel(a.y))-20,xAlign:"center",yAlign:"bottom"}},{datasets:[{label:t.labels.chartLabel,data:t.datasets,backgroundColor:"#E8EAEE"}]}),e={type:"scatter",data:e,options:{responsive:!0,pointRadius:16,pointHoverRadius:16,tooltipPosition:{x:10,y:30},layout:{padding:{Right:20,Left:20}},scales:{y:{type:"linear",ticks:{stepSize:4,color:"#56585A",fontSize:13,padding:15},title:{display:!0,text:t.labels.yAxisLabel,fontSize:14,color:"#000"},grid:{drawBorder:!1,tickLength:0}},x:{type:"linear",position:"bottom",title:{display:!0,text:t.labels.xAxisLabel,fontSize:14,color:"#000"},ticks:{stepSize:5e4,autoSkip:!1,maxRotation:90,minRotation:90,color:"#56585A",padding:15,fontSize:13},grid:{drawBorder:!1,tickLength:0}}},plugins:{legend:{display:!1},tooltip:{position:"top",callbacks:{label:function(t){t=t.raw;return[`${wps_js._("visits")}/${wps_js._("published")}: (${t.x}, ${t.y})`,wps_js._("author")+": "+t.author]}}}}},plugins:[a]};new Chart(document.getElementById("publishedChart"),e)}},generatePublishingOverviewChart:function(){if(wps_js.isset(Wp_Statistics_Author_Analytics_Object,"publish_chart_data")){let a=t=>{var a,e,s=t.dataset.data[t.dataIndex].v,r=Math.min(...t.dataset.data.map(t=>t.v)),t=Math.max(...t.dataset.data.map(t=>t.v));return 0===s?"#e8eaee":(a=s,e=["#B28DFF","#5100FD","#4915B9","#250766"],a=Math.floor((s-r)/(t-r)*(e.length-1)),e[Math.min(Math.max(a,0),e.length-1)])};var t={type:"matrix",data:{datasets:[{label:"overview",data:Wp_Statistics_Author_Analytics_Object.publish_chart_data.datasets,backgroundColor:t=>a(t),borderColor:"transparent",borderWidth:4,borderRadius:2,boxShadow:0,width(t){t=t.chart.chartArea||{};return(t.right-t.left)/53-1-2},height(t){t=t.chart.chartArea||{};return(t.bottom-t.top)/7-1-1}}]},options:{maintainAspectRatio:!1,scales:{y:{type:"time",offset:!0,time:{unit:"day",round:"day",isoWeek:1,parser:"i",displayFormats:{day:"iiiiii"}},reverse:!0,position:"left",ticks:{maxRotation:0,autoSkip:!0,padding:5,color:"#000",font:{size:12}},grid:{display:!1,drawBorder:!1,tickLength:0},border:{display:!1}},x:{type:"time",offset:!0,position:"top",time:{unit:"month",round:"week",isoWeekday:1,displayFormats:{week:"MMM"}},ticks:{maxRotation:0,autoSkip:!0,padding:5,color:"#000000",font:{size:12},callback:function(t,a,e){var t=new Date(t),s=t.toLocaleString("default",{month:"short"}),t=t.getDate();return 1===t?s:s+" "+t}},border:{display:!1},grid:{display:!1,drawBorder:!1,tickLength:0}}},aspectRatio:10,animation:!1,plugins:{chartAreaBorder:{borderWidth:5,borderColor:"#fff"},legend:!1,tooltip:{displayColors:!1,callbacks:{title(){return""},label(t){t=t.dataset.data[t.dataIndex];return[wps_js._("date")+": "+t.d,wps_js.global.active_post_type+": "+t.v]}}}}}};new Chart(document.getElementById("overviewPublishChart"),t)}}};jQuery(document).ready(function(){t.init()})}
if(wps_js.isset(wps_js.global,"request_params","page")&&"browser"===wps_js.global.request_params.page){let e={};["from","to"].forEach(s=>{wps_js.isset(wps_js.global,"request_params",s)&&(e[s]=wps_js.global.request_params[s])}),["browsers-table","browsers"].forEach(s=>{jQuery("#"+wps_js.getMetaBoxKey(s)+" .inside").css("height","430px")}),jQuery("#wp-statistics-browsers-table-widget .inside").html(wps_js.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),wps_js.run_meta_box("browsers",e,!1)}
if(wps_js.isset(wps_js.global,"request_params","page")&&"category-analytics"===wps_js.global.request_params.page){let e={data:[],init:function(){"undefined"==typeof Wp_Statistics_Category_Analytics_Object?console.log("Variable Wp_Statistics_Category_Analytics_Object not found."):(this.data=Wp_Statistics_Category_Analytics_Object,this.generateCharts())},generateCharts:function(){document.getElementById("performance-category-chart")&&this.generatePerformanceChart(),document.getElementById("performance-category-chart-single")&&this.generatePerformanceChartSingle(),document.getElementById("category_operating_systems")&&this.generateOperatingSystemChart(),document.getElementById("category_browsers")&&this.generateBrowsersChartData(),document.getElementById("category_device_models")&&this.generateDeviceModelsChart(),document.getElementById("category_device_usage")&&this.generateDeviceUsageChart(),document.getElementById("category-search-engines-chart")&&this.generateSearchEngineChart()},generatePerformanceChart:function(){var e=this.data.performance_chart_data;e.data&&0!=e.data.length?wps_js.new_line_chart(e,"performance-category-chart",null,"performance"):jQuery("#performance-category-chart").parent().html(wps_js.no_results())},generatePerformanceChartSingle:function(){var e=this.data.performance_chart_data;e.data&&0!=e.data.length?wps_js.new_line_chart(e,"performance-category-chart-single",null,"performance"):jQuery("#performance-category-chart-single").parent().html(wps_js.no_results())},generateOperatingSystemChart:function(){var e=this.data.os_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("category_operating_systems",e.labels,e.data,e.icons):jQuery("#category_operating_systems").parent().html(wps_js.no_results())},generateBrowsersChartData:function(){var e=this.data.browser_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("category_browsers",e.labels,e.data,e.icons):jQuery("#category_browsers").parent().html(wps_js.no_results())},generateDeviceModelsChart:function(){var e=this.data.model_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("category_device_models",e.labels,e.data,null):jQuery("#category_device_models").parent().html(wps_js.no_results())},generateDeviceUsageChart:function(){var e=this.data.device_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("category_device_usage",e.labels,e.data,null):jQuery("#category_device_usage").parent().html(wps_js.no_results())},generateSearchEngineChart:function(){var e=this.data.search_engine_chart_data;e.data.datasets&&0!=e.data.datasets.length?wps_js.new_line_chart(e,"category-search-engines-chart",null):(jQuery("#category-search-engines-chart").parent().html(wps_js.no_results()),jQuery(".wps-postbox-chart--data").remove())}};jQuery(document).ready(function(){e.init()})}
if(wps_js.isset(wps_js.global,"request_params","page")&&"content-analytics"===wps_js.global.request_params.page){let e={data:[],init:function(){if("undefined"==typeof Wp_Statistics_Content_Analytics_Object)console.log("Variable Wp_Statistics_Content_Analytics_Object not found.");else{this.data=Wp_Statistics_Content_Analytics_Object,this.generateCharts();let t=document.querySelector(".js-toggle-content-tags");t&&t.addEventListener("click",function(e){e.preventDefault(),document.querySelectorAll(".extra-item").forEach(e=>e.classList.toggle("show")),t.classList.toggle("toggled"),t.classList.contains("toggled")?t.textContent=wps_js._("show_less"):t.textContent=wps_js._("show_more")})}},generateCharts:function(){document.getElementById("performance-chart")&&this.generatePerformanceChart(),document.getElementById("performance-chart-single")&&this.generatePerformanceChartSingle(),document.getElementById("content_operating_systems")&&this.generateOperatingSystemChart(),document.getElementById("content_browsers")&&this.generateBrowsersChartData(),document.getElementById("content_device_models")&&this.generateDeviceModelsChart(),document.getElementById("content_device_usage")&&this.generateDeviceUsageChart(),document.getElementById("content-search-engines-chart")&&this.generateSearchEngineChart()},generatePerformanceChart:function(){var e=this.data.performance_chart_data;e.data.datasets&&0!=e.data.datasets.length?wps_js.new_line_chart(e,"performance-chart",null,"performance"):jQuery("#performance-chart").parent().html(wps_js.no_results())},generateOperatingSystemChart:function(){var e=this.data.os_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("content_operating_systems",e.labels,e.data,e.icons):jQuery("#content_operating_systems").parent().html(wps_js.no_results())},generateBrowsersChartData:function(){var e=this.data.browser_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("content_browsers",e.labels,e.data,e.icons):jQuery("#content_browsers").parent().html(wps_js.no_results())},generateDeviceModelsChart:function(){var e=this.data.model_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("content_device_models",e.labels,e.data,null):jQuery("#content_device_models").parent().html(wps_js.no_results())},generateDeviceUsageChart:function(){var e=this.data.device_chart_data;e.data&&0!=e.data.length?wps_js.horizontal_bar("content_device_usage",e.labels,e.data,null):jQuery("#content_device_usage").parent().html(wps_js.no_results())},generateSearchEngineChart:function(){var e=this.data.search_engine_chart_data;e.data.datasets&&0!=e.data.datasets.length?wps_js.new_line_chart(e,"content-search-engines-chart"):(jQuery("#content-search-engines-chart").parent().html(wps_js.no_results()),jQuery(".wps-postbox-chart--data").remove())},generatePerformanceChartSingle:function(){var e=this.data.performance_chart_data;e.data.datasets&&0!=e.data.datasets.length?wps_js.new_line_chart(e,"performance-chart-single",null,"performance"):jQuery("#performance-chart-single").parent().html(wps_js.no_results())}};jQuery(document).ready(function(){e.init()})}
if(wps_js.isset(wps_js.global,"request_params","page")&&"countries"===wps_js.global.request_params.page){let a={limit:0};["from","to"].forEach(s=>{wps_js.isset(wps_js.global,"request_params",s)&&(a[s]=wps_js.global.request_params[s])}),wps_js.run_meta_box("countries",a,!1)}
if(wps_js.isset(wps_js.global,"request_params","page")&&"exclusions"===wps_js.global.request_params.page){function renderChart(e,s){var t,a;document.getElementById(e)&&(t=jQuery("#"+e).parent(),a=wps_js.rectangle_placeholder(),t.append(a),s?.data?.datasets&&0!==s.data.datasets.length?(jQuery(".wps-ph-item").remove(),jQuery(".wps-postbox-chart--data").removeClass("c-chart__wps-skeleton--legend"),t.removeClass("c-chart__wps-skeleton"),wps_js.new_line_chart(s,e,null)):(t.html(wps_js.no_results()),jQuery(".wps-ph-item").remove()))}let e=Wp_Statistics_Exclusions_Object.exclusions_chart_data;renderChart("exclusionsChart",e)}
(()=>{if(window.wpStatisticsFilters&&0!==Object.keys(window.wpStatisticsFilters).length){let i={},s={};Object.entries(window.wpStatisticsFilters).forEach(([t,e])=>{e.panel?s[t]=e:i[t]=e}),new FilterModal({modalSelector:"#wps-modal-filter",formSelector:"#wp_statistics_visitors_filter_form",filterWrapperSelector:"#wps-visitors-filter-form",fields:i}),0<Object.keys(s).length&&new FilterPanel({fields:s})}})();
if(wps_js.isset(wps_js.global,"request_params","page")&&"hits"===wps_js.global.request_params.page){let s={};s=wps_js.isset(wps_js.global,"request_params","from")&&wps_js.isset(wps_js.global,"request_params","to")?{from:wps_js.global.request_params.from,to:wps_js.global.request_params.to}:{ago:30},jQuery("span[id^='number-total-chart-']").html(wps_js.rectangle_placeholder("wps-text-placeholder")),wps_js.run_meta_box("hits",s,!1)}
let currentSlide=0,slides=document.querySelectorAll(".wps-slider__slide"),totalSlides=slides.length,dotsContainer=document.querySelector(".wps-slider__dots"),wpsAutoSlideInterval;function showSlide(l){slides.forEach((e,t)=>{e.style.display=t===l?"block":"none"}),updateDots(l)}function updateDots(t){if(dotsContainer.innerHTML="",1<totalSlides){for(let e=0;e<totalSlides;e++){var l=document.createElement("span");l.className="wps-slider__dot",l.addEventListener("click",()=>{showSlide(e),resetAutoSlide()}),l.classList.toggle("active",e===t),dotsContainer.appendChild(l)}dotsContainer.style.display="block"}else dotsContainer.style.display="none"}function startAutoSlideLockPage(){1<totalSlides&&(wpsAutoSlideInterval=setInterval(()=>{showSlide(currentSlide=(currentSlide+1)%totalSlides)},5e3))}function resetAutoSlide(){clearInterval(wpsAutoSlideInterval),startAutoSlideLockPage()}0<totalSlides&&(showSlide(currentSlide),startAutoSlideLockPage());
if("index.php"===wps_js.global.page.file||wps_js.is_active("overview_page")||"post-new.php"===wps_js.global.page.file||"post.php"===wps_js.global.page.file&&wps_js.isset(wps_js.global,"page","ID")){let t=wps_js.global.meta_boxes.side,s=wps_js.global.meta_boxes.normal,a=wps_js.global.meta_boxes?.column3,r=wps_js.global.meta_boxes?.column4,o=null!==document.getElementById("dashboard-widgets");class f{static getDateRange(t){var e=moment().format("YYYY-MM-DD"),s=moment().endOf("week").format("YYYY-MM-DD");return{today:{start:e,end:e},yesterday:{start:moment().subtract(1,"days").format("YYYY-MM-DD"),end:moment().subtract(1,"days").format("YYYY-MM-DD")},this_week:{start:moment().startOf("week").format("YYYY-MM-DD"),end:s},last_week:{start:moment().subtract(1,"week").startOf("week").format("YYYY-MM-DD"),end:moment().subtract(1,"week").endOf("week").format("YYYY-MM-DD")},this_month:{start:moment().startOf("month").format("YYYY-MM-DD"),end:moment().endOf("month").format("YYYY-MM-DD")},last_month:{start:moment().subtract(1,"month").startOf("month").format("YYYY-MM-DD"),end:moment().subtract(1,"month").endOf("month").format("YYYY-MM-DD")},"7days":{start:moment().subtract(6,"days").format("YYYY-MM-DD"),end:e},"28days":{start:moment().subtract(27,"days").format("YYYY-MM-DD"),end:e},"30days":{start:moment().subtract(29,"days").format("YYYY-MM-DD"),end:e},"90days":{start:moment().subtract(89,"days").format("YYYY-MM-DD"),end:e},"6months":{start:moment().subtract(6,"months").format("YYYY-MM-DD"),end:e},this_year:{start:moment().startOf("year").format("YYYY-MM-DD"),end:moment().endOf("year").format("YYYY-MM-DD")},last_year:{start:moment().subtract(1,"year").startOf("year").format("YYYY-MM-DD"),end:moment().subtract(1,"year").endOf("year").format("YYYY-MM-DD")}}[t]||{start:null,end:null}}static formatDateRange(t,e){return t&&e?(t=moment(t),e=moment(e),t.isSame(e,"day")?t.format("MMM D, YYYY"):t.format("MMM D, YYYY")+" - "+e.format("MMM D, YYYY")):""}static getDefaultDateRange(){var t=moment().format("YYYY-MM-DD");return{start:moment().subtract(29,"days").format("YYYY-MM-DD"),end:t}}}class g{constructor(){this.initializeEventListeners()}initializeEventListeners(){this.initializeFilterToggles(),this.initializeMoreFilters(),this.initializeDatePicker(),this.initializeCustomDatePicker(),this.initializeDateSelection(),this.initializeFilterClicks()}initializeFilterToggles(){jQuery(document).off("click",".js-filters-toggle").on("click",".js-filters-toggle",t=>{var t=jQuery(t.currentTarget),e=(jQuery(".js-widget-filters").removeClass("is-active"),jQuery(".postbox").removeClass("has-focus"),t.closest(".js-widget-filters").toggleClass("is-active"),t.closest(".postbox").toggleClass("has-focus"),t[0].getBoundingClientRect().top);e<350&&t.closest(".js-widget-filters").addClass("is-down")})}initializeMoreFilters(){jQuery(document).off("click",".js-show-more-filters").on("click",".js-show-more-filters",t=>{t.preventDefault(),jQuery(t.currentTarget).closest(".c-footer__filters__list").find(".js-more-filters").addClass("is-open")}),jQuery(document).off("click",".js-close-more-filters").on("click",".js-close-more-filters",t=>{t.preventDefault(),jQuery(t.currentTarget).closest(".js-more-filters").removeClass("is-open")})}initializeDatePicker(){jQuery(".js-datepicker-input").each(function(){jQuery(this).data("daterangepicker")||jQuery(this).daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:{cancelLabel:"Clear",format:"YYYY-MM-DD"}})})}initializeCustomDatePicker(){jQuery(document).off("click",'button[data-filter="custom"]').on("click",'button[data-filter="custom"]',t=>{var t=jQuery(t.currentTarget).attr("data-metabox-key"),e=jQuery("#"+t+" .inside .js-datepicker-input").first();this.setupDateRangePicker(e,t),e.data("daterangepicker").show()})}setupDateRangePicker(t,a){t.data("daterangepicker")||(t.daterangepicker({autoUpdateInput:!1,autoApply:!0,locale:{cancelLabel:"Clear",format:"YYYY-MM-DD"}}),t.on("apply.daterangepicker",(t,e)=>{var s={startDate:e.startDate.format("YYYY-MM-DD"),endDate:e.endDate.format("YYYY-MM-DD")};this.handleDateSelection(a,s,e)}))}initializeDateSelection(){jQuery(".js-datepicker-input").off("apply.daterangepicker").on("apply.daterangepicker",(t,e)=>{var t=jQuery(t.currentTarget).closest(".postbox").attr("id"),s={startDate:e.startDate.format("YYYY-MM-DD"),endDate:e.endDate.format("YYYY-MM-DD")};this.handleDateSelection(t,s,e)}),jQuery(".js-datepicker-input").off("hide.daterangepicker").on("hide.daterangepicker",(t,e)=>{var s;e.startDate&&(t=jQuery(t.currentTarget).closest(".postbox").attr("id"),s={startDate:e.startDate.format("YYYY-MM-DD"),endDate:(e.endDate||e.startDate).format("YYYY-MM-DD")},this.handleDateSelection(t,s,e,!0))})}handleDateSelection(t,e,s,a=!1){var r=jQuery("#"+t),s=e.startDate===e.endDate?s.startDate.format("MMM D, YYYY"):s.startDate.format("MMM D, YYYY")+" - "+s.endDate.format("MMM D, YYYY");this.updateUIElements(r,s,a),this.loadMetaBoxData(t,e)}updateUIElements(t,e,s){s=s?"Custom Range":wps_js._("str_custom");t.find(".js-filter-title").text(s),t.find(".hs-filter-range").text(e),t.find(".js-filters-toggle").text(s),t.find(".c-footer__filters").removeClass("is-active"),jQuery(".postbox.has-focus").removeClass("has-focus")}initializeFilterClicks(){jQuery(document).off("click",'.c-footer__filters__list-item:not(.js-show-more-filters):not(.js-close-more-filters):not([data-filter="custom"])').on("click",'.c-footer__filters__list-item:not(.js-show-more-filters):not(.js-close-more-filters):not([data-filter="custom"])',t=>{var t=jQuery(t.currentTarget),e=t.data("filter"),s=t.closest(".postbox"),a=s.attr("id"),r=f.getDateRange(e);this.updateFilterUI(s,t,r),this.loadMetaBoxData(a,r,e)})}updateFilterUI(t,e,s){t.find(".js-filter-title").text(e.text()),t.find(".hs-filter-range").text(f.formatDateRange(s.start,s.end)),t.find(".js-filters-toggle").text(e.text()),t.find(".c-footer__filters").removeClass("is-active"),e.closest(".postbox.has-focus").removeClass("has-focus")}loadMetaBoxData(e,t,s="custom"){wps_js.showLoadingSkeleton(e),loadMetaBoxData(e,t.startDate||t.start,t.endDate||t.end,s).then(t=>{wps_js.handleMetaBoxRender(t,e)}).catch(t=>console.error(`Error loading metabox ${e}:`,t))}}function loadMetaBoxData(o,i=null,n=null,l=null){return new Promise((e,s)=>{var t={action:o.replace(/-/g,"_").replace("widget","metabox")+"_get_data",wps_nonce:wps_js.global.rest_api_nonce,current_page:wps_js.global.page},a=(l&&(t.date_filter=l),i&&n&&(t.from=i,t.to=n),o+"_success"),r=o+"_error";wps_js[a]=function(t){return e(t),t},wps_js[r]=function(t){return s(t),t},wps_js.ajaxQ(wps_js.global.admin_url+"admin-ajax.php",t,a,r,"GET",!1)})}function handleScreenOptionsChange(){let e=[];return 0<$("#adv-settings").length?$('#adv-settings input[type="checkbox"]').each(function(){var t;$(this).is(":checked")&&(t=$(this).attr("id").replace("-hide",""),e.push(t))}):(e=[...Array.isArray(t)?t:[],...Array.isArray(s)?s:[]],o&&(a&&(e=[...e,...a]),r)&&(e=[...e,...r])),e}function refreshMetaBox(e){loadMetaBoxData(e).then(t=>{wps_js.handleMetaBoxRender(t,e)})}wps_js.datePickerHandler=new g,wps_js.initDatePickerHandlers=function(){wps_js.datePickerHandler.initializeEventListeners()},wps_js.handleMetaBoxRender=function(t,e){var s=e.replace(/-/g,"_");"function"==typeof wps_js["render_"+s]&&(wps_js["render_"+s](t,e),wps_js.handelReloadButton(e),wps_js.handelMetaBoxFooter(e,t))};let i=handleScreenOptionsChange(),e=0,n=0,l=0,c=0,_=s?s.length:0,d=t?t.length:0,p=o&&a?a.length:0,m=o&&r?r.length:0,u=o?window.innerWidth<800:window.innerWidth<759;function processMetaBoxes(t,e,s){if(t&&0!==s)for(;e<s;)i.includes(t[e])&&refreshMetaBox(t[e]),e++;return e}for(;e<_||n<d||o&&(l<p||c<m);){function processNextMetaBox(t,e,s){if(t&&0!==s){for(;e<s&&!i.includes(t[e]);)e++;e<s&&(refreshMetaBox(t[e]),e++)}return e}u?o?(e=processMetaBoxes(s,e,_),n=processMetaBoxes(t,n,d),a&&(l=processMetaBoxes(a,l,p)),r&&(c=processMetaBoxes(r,c,m))):(n=processMetaBoxes(t,n,d),e=processMetaBoxes(s,e,_)):o?(e=processNextMetaBox(s,e,_),n=processNextMetaBox(t,n,d),l=processNextMetaBox(a,l,p),c=processNextMetaBox(r,c,m)):(n=processNextMetaBox(t,n,d),e=processNextMetaBox(s,e,_))}function bindRefreshEvents(t){t.forEach(t=>{jQuery(document).on("click",`#${t} .wps-refresh`,function(){wps_js.showLoadingSkeleton(t),refreshMetaBox(t)})})}jQuery(document).on("change",'#adv-settings input[type="checkbox"]',function(){var t=$(this).attr("id").replace("-hide","");$(this).is(":checked")&&refreshMetaBox(t)}),t&&bindRefreshEvents(t),s&&bindRefreshEvents(s),o&&(a&&bindRefreshEvents(a),r)&&bindRefreshEvents(r),wps_js.metaBoxInner=t=>jQuery("#"+t+" .inside"),wps_js.showLoadingSkeleton=function(t){jQuery("#"+t+" .inside").html('<div class="wps-skeleton-container"><div class="wps-skeleton-container__skeleton wps-skeleton-container__skeleton--full wps-skeleton-container__skeleton--h-150"></div></div>')},wps_js.handelReloadButton=t=>{var e="#"+t+" .handle-actions button:first";jQuery("#"+t+" .wps-refresh").length||jQuery(`<button class="handlediv wps-refresh" type="button" title="${wps_js._("reload")}"></button>`).insertBefore(e)},wps_js.handelMetaBoxFooter=function(r,o){let i='<div class="c-footer"><div class="c-footer__filter js-widget-filters">';if(o.options&&o.options.datepicker){let t,e,s=wps_js._("str_30days"),a=wps_js._("str_30days");o?.filters&&o.filters.date&&o.filters.date.filter&&(l=wps_js.isset(wps_js.global,"options","wp_date_format")?wps_js.global.options.wp_date_format:"MM/DD/YYYY",_=(l=phpToMomentFormat(l)).replace(/,?\s?(YYYY|YY)[-/\s]?,?|[-/\s]?(YYYY|YY)[-/\s]?,?/g,""),c=moment(o.filters.date.from),n=moment(o.filters.date.to),t=c.year()===n.year()?c.format(_):c.format(l),e=n.format(l),a="custom"===o.filters.date.type?t+" _ "+e:wps_js._("str_"+o.filters.date.filter),s="custom"===o.filters.date.type?wps_js._("str_custom"):wps_js._("str_"+o.filters.date.filter)),i+=`
                <button class="c-footer__filter__btn js-filters-toggle">`+a+`</button>
                <div class="c-footer__filters">
                    <div class="c-footer__filters__current-filter">
                        <span class="c-footer__current-filter__title js-filter-title">`+s+`</span>
                         <span class="c-footer__current-filter__date-range hs-filter-range">`+t+" - "+e+`</span>
                    </div>
                    <div class="c-footer__filters__list">
                        <button data-metabox-key="${r}" data-filter="today" class="c-footer__filters__list-item">`+wps_js._("str_today")+`</button>
                        <button data-metabox-key="${r}" data-filter="yesterday" class="c-footer__filters__list-item">`+wps_js._("str_yesterday")+`</button>
                        <button data-metabox-key="${r}" data-filter="this_week" class="c-footer__filters__list-item">`+wps_js._("str_this_week")+`</button>
                        <button data-metabox-key="${r}" data-filter="last_week" class="c-footer__filters__list-item">`+wps_js._("str_last_week")+`</button>
                        <button data-metabox-key="${r}" data-filter="this_month" class="c-footer__filters__list-item">`+wps_js._("str_this_month")+`</button>
                        <button data-metabox-key="${r}" data-filter="last_month" class="c-footer__filters__list-item">`+wps_js._("str_last_month")+`</button>
                        <button class="c-footer__filters__list-item c-footer__filters__list-item--more js-show-more-filters">`+wps_js._("str_more")+`</button>
                        <div class="c-footer__filters__more-filters js-more-filters">
                            <button data-metabox-key="${r}" data-filter="7days" class="c-footer__filters__list-item">`+wps_js._("str_7days")+`</button>
                            <button data-metabox-key="${r}" data-filter="28days" class="c-footer__filters__list-item">`+wps_js._("str_28days")+`</button>
                            <button data-metabox-key="${r}" data-filter="30days" class="c-footer__filters__list-item">`+wps_js._("str_30days")+`</button>
                            <button data-metabox-key="${r}" data-filter="90days" class="c-footer__filters__list-item">`+wps_js._("str_90days")+`</button>
                            <button data-metabox-key="${r}" data-filter="6months" class="c-footer__filters__list-item">`+wps_js._("str_6months")+`</button>
                            <button data-metabox-key="${r}" data-filter="this_year" class="c-footer__filters__list-item">`+wps_js._("str_this_year")+`</button>
                            <button data-metabox-key="${r}" data-filter="last_year" class="c-footer__filters__list-item">`+wps_js._("str_last_year")+`</button>
                            <button class="c-footer__filters__close-more-filters js-close-more-filters">`+wps_js._("str_back")+`</button>
                        </div>
                        <input type="text" class="c-footer__filters__custom-date-input js-datepicker-input"/>
                        <button data-metabox-key="${r}" data-filter="custom" class="c-footer__filters__list-item c-footer__filters__list-item--custom js-custom-datepicker">`+wps_js._("str_custom")+`</button>
                    </div>
                </div> `}i+="</div>",o.options&&o.options.button&&(i+=o.options.button),i+="</div></div>";let t=jQuery("#"+r+" h2.hndle");var n,l,c,_;if("wp-statistics-useronline-widget"===r&&((_=jQuery(".wps-currently-online")).length&&0<=_.text()?(c=t.find(".wps-wps-currently-online__container")).length?c.find(".wps-wps-currently-online__text").text(_.text()):(n=`<span class="wps-wps-currently-online__container">
                                <span class="wps-wps-currently-online__dot"></span>
                                <span class="wps-wps-currently-online__text">${_.text()}</span>
                            </span>`,t.append(n)):t.find(".wps-wps-currently-online__container").remove()),"wp-statistics-quickstats-widget"===r){let t=jQuery("#"+r+" div.handle-actions");t.length&&!t.find(".wps-overview-btn").length&&(l=`<a href="${wps_js.global.admin_url}admin.php?page=wps_overview_page" class="wps-overview-btn">${wps_js._("go_to_overview")}</a>`,t.prepend(l),(c=t.find(".wps-overview-btn")).length)&&c.on("click",function(t){t.preventDefault(),window.location.href=this.href})}o.meta&&o.meta.description&&t.length&&!t.find(".wps-tooltip").length&&(_=o.meta.description)&&t.append('<a href="#" class="wps-tooltip" title="'+_+'"><i class="wps-tooltip-icon"></i></a>'),wps_js.metaBoxInner(r).append(i)},document.addEventListener("click",function(s){var t;s.target&&"js-close-notice"===s.target.id&&(t={action:"wp_statistics_dismiss_notices",wps_nonce:wps_js.global.rest_api_nonce,notice_id:"enable_email_metabox_notice"},jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:t,timeout:3e4,success:function({data:t,success:e}){if(!1===e)return console.log(t);s.target.parentElement.parentElement.style.display="none"},error:function(t,e,s){console.log(s)}}))})}
if(wps_js.isset(wps_js.global,"request_params","page")&&"platform"===wps_js.global.request_params.page){let e={};["from","to"].forEach(s=>{wps_js.isset(wps_js.global,"request_params",s)&&(e[s]=wps_js.global.request_params[s])}),["platforms-table","platforms"].forEach(s=>{jQuery("#"+wps_js.getMetaBoxKey(s)+" .inside").css("height","430px")}),jQuery("#wp-statistics-platforms-table-widget .inside").html(wps_js.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),wps_js.run_meta_box("platforms",e,!1)}
if(wps_js.isset(wps_js.global,"request_params","page")&&"privacy-audit"===wps_js.global.request_params.page){function updateComplianceInfo(a){var s=jQuery(".wps-adminHeader .wps-adminHeader__side .privacy"),t=jQuery(".wps-privacy-status");t.removeClass("loading success warning"),t.find(".wps-privacy-status__bar-passed").css("display","none"),t.addClass(100==a.percentage_ready?"success":"warning"),t.find(".wps-privacy-status__percent-value").text(a.percentage_ready),t.find(".wps-privacy-status__rules-mapped-value").text(a.rules_mapped),t.find(".wps-privacy-status__passed-value").text(a.summary.passed),t.find(".wps-privacy-status__final-value").text(a.rules_mapped),0<a.summary.action_required?s.addClass("warning"):s.removeClass("warning"),0<a.summary.passed&&(t.find(".wps-privacy-status__bar-passed").css("display","block"),t.find(".wps-privacy-status__bar-passed").css("width",a.percentage_ready+"%"))}function updateAuditElement(s,t){if(s.attr("class","wps-audit-card wps-audit-card--"+t.status),s.find(".wps-privacy-list__icon").attr("class","wps-privacy-list__icon wps-privacy-list__icon--"+t.status),s.find(".wps-privacy-list__button").attr("class","wps-privacy-list__button wps-privacy-list__button--"+t.status),s.find(".wps-privacy-list__text").html(t.title),s.find(".wps-privacy-list__content").html(t.notes),t.hasOwnProperty("action")){let a="";a="resolve"===t.action.key?t.action.key+" js-openModal-privacy-audit-confirmation":t.action.key,s.find(".wps-privacy-list__button").attr("class","wps-privacy-list__button wps-privacy-list__button--"+a),"resolve"===t.action.key?(s.find(".wps-privacy-list__button").removeAttr("data-action"),s.find(".wps-privacy-list__button").attr("data-action-modal",t.action.key),document.querySelector("#privacy-audit-confirmation .wps-privacy-list__button").setAttribute("data-audit",t.name)):s.find(".wps-privacy-list__button").attr("data-action",t.action.key),s.find(".wps-privacy-list__button").data("action",t.action.key),s.find(".wps-privacy-list__button").text(t.action.value)}}function loadAuditItems(a,s){let t=jQuery(s);t.html(""),t.parent().removeClass("loading");a=Array.isArray(a)?a:Object.values(a);a.forEach(a=>{a=generateAuditElement(a);t.append(a)}),0===a.length?jQuery(s).parent().css("display","none"):jQuery(s).parent().css("display","block")}function loadPassed(a){loadAuditItems(a,".wps-privacy-passed .wps-audit-cards__container")}function LoadUnPassed(a){loadAuditItems(a,".wps-privacy-unpassed .wps-audit-cards__container")}function loadRecommended(a){loadAuditItems(a,".wps-privacy-recommended .wps-audit-cards__container"),0<Object.keys(a).length&&(document.querySelector(".wps-privacy-recommended").style.display="block")}jQuery(document).ready(()=>{var a={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_getPrivacyStatus"},a=Object.assign(a,wps_js.global.request_params);jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:a,timeout:3e4,success:function({data:a,success:s}){if(0==s)return console.log(a);updateComplianceInfo(a.compliance_status),a.unpassed_audits&&LoadUnPassed(a.unpassed_audits),a.passed_audits&&loadPassed(a.passed_audits),a.recommended_audits&&loadRecommended(a.recommended_audits),loadFaqs(a.faq_list)},error:function(a,s,t){console.log(t)}})}),document.addEventListener("click",a=>{var s,t,a=a.target.closest(".wps-privacy-list__button[data-action]");a&&(s=(a=jQuery(a)).data("audit"),t=a.data("action"),jQuery("#"+s),a.hasClass("loading")||(a.addClass("loading"),jQuery(".wps-privacy-questions .wps-privacy-list__items").addClass("loading"),jQuery(".wps-privacy-status").addClass("loading"),a={wps_nonce:wps_js.global.rest_api_nonce,action:"wp_statistics_updatePrivacyStatus",audit_name:s,audit_action:t},a=Object.assign(a,wps_js.global.request_params),jQuery.ajax({url:wps_js.global.admin_url+"admin-ajax.php",type:"POST",dataType:"json",data:a,timeout:3e4,success:function({data:a,success:s}){if(0==s)return console.log(a);location.reload()},error:function(a,s,t){console.log(t)}})))});let d=a=>a?`
        <div class="wps-audit-card__icon">${a}</div>`:"";function generateAuditElement(a){let s="",t=a.status,i=a.compliance.value,e=(a.hasOwnProperty("action")&&(i=a.action.value,"resolve"===a.action.key?(s+=`data-audit="${a.name}"  data-action-modal="${a.action.key}"`,t=a.action.key+" js-openModal-privacy-audit-confirmation",document.querySelector("#privacy-audit-confirmation .wps-privacy-list__button").setAttribute("data-audit",a.name)):(s+=`data-audit="${a.name}" data-action="${a.action.key}"`,t=a.action.key)),`
        <div id="${a.name}"  class="wps-audit-card wps-audit-card--${a.status}">
            <div class="wps-audit-card__header">
                <div class="wps-audit-card__top">
                    <div class="wps-audit-card__details">
                         ${d(a?.icon)}
                          <div>
                            <h3 class="wps-audit-card__title">${a.title}</h3>
                          </div>
                    </div>
                    <div class="wps-audit-card__status">`);return a.hasOwnProperty("action")||(e+=' <span class="wps-audit-card__status-indicator"></span>'),e+=` 
                         <a ${s} class="wps-privacy-list__button wps-privacy-list__button--${t}">${i}</a>
                        <button class="wps-audit-card__toggle" aria-expanded="false"></button>
                    </div>
                </div>
            </div>
            <div class="wps-audit-card__body">
                <div class="wps-audit-card__content-text">${a.notes}</div>
            </div>
        </div>`}function loadFaqs(a){let s=jQuery(".wps-privacy-questions .wps-audit-cards__container");s.html(""),s.removeClass("loading"),a.forEach(a=>{a=generateFaqElement(a);s.append(a)})}function generateFaqElement(a){let s=`
        <div class="wps-audit-card wps-audit-card--${a.status}">
            <div class="wps-audit-card__header">
                <div class="wps-audit-card__top">
                    <div class="wps-audit-card__details">
                        ${d(a.icon)}
                        <div>
                            <h3 class="wps-audit-card__title">${a.title}</h3>
                            <p class="wps-audit-card__summary">${a.summary}</p>
                        </div>
                    </div>
                    <div class="wps-audit-card__status">
                        <span class="wps-audit-card__status-indicator"></span>`;return"warning"===a.status&&(s+=`<span class="wps-audit-card__status-text">${wps_js._("action_required")}</span>`),s+=`
                        <button class="wps-audit-card__toggle" aria-expanded="false"></button>
                    </div>
                </div>
            </div>
            <div class="wps-audit-card__body">
                <div class="wps-audit-card__content-text">${a.notes}</div> 
            </div>
        </div>`}}
if(wps_js.isset(wps_js.global,"request_params","page")&&"referrals"===wps_js.global.request_params.page){let d=wps_js.rectangle_placeholder();function renderChart(e,t){if(document.getElementById(e)){let a=jQuery("#"+e).parent();a.append(d),t?.data?.datasets&&0!==t.data.datasets.length?wps_js.new_line_chart(t,e,{animation:{onComplete:()=>{jQuery(".wps-ph-item").remove(),jQuery(".wps-postbox-chart--data").removeClass("c-chart__wps-skeleton--legend"),a.removeClass("c-chart__wps-skeleton")}}}):(a.html(wps_js.no_results()),jQuery(".wps-ph-item").remove())}}let a=(a,e)=>{var t;document.getElementById(a)&&((t=jQuery("#"+a).parent()).find(".wps-ph-item").remove(),t.append(d),e.data&&0!==e.data.length?(jQuery(".wps-ph-item").remove(),wps_js.horizontal_bar(a,e.labels,e.data,e.icons)):t.html(wps_js.no_results()))};if("undefined"!=typeof Wp_Statistics_Referrals_Object){let a=Wp_Statistics_Referrals_Object.source_category_chart_data,e=(renderChart("sourceCategoriesChart",a),Wp_Statistics_Referrals_Object.social_media_chart_data),t=(renderChart("socialMediaChart",e),Wp_Statistics_Referrals_Object.search_engine_chart_data);renderChart("incomeVisitorChart",t)}let e={data:{labels:[{formatted_date:"Apr 1",date:"2025-04-01",day:"Tuesday"},{formatted_date:"Apr 2",date:"2025-04-02",day:"Wednesday"},{formatted_date:"Apr 3",date:"2025-04-03",day:"Thursday"},{formatted_date:"Apr 4",date:"2025-04-04",day:"Friday"},{formatted_date:"Apr 5",date:"2025-04-05",day:"Saturday"}],datasets:[{label:"Total",data:[6,8,12,0,0],slug:"total"},{label:"Google",data:[6,0,0,0,0],slug:null}]},previousData:{labels:[{formatted_date:"Mar 1",date:"2025-03-01",day:"Saturday"},{formatted_date:"Mar 2",date:"2025-03-02",day:"Sunday"},{formatted_date:"Mar 3",date:"2025-03-03",day:"Monday"},{formatted_date:"Mar 4",date:"2025-03-04",day:"Tuesday"},{formatted_date:"Mar 5",date:"2025-03-05",day:"Wednesday"}],datasets:[{label:"Total",data:[34,40,71,75,77]}]}},t=(renderChart("referral-search-engines-chart",e),{data:{labels:[{formatted_date:"Apr 1",date:"2025-04-01",day:"Tuesday"},{formatted_date:"Apr 2",date:"2025-04-02",day:"Wednesday"},{formatted_date:"Apr 3",date:"2025-04-03",day:"Thursday"},{formatted_date:"Apr 4",date:"2025-04-04",day:"Friday"},{formatted_date:"Apr 5",date:"2025-04-05",day:"Saturday"}],datasets:[{label:"Visitors",data:[6,0,0,0,0],slug:"visitors"},{label:"Views",data:[6,0,0,0,0],slug:"views"}]},previousData:{labels:[{formatted_date:"Mar 1",date:"2025-03-01",day:"Saturday"},{formatted_date:"Mar 2",date:"2025-03-02",day:"Sunday"},{formatted_date:"Mar 3",date:"2025-03-03",day:"Monday"},{formatted_date:"Mar 4",date:"2025-03-04",day:"Tuesday"},{formatted_date:"Mar 5",date:"2025-03-05",day:"Wednesday"}],datasets:[{label:"Visitors",data:[34,40,71,75,77]},{label:"Views",data:[14,20,81,85,87]}]}}),r=(renderChart("referralVisitorChart",t),{data:{labels:[{formatted_date:"Apr 1",date:"2025-04-01",day:"Tuesday"},{formatted_date:"Apr 2",date:"2025-04-02",day:"Wednesday"},{formatted_date:"Apr 3",date:"2025-04-03",day:"Thursday"},{formatted_date:"Apr 4",date:"2025-04-04",day:"Friday"},{formatted_date:"Apr 5",date:"2025-04-05",day:"Saturday"}],datasets:[{label:"Total",data:[6,0,0,0,0],slug:"total"},{label:"Google",data:[6,0,0,0,0],slug:null}]},previousData:{labels:[{formatted_date:"Mar 1",date:"2025-03-01",day:"Saturday"},{formatted_date:"Mar 2",date:"2025-03-02",day:"Sunday"},{formatted_date:"Mar 3",date:"2025-03-03",day:"Monday"},{formatted_date:"Mar 4",date:"2025-03-04",day:"Tuesday"},{formatted_date:"Mar 5",date:"2025-03-05",day:"Wednesday"}],datasets:[{label:"Total",data:[34,40,71,75,77]}]}}),s=(renderChart("referral-social-media-chart",r),{data:[19],labels:["Germany","Croatia"],icons:["assets/images/flags/de.svg","assets/images/flags/hr.svg"]}),o=(a("referral-top-countries",s),{data:[11,5,2,1],labels:["Chrome","Microsoft Edge","Opera","Firefox"],icons:["assets/images/browser/chrome.svg","assets/images/browser/microsoft_edge.svg","assets/images/browser/opera.svg","assets/images/browser/firefox.svg"]}),l=(a("referral-top-browser",o),{data:[19],labels:["Desktop"],icons:[]});a("referral-device-type",l)}
function wp_statistics_getParameterValue(t){t=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);if(t)return t[1]}function wp_statistics_enableTab(t){jQuery(".wp-statistics-settings .wps-optionsMenu .wps-optionsMenuItem").removeClass("current"),jQuery(".wp-statistics-settings .tab-content").removeClass("current"),jQuery("[data-tab="+t+"]").addClass("current"),jQuery("#"+t).addClass("current"),jQuery("#wp-statistics-settings-form").length&&(t=jQuery(location).attr("href")+"&tab="+t,jQuery("#wp-statistics-settings-form").attr("action",t).submit())}if(jQuery(".wp-statistics-settings").length){var current_tab=wp_statistics_getParameterValue("tab");current_tab&&wp_statistics_enableTab(current_tab),jQuery(".wp-statistics-settings .wps-optionsMenu .wps-optionsMenuItem").click(function(){wp_statistics_enableTab(jQuery(this).attr("data-tab"))});let t=document.querySelector('input[name="user_custom_header_ip_method"]'),e=document.getElementById("custom-header");function checkCustomHeader(){e.checked=!0}t&&e&&(e.addEventListener("change",function(){e.checked&&t.focus()}),t.addEventListener("click",checkCustomHeader),t.addEventListener("paste",checkCustomHeader),t.addEventListener("input",checkCustomHeader),t.addEventListener("dragover",checkCustomHeader),t.addEventListener("drop",checkCustomHeader))}
if(wps_js.isset(wps_js.global,"request_params","page")&&"settings"===wps_js.global.request_params.page){if(jQuery("#wp-statistics-settings-form ul.tabs li").click(function(e){e.preventDefault();e=$(this).attr("data-tab");"undefined"!=typeof localStorage&&localStorage.setItem("wp-statistics-settings-active-tab",e)}),"undefined"!=typeof localStorage&&wps_js.isset(wps_js.global,"request_params","save_setting")&&"yes"===wps_js.global.request_params.save_setting){let e=localStorage.getItem("wp-statistics-settings-active-tab");e&&0<e.length&&$("#wp-statistics-settings-form ul.tabs li[data-tab="+e+"]").click()}class a{constructor(){this.initialize()}initialize(){document.querySelectorAll('[class^="js-wps-show_if_"]').forEach(l=>{let t=[...l.className.split(" ")],s=()=>{let s=0,a=0;var e;t.forEach(e=>{var t;e.includes("_enabled")||e.includes("_disabled")?(s++,t=this.extractId(l),(t=document.querySelector("#"+t)||document.querySelector(`#wps_settings\\[${t}\\]`))&&"checkbox"===t.type&&(t.checked&&e.includes("_enabled")||!t.checked&&e.includes("_disabled"))&&a++):e.includes("_equal_")&&(s++,{id:t,value:e}=this.extractIdAndValue(e),t)&&e&&(t=document.querySelector(`#wps_settings\\[${t}\\]`))&&"select-one"===t.type&&t.value===e&&a++}),0<s&&a===s?this.toggleDisplay(l):(l.style.display="none",(e=l.querySelector('input[type="checkbox"]'))&&(e.checked=!1))};s(),t.forEach(e=>{var t;e.includes("_enabled")||e.includes("_disabled")?(t=this.extractId(l),(t=document.querySelector(`#wps_settings\\[${t}\\]`))&&t.addEventListener("change",s)):e.includes("_equal_")&&(t=this.extractIdAndValue(e).id,t)&&(e=document.querySelector(`#wps_settings\\[${t}\\]`))&&"select-one"===e.type&&e.addEventListener("change",s)})})}toggleDisplay(e){var t="tr"===e.tagName.toLowerCase()?"table-row":"table-cell";e.style.display=t}extractId(e){var t;for(t of e.className.split(" "))if(t.startsWith("js-wps-show_if_"))return t.replace("js-wps-show_if_","").replace("_enabled","").replace("_disabled","");return null}extractIdAndValue(e){let t,s;var a;return e.startsWith("js-wps-show_if_")&&-1!==(a=(e=e.split("_")).indexOf("equal"))&&2<a&&a<e.length-1&&(t=e.slice(2,a).join("_"),s=e.slice(a+1).join("_")),{id:t,value:s}}}new a}
if(wps_js.isset(wps_js.global,"request_params","page")&&"taxonomies"===wps_js.global.request_params.page){let a={ago:0,type:wps_js.global.request_params.taxonomy,ID:0};["from","to","ID"].forEach(s=>{wps_js.isset(wps_js.global,"request_params",s)&&(a[s]=wps_js.global.request_params[s])}),jQuery("span[id^='number-total-']").html(wps_js.rectangle_placeholder("wps-text-placeholder")),wps_js.run_meta_box("pages-chart",a,!1)}
document.addEventListener("click",function(a){if(wps_js.isset(wps_js.global,"request_params","page")&&("privacy-audit"===wps_js.global.request_params.page||"tracker-debugger"===wps_js.global.request_params.page)&&!a.target.closest(".js-openModal-wps-modal-privacy-audit-confirmation")&&!a.target.closest("a[data-action]")){var s=a.target.closest(".wps-audit-card__header");if(s){a.preventDefault();let e=s.closest(".wps-audit-card");e&&(a=document.querySelectorAll(".wps-audit-card"),s=e.classList.contains("wps-audit-card--expanded"),a.forEach(a=>{a!==e&&(a.classList.remove("wps-audit-card--expanded"),a.classList.add("wps-audit-card--collapsed"),a=a.querySelector(".wps-audit-card__toggle"))&&a.setAttribute("aria-expanded","false")}),s?(e.classList.remove("wps-audit-card--expanded"),e.classList.add("wps-audit-card--collapsed"),(a=e.querySelector(".wps-audit-card__toggle"))&&a.setAttribute("aria-expanded","false")):(e.classList.remove("wps-audit-card--collapsed"),e.classList.add("wps-audit-card--expanded"),(s=e.querySelector(".wps-audit-card__toggle"))&&s.setAttribute("aria-expanded","true")))}}});
if(wps_js.isset(wps_js.global,"request_params","page")&&"visitors"===wps_js.global.request_params.page){if(document.getElementById("trafficTrendsChart")){let t=Wp_Statistics_Visitors_Object.traffic_chart_data;wps_js.new_line_chart(t,"trafficTrendsChart",null)}if(document.getElementById("LoggedInUsersChart")){let t=Wp_Statistics_Visitors_Object.logged_in_chart_data;wps_js.new_line_chart(t,"LoggedInUsersChart",null)}}

wps_js.date_picker(),("index.php"===wps_js.global.page.file||wps_js.is_active("overview_page")||"post-new.php"===wps_js.global.page.file||"post.php"===wps_js.global.page.file&&wps_js.isset(wps_js.global,"page","ID"))&&wps_js.run_meta_boxes();
jQuery(document).ready(function(t){var n;t(document.body).on("click",".wps_img_settings_upload_button",function(e){e.preventDefault();var a=t(this);n||((n=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",library:{type:["image"]},multiple:!1})).on("menu:render:default",function(e){e.unset("library-separator"),e.unset("gallery"),e.unset("featured-image"),e.unset("embed"),e.unset("playlist"),e.unset("video-playlist"),e.set({})}),n.on("insert",function(){n.state().get("selection").each(function(e,t){e=e.toJSON(),a.parent().parent().find('input[type="text"]').val(e.url),a.parent().parent().parent().find("#wps-upload-image-preview").attr("src",e.url),a.parent().parent().find(".wps_img_settings_clear_upload_button").show()})})),n.open()}),t(document.body).on("click",".wps_img_settings_clear_upload_button",function(e){e.preventDefault(),t(this).parent().prev().val(""),t("#wps-upload-image-preview").attr("src",wps_ar_vars.default_avatar_url),t(".wps_img_settings_clear_upload_button").hide()})});});