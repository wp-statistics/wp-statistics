(()=>{"use strict";const e=window.React,t=window.wp.element,n=window.wp.components,r=window.wp.i18n,a=({handleStep:a})=>{const[o,l]=(0,t.useState)("a");return(0,e.createElement)(n.Card,null,(0,e.createElement)(n.CardBody,null,(0,e.createElement)("h2",{style:{fontFamily:500,fontSize:24,lineHeight:1.3,margin:"8px 0px"}},(0,r.__)("We’ve updated WP Statistics to use a faster, more efficient database structure!","wp-gutenberg")),(0,e.createElement)("p",{style:{color:"#56585A",fontSize:16}},"By running this migration, you’ll safely move all your"," ",(0,e.createElement)("span",{style:{color:"#000"}},"older stats")," ","into the new system. Any visits recorded"," ",(0,e.createElement)("span",{style:{color:"#000"}},"after")," ","your update are already being stored in the new format, so you won’t lose any current data"),(0,e.createElement)("div",{style:{backgroundColor:"#F6FAFF",border:"1px solid #4FA1FF66",borderRadius:"8px",padding:"16px",margin:"16px 0px",display:"flex",alignItems:"start",gap:8}},(0,e.createElement)("div",null,(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuNTAxMDYgMTQuNTg0NkMzLjU4OTA0IDE0LjU4NDYgMC40MTc3MjUgMTEuNDEzMyAwLjQxNzcyNSA3LjUwMTNDMC40MTc3MjUgMy41ODkyOCAzLjU4OTA0IDAuNDE3OTY5IDcuNTAxMDYgMC40MTc5NjlDMTEuNDEzIDAuNDE3OTY5IDE0LjU4NDQgMy41ODkyOCAxNC41ODQ0IDcuNTAxM0MxNC41ODQ0IDExLjQxMzMgMTEuNDEzIDE0LjU4NDYgNy41MDEwNiAxNC41ODQ2Wk02Ljc5MjczIDYuNzkyOTdWMTEuMDQzSDguMjA5MzlWNi43OTI5N0g2Ljc5MjczWk02Ljc5MjczIDMuOTU5NjRWNS4zNzYzSDguMjA5MzlWMy45NTk2NEg2Ljc5MjczWiIgZmlsbD0iIzMwODhFQyIvPgo8L3N2Zz4K",style:{width:"20px",height:"20px",marginTop:5},alt:"info-icon"})),(0,e.createElement)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},(0,e.createElement)("p",{style:{fontSize:"14px"}},"We recommend making a complete backup of your WordPress site. This is just in case you ever need to revert changes."," ",(0,e.createElement)("a",{href:"#",style:{textDecoration:"underline"}},"Learn how to back up your site")),(0,e.createElement)("p",{style:{fontSize:"14px"}},"Keep in mind the migration could take time. (anywhere from minutes to a few hours, depending on your site’s size and server resources)."),(0,e.createElement)("p",{style:{fontSize:"14px"}},"You can pause, cancel, or restart the migration at any point. Your old data remains untouched until the process fully completes."))),(0,e.createElement)("p",{style:{fontSize:"16px"}},"When you’re ready, simply choose your preferred migration option below and click Next. You’re in full control, and your data will remain safe every step of the way."),(0,e.createElement)("h2",{style:{fontFamily:500,fontSize:24,lineHeight:1.3,marginTop:32,marginBottom:16}},(0,r.__)("Choose Your Preferred Migration","wp-gutenberg")),(0,e.createElement)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},(0,e.createElement)(n.Card,{style:{border:"1"===o?"2px solid #1e87f0":"1px solid #ccc",borderRadius:8,padding:"24px",cursor:"pointer",boxShadow:"none"},onClick:()=>{}},(0,e.createElement)(n.CardBody,{style:{padding:"0px"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},(0,e.createElement)("p",{style:{fontSize:"14px",fontFamily:500,color:"#1E1E20",fontWeight:"700"}},"Full Detailed Migration"),(0,e.createElement)("input",{type:"radio",id:"1",name:"migration-option",value:"1",checked:"1"===o,onChange:()=>l("1")})),(0,e.createElement)("p",{style:{padding:"8px 0px",color:"#56585A"}},"Moves all your historical data—visitors, devices, referral sources, search engines, and more—into the new database structure."),(0,e.createElement)("ul",{style:{listStyle:"disc",paddingLeft:"30px"}},(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Estimated Time:")," ","Depending on your site’s traffic history and server resources, this process can range from a few minutes to several hours."),(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Who It’s For:")," ","Users who want to preserve every bit of their analytics data without losing any detail.")))),(0,e.createElement)(n.Card,{style:{border:"2"===o?"2px solid #1e87f0":"1px solid #ccc",borderRadius:8,padding:"24px",cursor:"pointer",boxShadow:"none"},onClick:()=>{}},(0,e.createElement)(n.CardBody,{style:{padding:"0px"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},(0,e.createElement)("p",{style:{fontSize:"14px",fontFamily:500,color:"#1E1E20",fontWeight:"700"}},"Summary-Only Migration"),(0,e.createElement)("input",{type:"radio",id:"2",name:"migration-option",value:"2",checked:"2"===o,onChange:()=>l("2")})),(0,e.createElement)("p",{style:{padding:"8px 0px",color:"#56585A"}},"Quickly transfers only the visitor counts and page-view totals for older data. You’ll lose detailed information (like devices, referrers, and search engines) for past visitors."),(0,e.createElement)("ul",{style:{listStyle:"disc",paddingLeft:"30px"}},(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Estimated Time:")," ","Typically much faster than a full migration, often just a few minutes."),(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Who It’s For:")," ","Users who just need high-level trends and want the process done ASAP."),(0,e.createElement)("li",null,(0,e.createElement)("a",null,"Learn more about Summary-Only Migration"))))),(0,e.createElement)(n.Card,{style:{border:"3"===o?"2px solid #1e87f0":"1px solid #ccc",borderRadius:8,padding:"24px",cursor:"pointer",boxShadow:"none"},onClick:()=>{}},(0,e.createElement)(n.CardBody,{style:{padding:"0px"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},(0,e.createElement)("p",{style:{fontSize:"14px",fontFamily:500,color:"#1E1E20",fontWeight:"700"}},"Hybrid Migration"),(0,e.createElement)("input",{type:"radio",id:"2",name:"migration-option",value:"3",checked:"3"===o,onChange:()=>l("3")})),(0,e.createElement)("p",{style:{padding:"8px 0px",color:"#56585A"}},"Imports full, detailed stats for your most recent history—by default the last 90 days, while older data is brought in as summary-only."),(0,e.createElement)("ul",{style:{listStyle:"disc",paddingLeft:"30px"}},(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Estimated Time:")," ","Longer than summary-only, but faster than a full detailed migration."),(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Who It’s For:")," ","Users who want to retain granular data for a recent timeframe while speeding up the migration for\u2028older records.")),(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},(0,e.createElement)("p",null,"Enter the number of days to migrate with full detail:"),(0,e.createElement)("input",{style:{outline:"none",border:"1px solid #DADCE0",width:"46px",height:"32px",borderRadius:"3px"}})))))),(0,e.createElement)(n.CardFooter,{style:{display:"flex",justifyContent:"flex-end",paddingTop:"32px",paddingBottom:"32px"}},(0,e.createElement)("button",{style:{background:"#404BF2",outline:"none",border:"none",padding:"12px 16px",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:()=>a("step2")},"Next Step")))},o=({handleStep:t})=>(0,e.createElement)(n.Card,null,(0,e.createElement)(n.CardBody,null,(0,e.createElement)("h2",{style:{fontFamily:500,fontSize:24,lineHeight:1.3,marginTop:"8px",marginBottom:"16px"}},(0,r.__)("Confirmation Step","wp-gutenberg")),(0,e.createElement)(n.Card,{style:{border:"1px solid #EEEFF1",borderRadius:8,padding:"24px",cursor:"pointer",boxShadow:"none",background:"#FAFAFB"},onClick:()=>{}},(0,e.createElement)(n.CardBody,{style:{padding:"0px"}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"}},(0,e.createElement)("p",{style:{fontSize:"14px",fontFamily:500,color:"#1E1E20",fontWeight:"700"}},"Full Detailed Migration"),(0,e.createElement)("input",{type:"radio",disabled:!0,id:"1",name:"migration-option",value:"1",checked:!0})),(0,e.createElement)("p",{style:{padding:"8px 0px",color:"#56585A"}},"Moves all your historical data—visitors, devices, referral sources, search engines, and more—into the new database structure."),(0,e.createElement)("ul",{style:{listStyle:"disc",paddingLeft:"30px"}},(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Estimated Time:")," ","Depending on your site’s traffic history and server resources, this process can range from a few minutes to several hours."),(0,e.createElement)("li",null,(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Who It’s For:")," ","Users who want to preserve every bit of their analytics data without losing any detail.")))),(0,e.createElement)("div",{style:{display:"flex",gap:"10px",flexDirection:"column",marginTop:"28px"}},(0,e.createElement)("p",{style:{fontSize:"15px"}},(0,e.createElement)("span",{style:{fontWeight:"bold"}},"What’s Next?")," ","We’ll migrate all of your historical data—visitors, devices, search engines, referrers, and more—into the new database structure."),(0,e.createElement)("p",{style:{fontSize:"15px"}},(0,e.createElement)("span",{style:{fontWeight:"bold"}},"What’s Migrated?")," ","Absolutely everything from your past analytics, so you retain complete visibility into your site’s historical data."," "),(0,e.createElement)("p",{style:{fontSize:"15px"}},(0,e.createElement)("span",{style:{fontWeight:"bold"}},"What’s Lost?")," ","Nothing! All detailed stats will be preserved."," "),(0,e.createElement)("p",{style:{fontSize:"15px"}},(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Estimated Time:")," ","Depending on the size of your site and server performance, it can take anywhere from minutes to a few hours."),(0,e.createElement)("div",{style:{padding:"15px 0px"}},(0,e.createElement)("p",{style:{fontSize:"15px"}},(0,e.createElement)("span",{style:{fontWeight:"bold"}},"Regardless of the choice,")," ","you could also include these reminders at the bottom of the confirmation step:"),(0,e.createElement)("ul",{style:{listStyle:"disc",paddingLeft:"22px",margin:"5px 0px"}},(0,e.createElement)("li",{style:{fontSize:"14px"}},"You can pause, cancel, or restart the migration at any time."),(0,e.createElement)("li",{style:{fontSize:"14px"}},"Nothing is deleted from your old data source until the migration is fully complete."),(0,e.createElement)("li",null,(0,e.createElement)("p",{style:{fontSize:"14px"}},"Need more details or help? ",(0,e.createElement)("a",{href:""},"Check our Migration FAQs or contact support."))))))),(0,e.createElement)(n.CardFooter,{style:{flexDirection:"column"}},(0,e.createElement)("div",null,(0,e.createElement)("p",{style:{fontWeight:"500",fontSize:"16px"}},"Ready to proceed?"),(0,e.createElement)("p",{style:{fontWeight:"400",fontSize:"14px",color:"#56585A",paddingTop:"4px"}},"You can"," ",(0,e.createElement)("span",{style:{fontWeight:"500",color:"#000"}},"go back")," ","to change the number of days or pick a different migration method.Or, click"," ",(0,e.createElement)("span",{style:{fontWeight:"500",color:"#000"}},"Start Migration")," ","to begin.")),(0,e.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"10px 0px"}},(0,e.createElement)("p",{style:{cursor:"pointer"},onClick:()=>t("step1")},"< Go Back"),(0,e.createElement)("button",{style:{background:"#404BF2",outline:"none",border:"none",padding:"12px 16px",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:()=>t("step3")},"Start Migration")))),l=({handleStep:t})=>{const a=[{id:1,name:"Visitor Records",status:"Completed",records:"5,200 records migrated"},{id:2,name:"Page Views Data",status:"Completed",records:"12,300 records migrated"},{id:3,name:"Geo-Location Data",status:"In Progress",progressText:"(next)",records:"4,100 of 10,000 completed",isBold:!0},{id:4,name:"Referral Traffic",status:"Pending",records:"0 of 8,400 completed"},{id:5,name:"Author Performance Data",status:"Pending",records:"0 of 2,000 completed"}],o={backgroundColor:"#f8f9fa",color:"#6c757d",textAlign:"left",padding:"12px 15px",fontWeight:600,borderBottom:"1px solid #e0e0e0"},l={padding:"12px 15px",borderBottom:"1px solid #eef2f7",verticalAlign:"middle",background:"white"},i={marginRight:"5px"};return(0,e.createElement)(n.Card,{style:{width:window.innerWidth<=768?"100%":774}},(0,e.createElement)(n.CardBody,null,(0,e.createElement)("h2",{style:{fontFamily:500,fontSize:18,lineHeight:1.3,marginTop:"8px",marginBottom:"16px"}},(0,r.__)("Overall Progress","wp-gutenberg")),(0,e.createElement)("div",null,(0,e.createElement)("h4",{style:{fontFamily:500,fontSize:16,marginBottom:10}},"100%"," Completed"),(0,e.createElement)("div",{style:{height:"5px",borderRadius:"24px",background:"#E7E7E8",width:"100%"}},(0,e.createElement)("div",{style:{height:"5px",borderRadius:"24px",background:"#019939",width:"100%"}}))),(0,e.createElement)("div",{style:{border:"2px solid #eef2f7",borderRadius:"8px",margin:"24px 0px"}},(0,e.createElement)("table",{style:{width:"100%",borderCollapse:"collapse",fontFamily:"Arial, sans-serif",overflow:"hidden",borderRadius:"8px"}},(0,e.createElement)("thead",null,(0,e.createElement)("tr",null,(0,e.createElement)("th",{style:o},"Task Name"),(0,e.createElement)("th",{style:o},"Status"),(0,e.createElement)("th",{style:o},"Records"))),(0,e.createElement)("tbody",null,a.map(((t,n)=>{const r=((e,t="")=>{switch(e){case"Completed":return{icon:"✅",text:"Completed"};case"In Progress":return{icon:"🔄",text:`In Progress ${t}`.trim()};case"Pending":return{icon:"⏳",text:"Pending"};default:return{icon:"",text:e}}})(t.status,t.progressText),o=n===a.length-1,s={...l,borderBottom:o?"none":l.borderBottom},d={...s,color:"#333",fontWeight:t.isBold?600:"normal"},c={...s,color:r.color,fontWeight:t.isBold?600:"normal"},p={...s,color:t.isBold?"#333":"#6c757d",fontWeight:t.isBold?600:"normal"};return(0,e.createElement)("tr",{key:t.id},(0,e.createElement)("td",{style:d},t.name),(0,e.createElement)("td",{style:c},(0,e.createElement)("span",{style:i},r.icon),r.text),(0,e.createElement)("td",{style:p},t.records))}))))),!1,(0,e.createElement)("div",{style:{maxWidth:"600px",marginTop:"40px",marginBottom:"20px",fontFamily:"sans-serif",color:"#333"}},(0,e.createElement)("h2",{style:{fontSize:"1.2em",fontWeight:"bold",marginBottom:"10px"}},(0,e.createElement)("span",{style:{marginRight:"5px"}},"🎉")," Migration Completed Successfully!"),(0,e.createElement)("p",{style:{fontSize:15,color:"#0C0C0D"}},"All your historical data has been successfully migrated!"),(0,e.createElement)("p",{style:{fontSize:15,color:"#56585A"}}," ","You can now take full advantage of WP Statistics' new structure."),(0,e.createElement)("p",{style:{fontWeight:"bold",marginBottom:"2px",marginTop:"8px",fontSize:15}},"Next Steps:"),(0,e.createElement)("ul",{style:{listStyleType:"disc",marginLeft:"20px",paddingLeft:"20px",color:"#555",lineHeight:1.6,margin:0}},(0,e.createElement)("li",{style:{marginBottom:"5px",color:"#56585A",fontSize:15}},"Check out your updated stats in the"," ",(0,e.createElement)("a",{href:"#",style:{color:"#0073aa",textDecoration:"underline"}},"WP Statistics Dashboard"),"."),(0,e.createElement)("li",{style:{marginBottom:"5px",color:"#56585A",fontSize:15}},"If you have any questions, visit our"," ",(0,e.createElement)("a",{href:"#",style:{color:"#0073aa",textDecoration:"underline"}},"Migration FAQs")," ","or"," ",(0,e.createElement)("a",{href:"#",style:{color:"#0073aa",textDecoration:"underline"}},"contact support"),".")))),!1)},i=()=>new URLSearchParams(window.location.search).get("step")||"step1",s=()=>{const[n,r]=(0,t.useState)(i()),s=e=>{const t=new URL(window.location.href);t.searchParams.set("step",e),window.history.pushState({},"",t),r(e)};return(0,t.useEffect)((()=>{const e=()=>{r(i())};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)}),[]),(0,e.createElement)("div",{className:"wps-wrap",style:{maxWidth:window.innerWidth<=768?"100%":774}},"step1"===n&&(0,e.createElement)(a,{handleStep:s}),"step2"===n&&(0,e.createElement)(o,{handleStep:s}),"step3"===n&&(0,e.createElement)(l,{handleStep:s}))};document.addEventListener("DOMContentLoaded",(()=>{const n=document.getElementById("wps-data-migration-page");n&&(0,t.render)((0,e.createElement)(s,null),n)}))})();