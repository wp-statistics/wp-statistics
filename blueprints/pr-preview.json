{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "landingPage": "/wp-admin/admin.php?page=wp-statistics",
  "preferredVersions": {
    "php": "8.2",
    "wp": "latest"
  },
  "features": {
    "networking": true
  },
  "steps": [
    {
      "step": "defineWpConfigConsts",
      "consts": {
        "WP_DEBUG": true,
        "WP_DEBUG_LOG": true,
        "WP_DEBUG_DISPLAY": true,
        "SCRIPT_DEBUG": true
      }
    },
    {
      "step": "mkdir",
      "path": "/wordpress/wp-content/plugins/wp-statistics"
    },
    {
      "step": "installPlugin",
      "pluginZipFile": {
        "resource": "url",
        "url": "{{ZIP_URL}}"
      },
      "options": {
        "activate": true
      }
    },
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    },
    {
      "step": "setSiteOptions",
      "options": {
        "blogname": "WP Statistics PR Preview",
        "blogdescription": "Pull Request Testing Environment"
      }
    },
    {
      "step": "runPHP",
      "code": "<?php require_once 'wp-load.php'; update_option('wps_settings', array_merge(get_option('wps_settings', []), ['useronline' => '1', 'visits' => '1', 'visitors' => '1', 'pages' => '1'])); ?>"
    }
  ]
}
